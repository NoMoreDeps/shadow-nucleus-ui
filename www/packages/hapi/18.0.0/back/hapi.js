!function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=52)}([function(e,t,s){"use strict";const n=s(24),i=s(10),a=s(8),o=s(55),r=s(56),c={};t.deepEqual=o,t.clone=function(e,s={},n=null){if("object"!=typeof e||null===e)return e;const i=n||new Map,a=i.get(e);if(a)return a;let o,r=!1;const l=Array.isArray(e);if(l)o=[],r=!0;else if(Buffer.isBuffer(e))o=Buffer.from(e);else if(e instanceof Date)o=new Date(e.getTime());else if(e instanceof RegExp)o=new RegExp(e);else{const t=Object.getPrototypeOf(e);t&&t.isImmutable?o=e:(o=Object.create(t),r=!0)}if(i.set(e,o),r){const n=c.keys(e,s);for(let a=0;a<n.length;++a){const r=n[a];if(l&&"length"===r)continue;const c=Object.getOwnPropertyDescriptor(e,r);c&&(c.get||c.set)?Object.defineProperty(o,r,c):Object.defineProperty(o,r,{enumerable:!c||c.enumerable,writable:!0,configurable:!0,value:t.clone(e[r],s,i)})}l&&(o.length=e.length)}return o},c.keys=function(e,t={}){return t.symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)},t.merge=function(e,s,n,i){if(t.assert(e&&"object"==typeof e,"Invalid target value: must be an object"),t.assert(null==s||"object"==typeof s,"Invalid source value: must be null, undefined, or an object"),!s)return e;if(Array.isArray(s)){t.assert(Array.isArray(e),"Cannot merge array onto an object"),!1===i&&(e.length=0);for(let n=0;n<s.length;++n)e.push(t.clone(s[n]));return e}const a=c.keys(s);for(let o=0;o<a.length;++o){const r=a[o];if("__proto__"===r||!Object.prototype.propertyIsEnumerable.call(s,r))continue;const c=s[r];c&&"object"==typeof c?!e[r]||"object"!=typeof e[r]||Array.isArray(e[r])!==Array.isArray(c)||c instanceof Date||Buffer.isBuffer(c)||c instanceof RegExp?e[r]=t.clone(c):t.merge(e[r],c,n,i):null!=c?e[r]=c:!1!==n&&(e[r]=c)}return e},t.applyToDefaults=function(e,s,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!s||!0===s||"object"==typeof s,"Invalid options value: must be true, falsy or an object"),!s)return null;const i=t.clone(e);return!0===s?i:t.merge(i,s,!0===n,!1)},t.cloneWithShallow=function(e,s,n){if(!e||"object"!=typeof e)return e;const i=c.store(e,s),a=t.clone(e,n);return c.restore(a,e,i),a},c.store=function(e,s){const n=new Map;for(let i=0;i<s.length;++i){const a=s[i],o=t.reach(e,a);"object"!=typeof o&&"function"!=typeof o||(n.set(a,o),c.reachSet(e,a,void 0))}return n},c.restore=function(e,t,s){for(const[n,i]of s)c.reachSet(e,n,i),c.reachSet(t,n,i)},c.reachSet=function(e,t,s){const n=Array.isArray(t)?t:t.split(".");let i=e;for(let e=0;e<n.length;++e){const t=n[e];e+1===n.length&&(i[t]=s),i=i[t]}},t.applyToDefaultsWithShallow=function(e,s,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!s||!0===s||"object"==typeof s,"Invalid options value: must be true, falsy or an object"),t.assert(n&&Array.isArray(n),"Invalid keys"),!s)return null;const i=t.cloneWithShallow(e,n);if(!0===s)return i;const a=c.store(s,n);return t.merge(i,s,!1,!1),c.restore(i,s,a),i},t.intersect=function(e,t,s){if(!e||!t)return s?null:[];const n=[],i=Array.isArray(e)?new Set(e):e,a=new Set;for(const e of t)if(c.has(i,e)&&!a.has(e)){if(s)return e;n.push(e),a.add(e)}return s?null:n},c.has=function(e,t){return"function"==typeof e.has?e.has(t):void 0!==e[t]},t.contain=function(e,s,n={}){let i,a,o=null;if("object"!=typeof e||"object"!=typeof s||Array.isArray(e)||Array.isArray(s))s=[].concat(s);else{o=s;const e=Object.getOwnPropertySymbols(s).filter(Object.prototype.propertyIsEnumerable.bind(s));s=[...Object.keys(s),...e]}if(t.assert("string"==typeof e||"object"==typeof e,"Reference must be string or an object"),t.assert(s.length,"Values array cannot be empty"),n.deep){i=t.deepEqual;const e=n.hasOwnProperty("only"),s=n.hasOwnProperty("part");a={prototype:e?n.only:!!s&&!n.part,part:e?!n.only:!!s&&n.part}}else i=((e,t)=>e===t);let r=!1;const l=new Array(s.length);for(let e=0;e<l.length;++e)l[e]=0;if("string"==typeof e){let n="(";for(let e=0;e<s.length;++e){const i=s[e];t.assert("string"==typeof i,"Cannot compare string reference to non-string value"),n+=(e?"|":"")+t.escapeRegex(i)}const i=new RegExp(n+")","g");r=!!e.replace(i,(e,t)=>{const n=s.indexOf(t);return++l[n],""})}else if(Array.isArray(e)){const t=!(!n.only||!n.once);if(t&&e.length!==s.length)return!1;for(let n=0;n<e.length;++n){let o=!1;for(let r=0;r<s.length&&!1===o;++r)t&&0!==l[r]||(o=i(s[r],e[n],a)&&r);!1!==o?++l[o]:r=!0}}else{const t=c.keys(e,n);for(let n=0;n<t.length;++n){const c=t[n],p=s.indexOf(c);if(-1!==p){if(o&&!i(o[c],e[c],a))return!1;++l[p]}else r=!0}}if(n.only&&(r||!n.once))return!r;let p=!1;for(let e=0;e<l.length;++e)if(p=p||!!l[e],n.once&&l[e]>1||!n.part&&!l[e])return!1;return p},t.flatten=function(e,s){const n=s||[];for(let s=0;s<e.length;++s)Array.isArray(e[s])?t.flatten(e[s],n):n.push(e[s]);return n},t.reach=function(e,s,n){if(!1===s||null==s)return e;"string"==typeof(n=n||{})&&(n={separator:n});const i=Array.isArray(s);t.assert(!i||!n.separator,"Separator option no valid for array-based chain");const a=i?s:s.split(n.separator||".");let o=e;for(let e=0;e<a.length;++e){let i=a[e];if(Array.isArray(o)){const e=Number(i);Number.isInteger(e)&&e<0&&(i=o.length+e)}if(!o||"object"!=typeof o&&"function"!=typeof o||!(i in o)||"object"!=typeof o&&!1===n.functions){t.assert(!n.strict||e+1===a.length,"Missing segment",i,"in reach path ",s),t.assert("object"==typeof o||!0===n.functions||"function"!=typeof o,"Invalid segment",i,"in reach path ",s),o=n.default;break}o=o[i]}return o},t.reachTemplate=function(e,s,n){return s.replace(/{([^}]+)}/g,(s,i)=>{const a=t.reach(e,i,n);return null==a?"":a})},t.assert=function(e,...s){if(e)return;if(1===s.length&&s[0]instanceof Error)throw s[0];const i=s.filter(e=>""!==e).map(e=>"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e));throw new n.AssertionError({message:i.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:t.assert})},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return r.escapeHtml(e)},t.escapeJson=function(e){return r.escapeJson(e)},t.once=function(e){if(e._hoekOnce)return e;let t=!1;const s=function(...s){t||(t=!0,e(...s))};return s._hoekOnce=!0,s},t.ignore=function(){},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=a.resolve(e);const s=[Date.now(),process.pid,i.randomBytes(8).toString("hex")].join("-")+t;return a.join(e,s)},t.stringify=function(...e){try{return JSON.stringify.apply(null,e)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.wait=function(e){return new Promise(t=>setTimeout(t,e))},t.block=function(){return new Promise(t.ignore)}},function(e,t,s){"use strict";const n=s(0),i={codes:new Map([[100,"Continue"],[101,"Switching Protocols"],[102,"Processing"],[200,"OK"],[201,"Created"],[202,"Accepted"],[203,"Non-Authoritative Information"],[204,"No Content"],[205,"Reset Content"],[206,"Partial Content"],[207,"Multi-Status"],[300,"Multiple Choices"],[301,"Moved Permanently"],[302,"Moved Temporarily"],[303,"See Other"],[304,"Not Modified"],[305,"Use Proxy"],[307,"Temporary Redirect"],[400,"Bad Request"],[401,"Unauthorized"],[402,"Payment Required"],[403,"Forbidden"],[404,"Not Found"],[405,"Method Not Allowed"],[406,"Not Acceptable"],[407,"Proxy Authentication Required"],[408,"Request Time-out"],[409,"Conflict"],[410,"Gone"],[411,"Length Required"],[412,"Precondition Failed"],[413,"Request Entity Too Large"],[414,"Request-URI Too Large"],[415,"Unsupported Media Type"],[416,"Requested Range Not Satisfiable"],[417,"Expectation Failed"],[418,"I'm a teapot"],[422,"Unprocessable Entity"],[423,"Locked"],[424,"Failed Dependency"],[425,"Unordered Collection"],[426,"Upgrade Required"],[428,"Precondition Required"],[429,"Too Many Requests"],[431,"Request Header Fields Too Large"],[451,"Unavailable For Legal Reasons"],[500,"Internal Server Error"],[501,"Not Implemented"],[502,"Bad Gateway"],[503,"Service Unavailable"],[504,"Gateway Time-out"],[505,"HTTP Version Not Supported"],[506,"Variant Also Negotiates"],[507,"Insufficient Storage"],[509,"Bandwidth Limit Exceeded"],[510,"Not Extended"],[511,"Network Authentication Required"]])};e.exports=i.Boom=class extends Error{static[Symbol.hasInstance](e){return i.Boom.isBoom(e)}constructor(e,t={}){if(e instanceof Error)return i.Boom.boomify(n.clone(e),t);const{statusCode:s=500,data:a=null,ctor:o=i.Boom}=t,r=new Error(e||void 0);return Error.captureStackTrace(r,o),r.data=a,i.initialize(r,s),r.typeof=o,t.decorate&&Object.assign(r,t.decorate),r}static isBoom(e){return e instanceof Error&&!!e.isBoom}static boomify(e,t){return n.assert(e instanceof Error,"Cannot wrap non-Error object"),void 0!==(t=t||{}).data&&(e.data=t.data),t.decorate&&Object.assign(e,t.decorate),e.isBoom?!1===t.override||!t.statusCode&&!t.message?e:i.initialize(e,t.statusCode||e.output.statusCode,t.message):i.initialize(e,t.statusCode||500,t.message)}static badRequest(e,t){return new i.Boom(e,{statusCode:400,data:t,ctor:i.Boom.badRequest})}static unauthorized(e,t,s){const a=new i.Boom(e,{statusCode:401,ctor:i.Boom.unauthorized});if(!t)return a;let o="";if("string"==typeof t){if(o=t,(s||e)&&(a.output.payload.attributes={}),s)if("string"==typeof s)o=o+" "+n.escapeHeaderAttribute(s),a.output.payload.attributes=s;else{const e=Object.keys(s);for(let t=0;t<e.length;++t){const i=e[t];t&&(o+=",");let r=s[i];null==r&&(r=""),o=o+" "+i+'="'+n.escapeHeaderAttribute(r.toString())+'"',a.output.payload.attributes[i]=r}}e?(s&&(o+=","),o=o+' error="'+n.escapeHeaderAttribute(e)+'"',a.output.payload.attributes.error=e):a.isMissing=!0}else{const e=t;for(let t=0;t<e.length;++t)t&&(o+=", "),o+=e[t]}return a.output.headers["WWW-Authenticate"]=o,a}static paymentRequired(e,t){return new i.Boom(e,{statusCode:402,data:t,ctor:i.Boom.paymentRequired})}static forbidden(e,t){return new i.Boom(e,{statusCode:403,data:t,ctor:i.Boom.forbidden})}static notFound(e,t){return new i.Boom(e,{statusCode:404,data:t,ctor:i.Boom.notFound})}static methodNotAllowed(e,t,s){const n=new i.Boom(e,{statusCode:405,data:t,ctor:i.Boom.methodNotAllowed});return"string"==typeof s&&(s=[s]),Array.isArray(s)&&(n.output.headers.Allow=s.join(", ")),n}static notAcceptable(e,t){return new i.Boom(e,{statusCode:406,data:t,ctor:i.Boom.notAcceptable})}static proxyAuthRequired(e,t){return new i.Boom(e,{statusCode:407,data:t,ctor:i.Boom.proxyAuthRequired})}static clientTimeout(e,t){return new i.Boom(e,{statusCode:408,data:t,ctor:i.Boom.clientTimeout})}static conflict(e,t){return new i.Boom(e,{statusCode:409,data:t,ctor:i.Boom.conflict})}static resourceGone(e,t){return new i.Boom(e,{statusCode:410,data:t,ctor:i.Boom.resourceGone})}static lengthRequired(e,t){return new i.Boom(e,{statusCode:411,data:t,ctor:i.Boom.lengthRequired})}static preconditionFailed(e,t){return new i.Boom(e,{statusCode:412,data:t,ctor:i.Boom.preconditionFailed})}static entityTooLarge(e,t){return new i.Boom(e,{statusCode:413,data:t,ctor:i.Boom.entityTooLarge})}static uriTooLong(e,t){return new i.Boom(e,{statusCode:414,data:t,ctor:i.Boom.uriTooLong})}static unsupportedMediaType(e,t){return new i.Boom(e,{statusCode:415,data:t,ctor:i.Boom.unsupportedMediaType})}static rangeNotSatisfiable(e,t){return new i.Boom(e,{statusCode:416,data:t,ctor:i.Boom.rangeNotSatisfiable})}static expectationFailed(e,t){return new i.Boom(e,{statusCode:417,data:t,ctor:i.Boom.expectationFailed})}static teapot(e,t){return new i.Boom(e,{statusCode:418,data:t,ctor:i.Boom.teapot})}static badData(e,t){return new i.Boom(e,{statusCode:422,data:t,ctor:i.Boom.badData})}static locked(e,t){return new i.Boom(e,{statusCode:423,data:t,ctor:i.Boom.locked})}static failedDependency(e,t){return new i.Boom(e,{statusCode:424,data:t,ctor:i.Boom.failedDependency})}static preconditionRequired(e,t){return new i.Boom(e,{statusCode:428,data:t,ctor:i.Boom.preconditionRequired})}static tooManyRequests(e,t){return new i.Boom(e,{statusCode:429,data:t,ctor:i.Boom.tooManyRequests})}static illegal(e,t){return new i.Boom(e,{statusCode:451,data:t,ctor:i.Boom.illegal})}static internal(e,t,s=500){return i.serverError(e,t,s,i.Boom.internal)}static notImplemented(e,t){return i.serverError(e,t,501,i.Boom.notImplemented)}static badGateway(e,t){return i.serverError(e,t,502,i.Boom.badGateway)}static serverUnavailable(e,t){return i.serverError(e,t,503,i.Boom.serverUnavailable)}static gatewayTimeout(e,t){return i.serverError(e,t,504,i.Boom.gatewayTimeout)}static badImplementation(e,t){const s=i.serverError(e,t,500,i.Boom.badImplementation);return s.isDeveloperError=!0,s}},i.initialize=function(e,t,s){const a=parseInt(t,10);return n.assert(!isNaN(a)&&a>=400,"First argument must be a number (400+):",t),e.isBoom=!0,e.isServer=a>=500,e.hasOwnProperty("data")||(e.data=null),e.output={statusCode:a,payload:{},headers:{}},e.reformat=i.reformat,s||e.message||(e.reformat(),s=e.output.payload.error),s&&(e.message=s+(e.message?": "+e.message:""),e.output.payload.message=e.message),e.reformat(),e},i.reformat=function(e=!1){this.output.payload.statusCode=this.output.statusCode,this.output.payload.error=i.codes.get(this.output.statusCode)||"Unknown",500===this.output.statusCode&&!0!==e?this.output.payload.message="An internal server error occurred":this.message&&(this.output.payload.message=this.message)},i.serverError=function(e,t,s,n){return t instanceof Error&&!t.isBoom?i.Boom.boomify(t,{statusCode:s,message:e}):new i.Boom(e,{statusCode:s,data:t,ctor:n})}},function(e,t){e.exports=require("stream")},function(e,t,s){"use strict";const n=s(24),i=s(1),a=s(0),o={system:[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,n.AssertionError]};t.rethrow=function(e,t,s={}){return o.catch(e,t,s,!0)},t.ignore=function(e,t,s={}){return o.catch(e,t,s,!1)},o.catch=function(e,t,s,n){if(o.match(e,t)===n){if(s.override&&(e=s.override),s.decorate&&Object.assign(e,s.decorate),s.return)return e;throw e}},t.background=async function(e,s="rethrow",n="system",i={}){try{"function"==typeof e?await e():await e}catch(e){t[s](e,n,i)}},t.isBoom=function(e){return i.isBoom(e)},t.isError=function(e){return e instanceof Error},t.isSystem=function(e){if(!e)return!1;if(e.isBoom)return!1;for(let t=0;t<o.system.length;++t)if(e instanceof o.system[t])return!0;return!1},o.rules={system:t.isSystem,boom:t.isBoom},o.match=function(e,t){if(!t)return!0;t=Array.isArray(t)?t:[t];for(let s=0;s<t.length;++s){const n=t[s];if("string"==typeof n){if(o.rules[n](e))return!0}else if("object"==typeof n){if(a.contain(e,n,{deep:!0,part:!0}))return!0}else if(e instanceof n)return!0}return!1}},function(e,t,s){"use strict";const n=s(0),i=s(5),a=s(9),o=s(15),r=s(59),c=s(6),l=s(25),p={alternatives:s(28),array:s(60),boolean:s(61),binary:s(62),date:s(29),func:s(63),number:s(64),object:s(30),string:s(65),symbol:s(71),callWithDefaults:function(e,t){return n.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(e=this._defaults(e)),e._currentJoi=this,e._init(...t)},root:function(){const e=new i,t=e.clone();return i.prototype._currentJoi=t,t._currentJoi=t,t._binds=new Set(["any","alternatives","alt","array","boolean","binary","date","func","number","object","string","symbol","validate","describe","compile","assert","attempt","lazy","defaults","extend","allow","valid","only","equal","invalid","disallow","not","required","exist","optional","forbidden","strip","when","empty","default"]),t.any=function(...t){return n.assert(0===t.length,"Joi.any() does not allow arguments."),p.callWithDefaults.call(this,e,t)},t.alternatives=t.alt=function(...e){return p.callWithDefaults.call(this,p.alternatives,e)},t.array=function(...e){return n.assert(0===e.length,"Joi.array() does not allow arguments."),p.callWithDefaults.call(this,p.array,e)},t.boolean=t.bool=function(...e){return n.assert(0===e.length,"Joi.boolean() does not allow arguments."),p.callWithDefaults.call(this,p.boolean,e)},t.binary=function(...e){return n.assert(0===e.length,"Joi.binary() does not allow arguments."),p.callWithDefaults.call(this,p.binary,e)},t.date=function(...e){return n.assert(0===e.length,"Joi.date() does not allow arguments."),p.callWithDefaults.call(this,p.date,e)},t.func=function(...e){return n.assert(0===e.length,"Joi.func() does not allow arguments."),p.callWithDefaults.call(this,p.func,e)},t.number=function(...e){return n.assert(0===e.length,"Joi.number() does not allow arguments."),p.callWithDefaults.call(this,p.number,e)},t.object=function(...e){return p.callWithDefaults.call(this,p.object,e)},t.string=function(...e){return n.assert(0===e.length,"Joi.string() does not allow arguments."),p.callWithDefaults.call(this,p.string,e)},t.symbol=function(...e){return n.assert(0===e.length,"Joi.symbol() does not allow arguments."),p.callWithDefaults.call(this,p.symbol,e)},t.ref=function(...e){return c.create(...e)},t.isRef=function(e){return c.isRef(e)},t.validate=function(t,...s){const n=s[s.length-1],i="function"==typeof n?n:null,a=s.length-(i?1:0);if(0===a)return e.validate(t,i);const o=2===a?s[1]:void 0;return this.compile(s[0])._validateWithOptions(t,o,i)},t.describe=function(...t){return(t.length?this.compile(t[0]):e).describe()},t.compile=function(e){try{return a.schema(this,e)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}},t.assert=function(e,t,s){this.attempt(e,t,s)},t.attempt=function(e,t,s){const n=this.validate(e,t),i=n.error;if(i){if(!s)throw"function"==typeof i.annotate&&(i.message=i.annotate()),i;if(!(s instanceof Error))throw"function"==typeof i.annotate&&(i.message=`${s} ${i.annotate()}`),i;throw s}return n.value},t.reach=function(e,t){n.assert(e&&e instanceof i,"you must provide a joi schema"),n.assert(Array.isArray(t)||"string"==typeof t,"path must be a string or an array of strings");const s=(e,t)=>{if(!t.length)return e;const n=e._inner.children;if(!n)return;const i=t.shift();for(let e=0;e<n.length;++e){const a=n[e];if(a.key===i)return s(a.schema,t)}},a="string"==typeof t?t?t.split("."):[]:t.slice();return s(e,a)},t.lazy=function(...e){return p.callWithDefaults.call(this,r,e)},t.defaults=function(e){n.assert("function"==typeof e,"Defaults must be a function");let t=Object.create(this.any());return t=e(t),n.assert(t&&t instanceof this.constructor,"defaults() must return a schema"),Object.assign(t,this,t.clone()),t._defaults=(t=>(this._defaults&&(t=this._defaults(t),n.assert(t instanceof this.constructor,"defaults() must return a schema")),t=e(t),n.assert(t instanceof this.constructor,"defaults() must return a schema"),t)),t},t.bind=function(){const e=Object.create(this);return e._binds.forEach(t=>{e[t]=e[t].bind(e)}),e},t.extend=function(...e){const s=n.flatten(e);n.assert(s.length>0,"You need to provide at least one extension"),this.assert(s,t.extensionsSchema);const r=Object.create(this.any());Object.assign(r,this),r._currentJoi=r,r._binds=new Set(r._binds);for(let e=0;e<s.length;++e){let u=s[e];"function"==typeof u&&(u=u(r)),this.assert(u,t.extensionSchema);const d=(u.base||this.any()).clone(),h=d.constructor,m=class extends h{constructor(){super(),u.base&&Object.assign(this,d),this._type=u.name,u.language&&(this._settings=l.concat(this._settings,{language:{[u.name]:u.language}}))}};if(u.coerce&&(m.prototype._coerce=function(e,t,s){if(h.prototype._coerce){const n=h.prototype._coerce.call(this,e,t,s);if(n.errors)return n;e=n.value}const n=u.coerce.call(this,e,t,s);return n instanceof o.Err?{value:e,errors:n}:{value:n}}),u.pre&&(m.prototype._base=function(e,t,s){if(h.prototype._base){const n=h.prototype._base.call(this,e,t,s);if(n.errors)return n;e=n.value}const n=u.pre.call(this,e,t,s);return n instanceof o.Err?{value:e,errors:n}:{value:n}}),u.rules)for(let e=0;e<u.rules.length;++e){const t=u.rules[e],s=t.params?t.params instanceof i?t.params._inner.children.map(e=>e.key):Object.keys(t.params):[],o=t.params?a.schema(this,t.params):null;m.prototype[t.name]=function(...e){if(e.length>s.length)throw new Error("Unexpected number of arguments");let a,l=!1,p={};for(let t=0;t<s.length;++t)p[s[t]]=e[t],!l&&c.isRef(e[t])&&(l=!0);if(o&&(p=r.attempt(p,o)),t.validate){const e=function(e,s,n){return t.validate.call(this,p,e,s,n)};a=this._test(t.name,p,e,{description:t.description,hasRef:l})}else a=this.clone();if(t.setup){const e=t.setup.call(a,p);void 0!==e&&(n.assert(e instanceof i,`Setup of extension Joi.${this._type}().${t.name}() must return undefined or a Joi object`),a=e)}return a}}u.describe&&(m.prototype.describe=function(){const e=h.prototype.describe.call(this);return u.describe.call(this,e)});const f=new m;r[u.name]=function(...e){return p.callWithDefaults.call(this,f,e)},r._binds.add(u.name)}return r},t.extensionSchema=p.object.keys({base:p.object.type(i,"Joi object"),name:p.string.required(),coerce:p.func.arity(3),pre:p.func.arity(3),language:p.object,describe:p.func.arity(1),rules:p.array.items(p.object.keys({name:p.string.required(),setup:p.func.arity(1),validate:p.func.arity(4),params:[p.object.pattern(/.*/,p.object.type(i,"Joi object")),p.object.type(p.object.constructor,"Joi object")],description:[p.string,p.func.arity(1)]}).or("setup","validate"))}).strict(),t.extensionsSchema=p.array.items([p.object,p.func.arity(1)]).strict(),t.version=s(72).version,t}};e.exports=p.root()},function(e,t,s){"use strict";const n=s(0),i=s(25),a=s(6),o=s(15),r=s(16),c=s(26);let l=null,p=null,u=null;const d={Set:s(27),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1,escapeHtml:!1}};e.exports=d.Any=class{constructor(){p=p||s(9),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new d.Set,this._invalids=new d.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}_init(){return this}get schemaType(){return this._type}createError(e,t,s,n,i=this._flags){return o.create(e,t,s,n,i)}createOverrideError(e,t,s,n,i,a){return o.create(e,t,s,n,this._flags,i,a)}checkOptions(e){const t=(u=u||s(58)).options.validate(e);if(t.error)throw new Error(t.error.details[0].message)}clone(){const e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._currentJoi=this._currentJoi,e._type=this._type,e._settings=this._settings,e._baseType=this._baseType,e._valids=this._valids.slice(),e._invalids=this._invalids.slice(),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=n.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};const t=Object.keys(this._inner);for(let s=0;s<t.length;++s){const n=t[s];e._inner[n]=this._inner[n]?this._inner[n].slice():null}return e}concat(e){n.assert(e instanceof d.Any,"Invalid schema object"),n.assert("any"===this._type||"any"===e._type||e._type===this._type,"Cannot merge type",this._type,"with another type:",e._type);let t=this.clone();if("any"===this._type&&"any"!==e._type){const s=e.clone(),n=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"];for(let e=0;e<n.length;++e)s[n[e]]=t[n[e]];t=s}if(t._settings=t._settings?i.concat(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests.push(...e._tests),t._refs.push(...e._refs),t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);const s=Object.assign({},e._flags);delete s.empty,n.merge(t._flags,s)}else if(e._flags.empty){t._flags.empty=e._flags.empty;const s=Object.assign({},e._flags);delete s.empty,n.merge(t._flags,s)}else n.merge(t._flags,e._flags);t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes.push(...e._notes),t._tags.push(...e._tags),t._examples.push(...e._examples),t._meta.push(...e._meta);const s=Object.keys(e._inner),a="object"===t._type;for(let n=0;n<s.length;++n){const i=s[n],o=e._inner[i];if(o){const e=t._inner[i];if(e)if(a&&"children"===i){const t={};for(let s=0;s<e.length;++s)t[e[s].key]=s;for(let s=0;s<o.length;++s){const n=o[s].key;t[n]>=0?e[t[n]]={key:n,schema:e[t[n]].schema.concat(o[s].schema)}:e.push(o[s])}}else t._inner[i]=t._inner[i].concat(o);else t._inner[i]=o.slice()}}return t}_test(e,t,s,n){const i=this.clone();return i._tests.push({func:s,name:e,arg:t,options:n}),i}_testUnique(e,t,s,n){const i=this.clone();return i._tests=i._tests.filter(t=>t.name!==e),i._tests.push({func:s,name:e,arg:t,options:n}),i}options(e){n.assert(!e.context,"Cannot override context"),this.checkOptions(e);const t=this.clone();return t._settings=i.concat(t._settings,e),t}strict(e){const t=this.clone(),s=void 0!==e&&!e;return t._settings=i.concat(t._settings,{convert:s}),t}raw(e){const t=void 0===e||e;if(this._flags.raw===t)return this;const s=this.clone();return s._flags.raw=t,s}error(e,t={self:!1}){n.assert(e&&(e instanceof Error||"function"==typeof e),"Must provide a valid Error object or a function");const s=Object.keys(t).filter(e=>!["self"].includes(e));n.assert(0===s.length,`Options ${s} are unknown`);const i=this.clone();return i._flags.error=e,t.self&&(i._flags.selfError=!0),i}allow(...e){const t=this.clone();e=n.flatten(e);for(let s=0;s<e.length;++s){const i=e[s];n.assert(void 0!==i,"Cannot call allow/valid/invalid with undefined"),t._invalids.remove(i),t._valids.add(i,t._refs)}return t}valid(...e){const t=this.allow(...e);return t._flags.allowOnly=!0,t}invalid(...e){const t=this.clone();e=n.flatten(e);for(let s=0;s<e.length;++s){const i=e[s];n.assert(void 0!==i,"Cannot call allow/valid/invalid with undefined"),t._valids.remove(i),t._invalids.add(i,t._refs)}return t}required(){if("required"===this._flags.presence)return this;const e=this.clone();return e._flags.presence="required",e}optional(){if("optional"===this._flags.presence)return this;const e=this.clone();return e._flags.presence="optional",e}forbidden(){if("forbidden"===this._flags.presence)return this;const e=this.clone();return e._flags.presence="forbidden",e}strip(){if(this._flags.strip)return this;const e=this.clone();return e._flags.strip=!0,e}applyFunctionToChildren(e,t,s=[],n){if(1!==(e=[].concat(e)).length||""!==e[0]){n=n?n+".":"";const t=(""===e[0]?e.slice(1):e).map(e=>n+e);throw new Error("unknown key(s) "+t.join(", "))}return this[t](...s)}default(e,t){"function"!=typeof e||a.isRef(e)||(!e.description&&t&&(e.description=t),this._flags.func||n.assert("string"==typeof e.description&&e.description.length>0,"description must be provided when default value is a function"));const s=this.clone();return s._flags.default=e,a.push(s._refs,e),s}empty(e){const t=this.clone();return void 0===e?delete t._flags.empty:t._flags.empty=p.schema(this._currentJoi,e),t}when(e,t){n.assert(t&&"object"==typeof t,"Invalid options"),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');const i=t.hasOwnProperty("then")?this.concat(p.schema(this._currentJoi,t.then)):void 0,a=t.hasOwnProperty("otherwise")?this.concat(p.schema(this._currentJoi,t.otherwise)):void 0;l=l||s(28);const o={then:i,otherwise:a};Object.prototype.hasOwnProperty.call(t,"is")&&(o.is=t.is);const r=l.when(e,o);return r._flags.presence="ignore",r._baseType=this,r}description(e){n.assert(e&&"string"==typeof e,"Description must be a non-empty string");const t=this.clone();return t._description=e,t}notes(e){n.assert(e&&("string"==typeof e||Array.isArray(e)),"Notes must be a non-empty string or array");const t=this.clone();return t._notes=t._notes.concat(e),t}tags(e){n.assert(e&&("string"==typeof e||Array.isArray(e)),"Tags must be a non-empty string or array");const t=this.clone();return t._tags=t._tags.concat(e),t}meta(e){n.assert(void 0!==e,"Meta cannot be undefined");const t=this.clone();return t._meta=t._meta.concat(e),t}example(...e){n.assert(e.length>0,"Missing examples");const t=[];for(let s=0;s<e.length;++s){const a=[].concat(e[s]);n.assert(a.length<=2,`Bad example format at index ${s}`);const c=a[0];let l=a[1];if(void 0!==l){n.assert(l&&"object"==typeof l,`Options for example at index ${s} must be an object`);const e=Object.keys(l).filter(e=>!["parent","context"].includes(e));n.assert(0===e.length,`Unknown example options ${e} at index ${s}`)}else l={};const p=new r("",[],l.parent||null),u=this._validate(c,p,i.concat(d.defaults,l.context?{context:l.context}:null));n.assert(!u.errors,`Bad example at index ${s}:`,u.errors&&o.process(u.errors,c));const h={value:c};Object.keys(l).length&&(h.options=l),t.push(h)}const s=this.clone();return s._examples=t,s}unit(e){n.assert(e&&"string"==typeof e,"Unit name must be a non-empty string");const t=this.clone();return t._unit=e,t}_prepareEmptyValue(e){return"string"==typeof e&&this._flags.trim?e.trim():e}_validate(e,t,s,n){const a=e;if(t=t||new r("",[],null,n),this._settings){const e=s===d.defaults;e&&this._settings[c.settingsCache]?s=this._settings[c.settingsCache]:(s=i.concat(s,this._settings),e&&(this._settings[c.settingsCache]=s))}let l=[];if(this._coerce){const n=this._coerce(e,t,s);if(n.errors)return e=n.value,l=l.concat(n.errors),this._finalizeValue(e,a,l,t,s);e=n.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(e),null,d.defaults).errors&&(e=void 0);const p=this._flags.presence||s.presence;if("optional"===p){if(void 0===e){if(!(this._flags.hasOwnProperty("default")&&void 0===this._flags.default)||"object"!==this._type)return this._finalizeValue(e,a,l,t,s);e={}}}else{if("required"===p&&void 0===e)return l.push(this.createError("any.required",null,t,s)),this._finalizeValue(e,a,l,t,s);if("forbidden"===p)return void 0===e?this._finalizeValue(e,a,l,t,s):(l.push(this.createError("any.unknown",null,t,s)),this._finalizeValue(e,a,l,t,s))}let u=this._valids.get(e,t,s,this._flags.insensitive);if(u)return s.convert&&(e=u.value),this._finalizeValue(e,a,l,t,s);if(this._invalids.has(e,t,s,this._flags.insensitive)&&(l.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,s)),s.abortEarly))return this._finalizeValue(e,a,l,t,s);if(this._base){const n=this._base(e,t,s);if(n.errors)return e=n.value,l=l.concat(n.errors),this._finalizeValue(e,a,l,t,s);if(n.value!==e){if(e=n.value,u=this._valids.get(e,t,s,this._flags.insensitive))return e=u.value,this._finalizeValue(e,a,l,t,s);if(this._invalids.has(e,t,s,this._flags.insensitive)&&(l.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,s)),s.abortEarly))return this._finalizeValue(e,a,l,t,s)}}if(this._flags.allowOnly&&(l.push(this.createError("any.allowOnly",{value:e,valids:this._valids.values({stripUndefined:!0})},t,s)),s.abortEarly))return this._finalizeValue(e,a,l,t,s);for(let n=0;n<this._tests.length;++n){const i=this._tests[n].func.call(this,e,t,s);if(i instanceof o.Err){if(l.push(i),s.abortEarly)return this._finalizeValue(e,a,l,t,s)}else e=i}return this._finalizeValue(e,a,l,t,s)}_finalizeValue(e,t,s,i,o){let r;if(void 0!==e)r=this._flags.raw?t:e;else if(o.noDefaults)r=e;else if(a.isRef(this._flags.default))r=this._flags.default(i.parent,o);else if("function"!=typeof this._flags.default||this._flags.func&&!this._flags.default.description)r=n.clone(this._flags.default);else{let e;null!==i.parent&&this._flags.default.length>0&&(e=[n.clone(i.parent),o]);const t=d._try(this._flags.default,e);r=t.value,t.error&&s.push(this.createError("any.default",{error:t.error},i,o))}if(s.length&&"function"==typeof this._flags.error&&(!this._flags.selfError||s.some(e=>i.path.length===e.path.length))){const e=this._flags.error.call(this,s);s="string"==typeof e?[this.createOverrideError("override",{reason:s},i,o,e)]:[].concat(e).map(e=>e instanceof Error?e:this.createOverrideError(e.type||"override",e.context,i,o,e.message,e.template))}return{value:this._flags.strip?void 0:r,finalValue:r,errors:s.length?s:null}}_validateWithOptions(e,t,s){t&&this.checkOptions(t);const n=i.concat(d.defaults,t),a=this._validate(e,null,n),r=o.process(a.errors,e);return s?s(r,a.value):{error:r,value:a.value,then:(e,t)=>r?Promise.reject(r).catch(t):Promise.resolve(a.value).then(e),catch:e=>r?Promise.reject(r).catch(e):Promise.resolve(a.value)}}validate(e,t,s){return"function"==typeof t?this._validateWithOptions(e,null,t):this._validateWithOptions(e,t,s)}describe(){const e={type:this._type},t=Object.keys(this._flags);if(t.length)if(["empty","default","lazy","label"].some(e=>this._flags.hasOwnProperty(e))){e.flags={};for(let s=0;s<t.length;++s){const n=t[s];"empty"===n?e.flags[n]=this._flags[n].describe():"default"===n?a.isRef(this._flags[n])?e.flags[n]=this._flags[n].toString():"function"==typeof this._flags[n]?e.flags[n]={description:this._flags[n].description,function:this._flags[n]}:e.flags[n]=this._flags[n]:"lazy"===n||"label"===n||(e.flags[n]=this._flags[n])}}else e.flags=this._flags;this._settings&&(e.options=n.clone(this._settings)),this._baseType&&(e.base=this._baseType.describe()),this._description&&(e.description=this._description),this._notes.length&&(e.notes=this._notes),this._tags.length&&(e.tags=this._tags),this._meta.length&&(e.meta=this._meta),this._examples.length&&(e.examples=this._examples),this._unit&&(e.unit=this._unit);const s=this._valids.values();s.length&&(e.valids=s.map(e=>a.isRef(e)?e.toString():e));const i=this._invalids.values();i.length&&(e.invalids=i.map(e=>a.isRef(e)?e.toString():e)),e.rules=[];for(let t=0;t<this._tests.length;++t){const s=this._tests[t],n={name:s.name};void 0!==s.arg&&(n.arg=a.isRef(s.arg)?s.arg.toString():s.arg);const i=s.options;if(i){if(i.hasRef){n.arg={};const e=Object.keys(s.arg);for(let t=0;t<e.length;++t){const i=e[t],o=s.arg[i];n.arg[i]=a.isRef(o)?o.toString():o}}"string"==typeof i.description?n.description=i.description:"function"==typeof i.description&&(n.description=i.description(n.arg))}e.rules.push(n)}e.rules.length||delete e.rules;const o=this._getLabel();return o&&(e.label=o),e}label(e){n.assert(e&&"string"==typeof e,"Label name must be a non-empty string");const t=this.clone();return t._flags.label=e,t}_getLabel(e){return this._flags.label||e}},d.Any.prototype.isImmutable=!0,d.Any.prototype.only=d.Any.prototype.equal=d.Any.prototype.valid,d.Any.prototype.disallow=d.Any.prototype.not=d.Any.prototype.invalid,d.Any.prototype.exist=d.Any.prototype.required,d._try=function(e,t=[]){let s,n;try{n=e(...t)}catch(e){s=e}return{value:n,error:s}}},function(e,t,s){"use strict";const n=s(0);t.create=function(e,t){n.assert("string"==typeof e,"Invalid reference key:",e);const s=n.clone(t),i=function(e,t){return n.reach(i.isContext?t.context:e,i.key,s)};return i.isContext=e[0]===(s&&s.contextPrefix||"$"),i.key=i.isContext?e.slice(1):e,i.path=i.key.split(s&&s.separator||"."),i.depth=i.path.length,i.root=i.path[0],i.isJoi=!0,i.toString=function(){return(i.isContext?"context:":"ref:")+i.key},i},t.isRef=function(e){return"function"==typeof e&&e.isJoi},t.push=function(e,s){t.isRef(s)&&!s.isContext&&e.push(s.root)}},function(e,t,s){"use strict";const n=s(19),i=s(4),a={};t.symbol=Symbol("hapi-response"),t.apply=function(e,t,...s){const n=i.validate(t,a[e]);if(n.error)throw new Error(`Invalid ${e} options ${s.length?"("+s.join(" ")+")":""} ${n.error.annotate()}`);return n.value},t.enable=function(e){const t=e?Object.assign({},e):{};return!0===t.security&&(t.security={}),!0===t.cors&&(t.cors={}),t},a.access=i.object({entity:i.valid("user","app","any"),scope:[!1,i.array().items(i.string()).single().min(1)]}),a.auth=i.alternatives([i.string(),a.access.keys({mode:i.valid("required","optional","try"),strategy:i.string(),strategies:i.array().items(i.string()).min(1),access:i.array().items(a.access.min(1)).single().min(1),payload:[i.valid("required","optional"),i.boolean()]}).without("strategy","strategies").without("access",["scope","entity"])]),a.event=i.object({method:i.array().items(i.func()).single(),options:i.object({before:i.array().items(i.string()).single(),after:i.array().items(i.string()).single(),bind:i.any(),sandbox:i.valid("server","plugin")}).default({})}),a.exts=i.array().items(a.event.keys({type:i.string().required()})).single(),a.failAction=i.alternatives([i.valid("error","log","ignore"),i.func()]).default("error"),a.routeBase=i.object({app:i.object().allow(null),auth:a.auth.allow(!1),bind:i.object().allow(null),cache:i.object({expiresIn:i.number(),expiresAt:i.string(),privacy:i.valid("default","public","private"),statuses:i.array().items(i.number().integer().min(200)).min(1).single().default([200,204]),otherwise:i.string().default("no-cache")}).allow(!1).default(),compression:i.object().pattern(/.+/,i.object()).default(),cors:i.object({origin:i.array().min(1).allow("ignore").default(["*"]),maxAge:i.number().default(86400),headers:i.array().items(i.string()).default(["Accept","Authorization","Content-Type","If-None-Match"]),additionalHeaders:i.array().items(i.string()).default([]),exposedHeaders:i.array().items(i.string()).default(["WWW-Authenticate","Server-Authorization"]),additionalExposedHeaders:i.array().items(i.string()).default([]),credentials:i.boolean().when("origin",{is:"ignore",then:!1}).default(!1)}).allow(!1,!0).default(!1),ext:i.object({onPreAuth:i.array().items(a.event).single(),onCredentials:i.array().items(a.event).single(),onPostAuth:i.array().items(a.event).single(),onPreHandler:i.array().items(a.event).single(),onPostHandler:i.array().items(a.event).single(),onPreResponse:i.array().items(a.event).single()}).default({}),files:i.object({relativeTo:i.string().regex(/^([\/\.])|([A-Za-z]:\\)|(\\\\)/).default(".")}).default(),json:i.object({replacer:i.alternatives(i.func(),i.array()).allow(null).default(null),space:i.number().allow(null).default(null),suffix:i.string().allow(null).default(null),escape:i.boolean().default(!1)}).default(),jsonp:i.string(),log:i.object({collect:i.boolean().default(!1)}).default(),payload:i.object({output:i.valid("data","stream","file").default("data"),parse:i.boolean().allow("gunzip").default(!0),multipart:i.object({output:i.valid("data","stream","file","annotated").required()}).allow(!1),allow:i.array().items(i.string()).single(),override:i.string(),maxBytes:i.number().integer().positive().default(1048576),uploads:i.string().default(n.tmpdir()),failAction:a.failAction,timeout:i.number().integer().positive().allow(!1).default(1e4),defaultContentType:i.string().default("application/json"),compression:i.object().pattern(/.+/,i.object()).default()}).default(),plugins:i.object(),response:i.object({disconnectStatusCode:i.number().integer().min(400).default(499),emptyStatusCode:i.valid(200,204).default(200),failAction:a.failAction,modify:i.boolean(),options:i.object().default(),ranges:i.boolean().default(!0),sample:i.number().min(0).max(100).when("modify",{is:!0,then:i.forbidden()}),schema:i.alternatives(i.object(),i.array(),i.func()).allow(!0,!1),status:i.object().pattern(/\d\d\d/,i.alternatives(i.object(),i.array(),i.func()).allow(!0,!1))}).default().assert("options.stripUnknown",i.when("modify",{is:!0,otherwise:!1}),"meet requirement of having peer modify set to true"),security:i.object({hsts:i.alternatives([i.object({maxAge:i.number(),includeSubdomains:i.boolean(),includeSubDomains:i.boolean(),preload:i.boolean()}),i.boolean(),i.number()]).default(15768e3),xframe:i.alternatives([i.boolean(),i.valid("sameorigin","deny"),i.object({rule:i.valid("sameorigin","deny","allow-from"),source:i.string()})]).default("deny"),xss:i.boolean().default(!0),noOpen:i.boolean().default(!0),noSniff:i.boolean().default(!0),referrer:i.alternatives([i.boolean().valid(!1),i.valid("","no-referrer","no-referrer-when-downgrade","unsafe-url","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin")]).default(!1)}).allow(null,!1,!0).default(!1),state:i.object({parse:i.boolean().default(!0),failAction:a.failAction}).default(),timeout:i.object({socket:i.number().integer().positive().allow(!1),server:i.number().integer().positive().allow(!1).default(!1)}).default(),validate:i.object({headers:i.alternatives(i.object(),i.array(),i.func()).allow(null,!0),params:i.alternatives(i.object(),i.array(),i.func()).allow(null,!0),query:i.alternatives(i.object(),i.array(),i.func()).allow(null,!1,!0),payload:i.alternatives(i.object(),i.array(),i.func()).allow(null,!1,!0),state:i.alternatives(i.object(),i.array(),i.func()).allow(null,!1,!0),failAction:a.failAction,errorFields:i.object(),options:i.object().default()}).default()}),a.server=i.object({address:i.string().hostname(),app:i.object().allow(null),autoListen:i.boolean(),cache:i.allow(null),compression:i.object({minBytes:i.number().min(1).integer().default(1024)}).allow(!1).default(),debug:i.object({request:i.array().items(i.string()).single().allow(!1).default(["implementation"]),log:i.array().items(i.string()).single().allow(!1)}).allow(!1).default(),host:i.string().hostname().allow(null),listener:i.any(),load:i.object({sampleInterval:i.number().integer().min(0).default(0),concurrent:i.number().integer().min(0).default(0)}).unknown().default(),mime:i.object().allow(null).default(null),operations:i.object({cleanStop:i.boolean().default(!0)}).default(),plugins:i.object(),port:i.alternatives([i.number().integer().min(0),i.string().regex(/\//),i.string().regex(/^\\\\\.\\pipe\\/)]).allow(null),query:i.object({parser:i.func()}).default(),router:i.object({isCaseSensitive:i.boolean().default(!0),stripTrailingSlash:i.boolean().default(!1)}).default(),routes:a.routeBase.default(),state:i.object(),tls:i.alternatives([i.object().allow(null),i.boolean()]),uri:i.string().regex(/[^\/]$/)}),a.vhost=i.alternatives([i.string().hostname(),i.array().items(i.string().hostname()).min(1)]),a.handler=i.alternatives([i.func(),i.object().length(1)]),a.route=i.object({method:i.string().regex(/^[a-zA-Z0-9!#\$%&'\*\+\-\.^_`\|~]+$/).required(),path:i.string().required(),rules:i.object(),vhost:a.vhost,handler:i.any(),options:i.any(),config:i.any()}).without("config","options"),a.pre=[i.func(),i.object({method:i.alternatives(i.string(),i.func()).required(),assign:i.string(),mode:i.valid("serial","parallel"),failAction:a.failAction})],a.routeConfig=a.routeBase.keys({description:i.string(),id:i.string(),isInternal:i.boolean(),notes:[i.string(),i.array().items(i.string())],pre:i.array().items(a.pre.concat(i.array().items(a.pre).min(1))),tags:[i.string(),i.array().items(i.string())]}),a.cacheConfig=i.alternatives([i.func(),i.object({name:i.string().invalid("_default"),shared:i.boolean(),provider:[i.func(),{constructor:i.func().required(),options:i.object({partition:i.string().default("hapi-cache")}).unknown().default({})}],engine:i.object()}).xor("provider","engine")]),a.cache=i.array().items(a.cacheConfig).min(1).single(),a.cachePolicy=i.object({cache:i.string().allow(null).allow(""),segment:i.string(),shared:i.boolean()}).unknown(),a.method=i.object({bind:i.object().allow(null),generateKey:i.func(),cache:a.cachePolicy}),a.methodObject=i.object({name:i.string().required(),method:i.func().required(),options:i.object()}),a.register=i.object({once:!0,routes:i.object({prefix:i.string().regex(/^\/.+/),vhost:a.vhost}).default({})}),a.semver=i.string(),a.plugin=a.register.keys({options:i.any(),plugin:i.object({register:i.func().required(),name:i.string().when("pkg.name",{is:i.exist(),otherwise:i.required()}),version:i.string(),multiple:i.boolean().default(!1),dependencies:[i.array().items(i.string()).single(),i.object().pattern(/.+/,a.semver)],once:!0,requirements:i.object({hapi:i.string(),node:i.string()}).default(),pkg:i.object({name:i.string(),version:i.string().default("0.0.0")}).unknown().default({})}).unknown()}).without("once","options").unknown(),a.rules=i.object({validate:i.object({schema:i.alternatives(i.object(),i.array()).required(),options:i.object().default({allowUnknown:!0})})})},function(e,t){e.exports=require("path")},function(e,t,s){"use strict";const n=s(0),i=s(6);t.schema=function(e,t){return null!=t&&"object"==typeof t?t.isJoi?t:Array.isArray(t)?e.alternatives().try(t):t instanceof RegExp?e.string().regex(t):t instanceof Date?e.date().valid(t):e.object().keys(t):"string"==typeof t?e.string().valid(t):"number"==typeof t?e.number().valid(t):"boolean"==typeof t?e.boolean().valid(t):i.isRef(t)?e.valid(t):(n.assert(null===t,"Invalid schema content:",t),e.valid(null))},t.ref=function(e){return i.isRef(e)?e:i.create(e)}},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("http")},function(e,t,s){"use strict";const n=s(1),i=s(0);let a=null;const o={};t.route=function(e){if(!e)return!1;const t=i.clone(e);t._headers=t.headers.concat(t.additionalHeaders),t._headersString=t._headers.join(",");for(let e=0;e<t._headers.length;++e)t._headers[e]=t._headers[e].toLowerCase();if(-1===t._headers.indexOf("origin")&&t._headers.push("origin"),t._exposedHeaders=t.exposedHeaders.concat(t.additionalExposedHeaders).join(","),"ignore"===t.origin)t._origin=!1;else if(-1!==t.origin.indexOf("*"))i.assert(1===t.origin.length,"Cannot specify cors.origin * together with other values"),t._origin=!0;else{t._origin={qualified:[],wildcards:[]};for(const e of t.origin)-1!==e.indexOf("*")?t._origin.wildcards.push(new RegExp("^"+i.escapeRegex(e).replace(/\\\*/g,".*").replace(/\\\?/g,".")+"$")):t._origin.qualified.push(e)}return t},t.options=function(e,s){"options"!==e.method&&e.settings.cors&&t.handler(s)},t.handler=function(e){if(a=a||s(22),e._core.router.specials.options)return;const t={method:"_special",path:"/{p*}",handler:o.handler,options:{cors:!1}},n=new a(t,e,{special:!0});e._core.router.special("options",n)},o.handler=function(e,s){const a=e.headers["access-control-request-method"];if(!a)throw n.notFound("CORS error: Missing Access-Control-Request-Method header");const o=e.server.match(a,e.path,e.info.hostname);if(!o)throw n.notFound();const r=o.settings.cors;if(!r)return{message:"CORS is disabled for this route"};const c=e.headers.origin;if(!c&&!1!==r._origin)throw n.notFound("CORS error: Missing Origin header");if(!t.matchOrigin(c,r))return{message:"CORS error: Origin not allowed"};let l=e.headers["access-control-request-headers"];if(l&&(l=l.toLowerCase().split(/\s*,\s*/),i.intersect(l,r._headers).length!==l.length))return{message:"CORS error: Some headers are not allowed"};const p=s.response();return p._header("access-control-allow-origin",r._origin?c:"*"),p._header("access-control-allow-methods",a),p._header("access-control-allow-headers",r._headersString),p._header("access-control-max-age",r.maxAge),r.credentials&&p._header("access-control-allow-credentials","true"),r._exposedHeaders&&p._header("access-control-expose-headers",r._exposedHeaders),p},t.headers=function(e){const s=e.route.settings.cors,n=e.response;!1!==s._origin&&n.vary("origin"),e.info.cors&&!e.info.cors.isOriginMatch||!t.matchOrigin(e.headers.origin,e.route.settings.cors)||(n._header("access-control-allow-origin",s._origin?e.headers.origin:"*"),s.credentials&&n._header("access-control-allow-credentials","true"),s._exposedHeaders&&n._header("access-control-expose-headers",s._exposedHeaders,{append:!0}))},t.matchOrigin=function(e,t){if(!0===t._origin||!1===t._origin)return!0;if(!e)return!1;if(-1!==t._origin.qualified.indexOf(e))return!0;for(const s of t._origin.wildcards)if(e.match(s))return!0;return!1}},function(e,t,s){"use strict";const n=s(2),i=s(1),a=s(3),o=s(0),r=s(20),c=s(44),l={events:r.validate(["finish",{name:"peek",spread:!0}]),hopByHop:{connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailers:!0,"transfer-encoding":!0,upgrade:!0}};e.exports=l.Response=class{constructor(e,t,s={}){this.app={},this.headers={},this.plugins={},this.request=t,this.source=null,this.statusCode=null,this.variety=null,this.settings={encoding:"utf8",charset:"utf-8",ttl:null,stringify:null,passThrough:!0,varyEtag:!1,message:null},this._events=null,this._payload=null,this._error=null,this._contentEncoding=null,this._contentType=null,this._takeover=!1,this._statusCode=!1,this._processors={marshal:s.marshal,prepare:s.prepare,close:s.close},this.temporary=null,this.permanent=null,this.rewritable=null,this._setSource(e,s.variety)}static wrap(e,t){return e instanceof l.Response||"symbol"==typeof e?e:e instanceof Error?i.boomify(e):new l.Response(e,t)}_setSource(e,t){this.variety=t||"plain",null==e?e=null:Buffer.isBuffer(e)?(this.variety="buffer",this._contentType="application/octet-stream"):e instanceof n&&(this.variety="stream",this._contentType="application/octet-stream"),this.source=e,"plain"===this.variety&&null!==this.source&&(this._contentType="string"==typeof this.source?"text/html":"application/json")}get events(){return this._events||(this._events=new r(l.events)),this._events}code(e){return o.assert(Number.isSafeInteger(e),"Status code must be an integer"),this.statusCode=e,this._statusCode=!0,this}message(e){return this.settings.message=e,this}header(e,t,s){return"vary"===(e=e.toLowerCase())?this.vary(t):this._header(e,t,s)}_header(e,t,s={}){const n=s.append||!1,i=s.separator||",",a=!1!==s.override,o=!1!==s.duplicate;if(!n&&a||!this.headers[e])this.headers[e]=t;else if(a)if("set-cookie"===e)this.headers[e]=[].concat(this.headers[e],t);else{const s=this.headers[e];if(!o){const e=s.split(i);for(const s of e)if(s===t)return this}this.headers[e]=s+i+t}return this}vary(e){return"*"===e?this.headers.vary="*":this.headers.vary?"*"!==this.headers.vary&&this._header("vary",e,{append:!0,duplicate:!1}):this.headers.vary=e,this}etag(e,t){const s=l.Response.entity(e,t);return this._header("etag",s.etag),this.settings.varyEtag=s.vary,this}static entity(e,t={}){return o.assert("*"!==e,"ETag cannot be *"),{etag:(t.weak?"W/":"")+'"'+e+'"',vary:!1!==t.vary&&!t.weak,modified:t.modified}}static unmodified(e,t){if("get"!==e.method&&"head"!==e.method)return!1;if(t.etag&&e.headers["if-none-match"]){const s=e.headers["if-none-match"].split(/\s*,\s*/);for(const n of s){if(n===t.etag)return!0;if(t.vary){const s=t.etag.slice(0,-1),i=e._core.compression.encodings;for(const e of i)if(n===s+`-${e}"`)return!0}}return!1}if(!t.modified)return!1;const s=e.headers["if-modified-since"];if(!s)return!1;const n=l.parseDate(s);if(!n)return!1;const i=l.parseDate(t.modified);return!!i&&n>=i}type(e){return this._header("content-type",e),this}bytes(e){return this._header("content-length",e),this}location(e){return this._header("location",e),this}created(e){return o.assert("post"===this.request.method||"put"===this.request.method||"patch"===this.request.method,"Cannot return 201 status codes for "+this.request.method.toUpperCase()),this.statusCode=201,this.location(e),this}replacer(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.replacer=e,this}spaces(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.space=e,this}suffix(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.suffix=e,this}escape(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.escape=e,this}passThrough(e){return this.settings.passThrough=!1!==e,this}redirect(e){return this.statusCode=302,this.location(e),this.temporary=this._temporary,this.permanent=this._permanent,this.rewritable=this._rewritable,this}_temporary(e){return this._setTemporary(!1!==e),this}_permanent(e){return this._setTemporary(!1===e),this}_rewritable(e){return this._setRewritable(!1!==e),this}_isTemporary(){return 302===this.statusCode||307===this.statusCode}_isRewritable(){return 301===this.statusCode||302===this.statusCode}_setTemporary(e){e?this._isRewritable()?this.statusCode=302:this.statusCode=307:this._isRewritable()?this.statusCode=301:this.statusCode=308}_setRewritable(e){e?this._isTemporary()?this.statusCode=302:this.statusCode=301:this._isTemporary()?this.statusCode=307:this.statusCode=308}encoding(e){return this.settings.encoding=e,this}charset(e){return this.settings.charset=e||null,this}ttl(e){return this.settings.ttl=e,this}state(e,t,s){return this.request._setState(e,t,s),this}unstate(e,t){return this.request._clearState(e,t),this}takeover(){return this._takeover=!0,this}_prepare(){if(this._passThrough(),!this._processors.prepare)return this;try{return this._processors.prepare(this)}catch(e){throw i.boomify(e)}}_passThrough(){if("stream"===this.variety&&this.settings.passThrough&&(this.source.statusCode&&!this.statusCode&&(this.statusCode=this.source.statusCode),this.source.headers)){let e=Object.keys(this.source.headers);if(e.length){const t=this.headers;this.headers={};const s=this.source.headers.connection,n={};s&&s.split(/\s*,\s*/).forEach(e=>{n[e]=!0});for(const t of e){const e=t.toLowerCase();l.hopByHop[e]||n[e]||this.header(e,o.clone(this.source.headers[t]))}e=Object.keys(t);for(const s of e)this.header(s,t[s],{append:"set-cookie"===s})}}this.statusCode=this.statusCode||200}async _marshal(){let e=this.source;if(this._processors.marshal)try{e=await this._processors.marshal(this)}catch(e){throw i.boomify(e)}if(e instanceof n){if("function"!=typeof e._read)throw i.badImplementation("Stream must have a readable interface");if(e._readableState.objectMode)throw i.badImplementation("Cannot reply with stream in object mode");return void(this._payload=e)}const t="plain"===this.variety&&null!==e&&"string"!=typeof e;if(!t&&this.settings.stringify)throw i.badImplementation("Cannot set formatting options on non object response");let s=e;if(t){const e=this.settings.stringify||{},t=e.space||this.request.route.settings.json.space,n=e.replacer||this.request.route.settings.json.replacer,a=e.suffix||this.request.route.settings.json.suffix||"",r=this.request.route.settings.json.escape||!1;try{s=n||t?JSON.stringify(s,n,t):JSON.stringify(s)}catch(e){throw i.boomify(e)}a&&(s+=a),r&&(s=o.escapeJson(s))}this._payload=new l.Response.Payload(s,this.settings)}_tap(){return this._events&&(this._events.hasListeners("finish")||this._events.hasListeners("peek"))?new l.Response.Peek(this._events):null}_close(e){if(this._processors.close)try{this._processors.close(this)}catch(t){a.rethrow(t,"system"),e._log(["response","cleanup","error"],t)}const t=this._payload||this.source;t instanceof n&&l.Response.drain(t)}_isPayloadSupported(){return"head"!==this.request.method&&304!==this.statusCode&&204!==this.statusCode}static drain(e){e.unpipe&&e.unpipe(),e.close?e.close():e.destroy?e.destroy():c.drain(e)}},l.parseDate=function(e){try{return Date.parse(e)}catch(e){}},l.Response.Payload=class extends n.Readable{constructor(e,t){super(),this._data=e,this._prefix=null,this._suffix=null,this._sizeOffset=0,this._encoding=t.encoding}_read(e){this._prefix&&this.push(this._prefix,this._encoding),this._data&&this.push(this._data,this._encoding),this._suffix&&this.push(this._suffix,this._encoding),this.push(null)}size(){return this._data?(Buffer.isBuffer(this._data)?this._data.length:Buffer.byteLength(this._data,this._encoding))+this._sizeOffset:this._sizeOffset}jsonp(e){this._sizeOffset=this._sizeOffset+e.length+7,this._prefix="/**/"+e+"(",this._data=null===this._data||Buffer.isBuffer(this._data)?this._data:this._data.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"),this._suffix=");"}writeToStream(e){this._prefix&&e.write(this._prefix,this._encoding),this._data&&e.write(this._data,this._encoding),this._suffix&&e.write(this._suffix,this._encoding),e.end()}},l.Response.Peek=class extends n.Transform{constructor(e){super(),this._podium=e,this.on("finish",()=>e.emit("finish"))}_transform(e,t,s){this._podium.emit("peek",[e,t]),this.push(e,t),s()}}},function(e,t,s){"use strict";const n=s(0),i=s(57),a={annotations:Symbol("joi-annotations"),stringify:function(e,s){const n=typeof e;if(null===e)return"null";if("string"===n)return e;if(e instanceof t.Err||"function"===n||"symbol"===n)return e.toString();if("object"===n){if(Array.isArray(e)){let t="";for(let n=0;n<e.length;++n)t=t+(t.length?", ":"")+a.stringify(e[n],s);return s?"["+t+"]":t}return e.toString()}return JSON.stringify(e)}};t.Err=class{constructor(e,t,s,n,a,o,r){this.isJoi=!0,this.type=e,this.context=t||{},this.context.key=s.path[s.path.length-1],this.context.label=s.key,this.path=s.path,this.options=n,this.flags=a,this.message=o,this.template=r;const c=this.options.language;this.flags.label?this.context.label=this.flags.label:!c||""!==this.context.label&&null!==this.context.label||(this.context.label=c.root||i.errors.root)}toString(){if(this.message)return this.message;let e;this.template&&(e=this.template);const t=this.options.language;if(void 0===(e=e||n.reach(t,this.type)||n.reach(i.errors,this.type)))return`Error code "${this.type}" is not defined, your custom type is missing the correct language definition`;let s=n.reach(t,"messages.wrapArrays");if("boolean"!=typeof s&&(s=i.errors.messages.wrapArrays),null===e){const e=a.stringify(this.context.reason,s);return s?e.slice(1,-1):e}const o=/{{!?label}}/.test(e),r=e.length>2&&"!"===e[0]&&"!"===e[1];if(r&&(e=e.slice(2)),!o&&!r){const s=n.reach(t,"key");e="string"==typeof s?s+e:n.reach(i.errors,"key")+e}const c=e.replace(/{{(!?)([^}]+)}}/g,(e,t,i)=>{const o=n.reach(this.context,i),r=a.stringify(o,s);return t&&this.options.escapeHtml?n.escapeHtml(r):r});return this.toString=(()=>c),c}},t.create=function(e,s,n,i,a,o,r){return new t.Err(e,s,n,i,a,o,r)},t.process=function(e,t){if(!e)return null;let s="";const n=[],i=function(e,t,a){for(let o=0;o<e.length;++o){const r=e[o];if(r instanceof Error)return r;if(r.flags.error&&"function"!=typeof r.flags.error&&(!r.flags.selfError||!r.context.reason))return r.flags.error;let c;if(void 0===t&&(c=r.toString(),s=s+(s?". ":"")+c),r.context.reason){const e=i(r.context.reason,r.path,"override"===r.type?r.message:null);if(e)return e}else n.push({message:a||c||r.toString(),path:r.path,type:r.type,context:r.context})}},o=i(e);if(o)return o;const r=new Error(s);return r.isJoi=!0,r.name="ValidationError",r.details=n,r._object=t,r.annotate=a.annotate,r},a.safeStringify=function(e,t){return JSON.stringify(e,a.serializer(),t)},a.serializer=function(){const e=[],t=[];return function(s,n){if(t.length>0){const i=t.indexOf(this);~i?(t.length=i+1,e.length=i+1,e[i]=s):(t.push(this),e.push(s)),~t.indexOf(n)&&(n=((s,n)=>t[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(n)).join(".")+"]").call(this,s,n))}else t.push(n);if(n){const e=n[a.annotations];if(e){if(Array.isArray(n)){const t=[];for(let s=0;s<n.length;++s)e.errors[s]&&t.push(`_$idx$_${e.errors[s].sort().join(", ")}_$end$_`),t.push(n[s]);n=t}else{const t=Object.keys(e.errors);for(let s=0;s<t.length;++s){const i=t[s];n[`${i}_$key$_${e.errors[i].sort().join(", ")}_$end$_`]=n[i],n[i]=void 0}const s=Object.keys(e.missing);for(let t=0;t<s.length;++t){const i=s[t];n[`_$miss$_${i}|${e.missing[i]}_$end$_`]="__missing__"}}return n}}return n===1/0||n===-1/0||Number.isNaN(n)||"function"==typeof n||"symbol"==typeof n?"["+n.toString()+"]":n}},a.annotate=function(e){const t=e?"":"[31m",s=e?"":"[41m",i=e?"":"[0m";if("object"!=typeof this._object)return this.details[0].message;const o=n.clone(this._object||{});for(let e=this.details.length-1;e>=0;--e){const t=e+1,s=this.details[e],n=s.path;let i=o;for(let e=0;;++e){const o=n[e];if(i.isImmutable&&(i=i.clone()),!(e+1<n.length&&i[o]&&"string"!=typeof i[o])){const e=i[a.annotations]=i[a.annotations]||{errors:{},missing:{}},n=i[o],r=o||s.context.label;void 0!==n?(e.errors[r]=e.errors[r]||[],e.errors[r].push(t)):e.missing[r]=t;break}i=i[o]}}const r=/_\$key\$_([, \d]+)_\$end\$_"/g,c=/"_\$miss\$_([^|]+)\|(\d+)_\$end\$_": "__missing__"/g,l=/\s*"_\$idx\$_([, \d]+)_\$end\$_",?\n(.*)/g,p=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)]"/g;let u=a.safeStringify(o,2).replace(r,(e,s)=>`" ${t}[${s}]${i}`).replace(c,(e,n,a)=>`${s}"${n}"${i}${t} [${a}]: -- missing --${i}`).replace(l,(e,s,n)=>`\n${n} ${t}[${s}]${i}`).replace(p,(e,t)=>t);u=`${u}\n${t}`;for(let e=0;e<this.details.length;++e){u=`${u}\n[${e+1}] ${this.details[e].message}`}return u+=i}},function(e,t,s){"use strict";e.exports=class{constructor(e,t,s,n){this.key=e,this.path=t,this.parent=s,this.reference=n}}},function(e,t){e.exports=require("url")},function(e,t,s){"use strict";t.injection=Symbol("injection")},function(e,t){e.exports=require("os")},function(e,t,s){"use strict";const n=s(0),i=s(4),a={schema:{base:i.object({name:i.string().required(),clone:i.boolean(),tags:i.boolean(),spread:i.boolean(),channels:i.array().items(i.string()).single().unique().min(1)})}};a.schema.event=a.schema.base.keys({shared:i.boolean()}),a.schema.listener=a.schema.event.keys({listener:i.func().required(),context:i.object(),count:i.number().integer().min(1),filter:{tags:i.array().items(i.string()).single().unique().min(1).required(),all:i.boolean()}}),e.exports=a.Podium=function(e,t){this._eventListeners=Object.create(null),this._notificationsQueue=[],this._eventsProcessing=!1,this._sourcePodiums=[],e&&this.registerEvent(e,t)},a.Podium.decorate=function(e,t){a.Podium.call(e,null),Object.keys(t._eventListeners).forEach(s=>{e._eventListeners[s]={handlers:null,flags:t._eventListeners[s].flags}})},a.Podium.validate=function(e){const t=[];return[].concat(e).forEach(e=>{"string"==typeof e&&(e={name:e}),t.push(i.attempt(e,a.schema.event,"Invalid event options"))}),t},a.Podium.prototype.registerEvent=function(e,t={}){(e=n.flatten([].concat(e))).forEach(e=>{if(!e)return;if(e instanceof a.Podium)return this.registerPodium(e);"string"==typeof e&&(e={name:e}),!1!==t.validate&&(e=i.attempt(e,a.schema.event,"Invalid event options"));const s=e.name;this._eventListeners[s]?n.assert(e.shared,`Event ${s} exists`):(this._eventListeners[s]={handlers:null,flags:e},this._sourcePodiums.forEach(t=>{t._eventListeners[s]||(t._eventListeners[s]={handlers:null,flags:e})}))})},a.Podium.prototype.registerPodium=function(e){[].concat(e).forEach(e=>{-1===e._sourcePodiums.indexOf(this)&&(e._sourcePodiums.push(this),Object.keys(e._eventListeners).forEach(t=>{this._eventListeners[t]||(this._eventListeners[t]={handlers:null,flags:e._eventListeners[t].flags})}))})},a.Podium.prototype.emit=async function(e,t,s){const i=(e=a.criteria(e)).name;n.assert(i,"Criteria missing event name");const o=this._eventListeners[i];if(n.assert(o,`Unknown event ${i}`),n.assert(!e.channel||"string"==typeof e.channel,"Invalid channel name"),n.assert(!e.channel||!o.flags.channels||-1!==o.flags.channels.indexOf(e.channel),`Unknown ${e.channel} channel`),n.assert(!o.flags.spread||Array.isArray(t)||"function"==typeof t,"Data must be an array for spread event"),o.handlers||this._sourcePodiums.length){if("string"==typeof e.tags&&(e.tags=[e.tags]),e.tags&&Array.isArray(e.tags)){const t={};for(const s of e.tags)t[s]=!0;e.tags=t}if(o.handlers){const i=[],r=o.handlers.slice();for(let c=0;c<r.length;++c){const l=r[c];if(l.channels&&(!e.channel||-1===l.channels.indexOf(e.channel)))continue;if(l.filter){if(!e.tags)continue;const t=n.intersect(e.tags,l.filter.tags,!l.filter.all);if(!t||l.filter.all&&t.length!==l.filter.tags.length)continue}l.count&&(--l.count,l.count<1&&a.removeHandler(this,e.name,l)),s||"function"!=typeof t||(t=t(),s=!0);const p=a.flag("clone",l,o)?n.clone(t):t,u=a.flag("spread",l,o)&&Array.isArray(p)?p:[p];a.flag("tags",l,o)&&e.tags&&u.push(e.tags);try{const e=l.context?l.listener.apply(l.context,u):l.listener(...u);e&&"function"==typeof e.then&&i.push(e)}catch(e){i.push(Promise.reject(e))}}i.length&&await Promise.all(i)}if(this._sourcePodiums.length){const n=this._sourcePodiums.slice();await Promise.all(n.map(n=>n.emit(e,t,s)))}}},a.Podium.prototype.on=a.Podium.prototype.addListener=function(e,t,s){(e=a.criteria(e)).listener=t,e.context=s,e.filter&&("string"==typeof e.filter||Array.isArray(e.filter))&&(e.filter={tags:e.filter});const o=(e=i.attempt(e,a.schema.listener,"Invalid event listener options")).name,r=this._eventListeners[o];return n.assert(r,`Unknown event ${o}`),n.assert(!e.channels||!r.flags.channels||n.intersect(r.flags.channels,e.channels).length===e.channels.length,`Unknown event channels ${e.channels&&e.channels.join(", ")}`),this._eventListeners[o].handlers=this._eventListeners[o].handlers||[],this._eventListeners[o].handlers.push(e),this},a.Podium.prototype.once=function(e,t,s){return e=Object.assign(a.criteria(e),{count:1}),t?this.on(e,t,s):new Promise(t=>this.on(e,(...e)=>t(e),s))},a.Podium.prototype.removeListener=function(e,t){n.assert(this._eventListeners[e],`Unknown event ${e}`),n.assert("function"==typeof t,"Listener must be a function");const s=this._eventListeners[e].handlers;if(!s)return this;const i=s.filter(e=>e.listener!==t);return this._eventListeners[e].handlers=i.length?i:null,this},a.Podium.prototype.removeAllListeners=function(e){return n.assert(this._eventListeners[e],`Unknown event ${e}`),this._eventListeners[e].handlers=null,this},a.Podium.prototype.hasListeners=function(e){return n.assert(this._eventListeners[e],`Unknown event ${e}`),!!this._eventListeners[e].handlers},a.removeHandler=function(e,t,s){const n=e._eventListeners[t].handlers.filter(e=>e!==s);e._eventListeners[t].handlers=n.length?n:null},a.criteria=function(e){return"string"==typeof e?{name:e}:n.clone(e)},a.flag=function(e,t,s){return(void 0!==t[e]?t[e]:s.flags[e])||!1}},function(e,t){e.exports=require("zlib")},function(e,t,s){"use strict";const n=s(1),i=s(3),a=s(36),o=s(0),r=s(4),c=s(97),l=s(40),p=s(7),u=s(13),d=s(23),h=s(105),m=s(106),f=s(107),g=s(44),v=s(108),x={};e.exports=x.Route=class{constructor(e,t,s={}){const n=t._core,i=t.realm;p.apply("route",e,e.method,e.path);const r=e.method.toLowerCase();o.assert("head"!==r,"Cannot set HEAD route:",e.path);const c=i.modifiers.route.prefix?i.modifiers.route.prefix+("/"!==e.path?e.path:""):e.path;o.assert("/"===c||"/"!==c[c.length-1]||!n.settings.router.stripTrailingSlash,"Path cannot end with a trailing slash when configured to strip:",e.method,e.path);const m=i.modifiers.route.vhost||e.vhost;this.method=r,this.path=c;let g=e.options||e.config||{};"function"==typeof g&&(g=g.call(i.settings.bind,t)),g=p.enable(g),this._assert("get"!==r||!g.payload,"Cannot set payload settings on HEAD or GET request"),this._assert("get"!==r||!g.validate||!g.validate.payload,"Cannot validate HEAD or GET request payload"),this._assert(!e.rules||!g.rules,"Route rules can only appear once");const v=e.rules||g.rules,b=x.rules(v,{method:r,path:c,vhost:m},t);delete g.rules,this._assert(e.handler||g.handler,"Missing or undefined handler"),this._assert(!!e.handler^!!g.handler,"Handler must only appear once");const y=p.apply("handler",e.handler||g.handler);delete g.handler;const _=h.defaults(r,y,n),w=x.config([n.settings.routes,_,i.settings,b,g]);this.settings=p.apply("routeConfig",w,r,c);const k=void 0===this.settings.timeout.socket?12e4:this.settings.timeout.socket;if(this._assert(!this.settings.timeout.server||!k||this.settings.timeout.server<k,"Server timeout must be shorter than socket timeout"),this._assert(!this.settings.payload.timeout||!k||this.settings.payload.timeout<k,"Payload timeout must be shorter than socket timeout"),this._core=n,this.realm=i,this.settings.vhost=m,this.settings.plugins=this.settings.plugins||{},this.settings.app=this.settings.app||{},this._special=!!s.special,this._analysis=this._core.router.analyze(this.path),this.params=this._analysis.params,this.fingerprint=this._analysis.fingerprint,this.public={method:this.method,path:this.path,vhost:m,realm:i,settings:this.settings,fingerprint:this.fingerprint,auth:{access:e=>l.testAccess(e,this.public)}},this._setupValidation(),"get"===this.method?this.settings.payload=null:this.settings.payload.decoders=this._core.compression._decoders,this._assert(!this.settings.validate.payload||this.settings.payload.parse,"Route payload must be set to 'parse' when payload validation enabled"),this._assert(!this.settings.validate.state||this.settings.state.parse,"Route state must be set to 'parse' when state validation enabled"),this._assert(!this.settings.jsonp||"string"==typeof this.settings.jsonp,"Bad route JSONP parameter name"),this.settings.auth=!this._special&&this._core.auth._setupRoute(this.settings.auth,c),"get"===this.method&&"object"==typeof this.settings.cache&&(this.settings.cache.expiresIn||this.settings.cache.expiresAt)&&(this.settings.cache._statuses=new Set(this.settings.cache.statuses),this._cache=new a.Policy({expiresIn:this.settings.cache.expiresIn,expiresAt:this.settings.cache.expiresAt})),this.settings.cors=u.route(this.settings.cors),this.settings.security=f.route(this.settings.security),this.settings.handler=h.configure(y,this),this._prerequisites=h.prerequisitesConfig(this.settings.pre),this._extensions={onPreResponse:d.combine(this,"onPreResponse")},this._special)return this._cycle=[x.drain,h.execute],void this.rebuild();this._extensions.onPreAuth=d.combine(this,"onPreAuth"),this._extensions.onCredentials=d.combine(this,"onCredentials"),this._extensions.onPostAuth=d.combine(this,"onPostAuth"),this._extensions.onPreHandler=d.combine(this,"onPreHandler"),this._extensions.onPostHandler=d.combine(this,"onPostHandler"),this.rebuild()}_setupValidation(){const e=this.settings.validate;if("get"===this.method&&(e.payload=null),this._assert(!e.params||this.params.length,"Cannot set path parameters validations without path parameters"),["headers","params","query","payload","state"].forEach(t=>{e[t]=v.compile(e[t])}),void 0!==this.settings.response.schema||this.settings.response.status){this.settings.response._validate=!0;const e=this.settings.response.schema;this.settings.response.status=this.settings.response.status||{};const t=Object.keys(this.settings.response.status);if(!0!==e||t.length){this.settings.response.schema=v.compile(e);for(const e of t)this.settings.response.status[e]=v.compile(this.settings.response.status[e])}else this.settings.response._validate=!1}}rebuild(e){if(e&&this._extensions[e.type].add(e),this._special)return this._postCycle=this._extensions.onPreResponse.nodes?[this._extensions.onPreResponse]:[],void this._buildMarshalCycle();this._cycle=[],this.settings.jsonp&&this._cycle.push(x.parseJSONP),this.settings.state.parse&&this._cycle.push(x.state),this._extensions.onPreAuth.nodes&&this._cycle.push(this._extensions.onPreAuth),this._core.auth._enabled(this,"authenticate")&&this._cycle.push(l.authenticate),"get"!==this.method&&(this._cycle.push(x.payload),this._core.auth._enabled(this,"payload")&&this._cycle.push(l.payload)),this._core.auth._enabled(this,"authenticate")&&this._extensions.onCredentials.nodes&&this._cycle.push(this._extensions.onCredentials),this._core.auth._enabled(this,"access")&&this._cycle.push(l.access),this._extensions.onPostAuth.nodes&&this._cycle.push(this._extensions.onPostAuth),this.settings.validate.headers&&this._cycle.push(v.headers),this.settings.validate.params&&this._cycle.push(v.params),this.settings.jsonp&&this._cycle.push(x.cleanupJSONP),this.settings.validate.query&&this._cycle.push(v.query),this.settings.validate.payload&&this._cycle.push(v.payload),this.settings.validate.state&&this._cycle.push(v.state),this._extensions.onPreHandler.nodes&&this._cycle.push(this._extensions.onPreHandler),this._cycle.push(h.execute),this._extensions.onPostHandler.nodes&&this._cycle.push(this._extensions.onPostHandler),this._postCycle=[],this.settings.response._validate&&0!==this.settings.response.sample&&this._postCycle.push(v.response),this._extensions.onPreResponse.nodes&&this._postCycle.push(this._extensions.onPreResponse),this._buildMarshalCycle()}_buildMarshalCycle(){this._marshalCycle=[m.type],this.settings.cors&&this._marshalCycle.push(u.headers),this.settings.security&&this._marshalCycle.push(f.headers),this._marshalCycle.push(m.entity),"get"!==this.method&&"*"!==this.method||this._marshalCycle.push(m.unmodified),this._marshalCycle.push(m.cache),this._marshalCycle.push(m.state),this._marshalCycle.push(m.content),this._core.auth._enabled(this,"response")&&this._marshalCycle.push(l.response)}_assert(e,t){if(!e){if("_"===this.method[0])throw new Error(t);throw new Error(`${t}: ${this.method.toUpperCase()} ${this.path}`)}}},x.state=async function(e){e.state={};const t=e.raw.req.headers.cookie;if(!t)return;try{var s=await e._core.states.parse(t)}catch(e){i.rethrow(e,"system");var n=e}const{states:a,failed:o=[]}=s||n;e.state=a||{};for(const t of o)t.settings.clearInvalid&&e._clearState(t.name);return n?(n.header=t,e._core.toolkit.failAction(e,e.route.settings.state.failAction,n,{tags:["state","error"]})):void 0},x.payload=async function(e){if("get"!==e.method&&"head"!==e.method){e._expectContinue&&e.raw.res.writeContinue();try{const{payload:t,mime:s}=await c.parse(e.raw.req,e._tap(),e.route.settings.payload);e._isPayloadPending=!(!t||!t._readableState),e.mime=s,e.payload=t}catch(t){return i.rethrow(t,"system"),e._isPayloadPending?(await x.drain(e),e._isPayloadPending=!1):e._isPayloadPending=!0,e.mime=t.mime,e.payload=null,e._core.toolkit.failAction(e,e.route.settings.payload.failAction,t,{tags:["payload","error"]})}}},x.drain=async function(e){await g.drain(e.raw.req),e._isPayloadPending=!1},x.jsonpRegex=/^[\w\$\[\]\.]+$/,x.parseJSONP=function(e){const t=e.query[e.route.settings.jsonp];if(t){if(!1===x.jsonpRegex.test(t))throw n.badRequest("Invalid JSONP parameter value");e.jsonp=t}},x.cleanupJSONP=function(e){e.jsonp&&delete e.query[e.route.settings.jsonp]},x.config=function(e){if(!e.length)return{};let t=e[0];for(const s of e)t=o.applyToDefaultsWithShallow(t,s,["bind","validate.headers","validate.payload","validate.params","validate.query","validate.state"]);return t},x.rules=function(e,t,s){const n=[];let i=s.realm;for(;i;){if(i._rules){const s=i._rules.settings.validate?r.attempt(e,i._rules.settings.validate.schema,i._rules.settings.validate.options):e,a=i._rules.processor(s,t);a&&n.unshift(a)}i=i.parent}return x.config(n)}},function(e,t,s){"use strict";const n=s(0),i=s(31),a={};e.exports=a.Ext=class{constructor(e,t){this._topo=new i,this._core=t,this._routes=[],this.type=e,this.nodes=null}add(e){const t=[].concat(e.method),s=e.options;for(const n of t){const t={before:s.before,after:s.after,group:e.realm.plugin,sort:this._core.extensionsSeq++},i={func:n,bind:s.bind,server:e.server,realm:e.realm};this._topo.add(i,t)}this.nodes=this._topo.nodes;for(const t of this._routes)t.rebuild(e)}merge(e){const t=[];for(const s of e)t.push(s._topo);this._topo.merge(t),this.nodes=this._topo.nodes.length?this._topo.nodes:null}subscribe(e){this._routes.push(e)}static combine(e,t){const s=new a.Ext(t,e._core),i=e.settings.ext[t];if(i)for(let t of i)t=Object.assign({},t),n.assert(!t.options.sandbox,"Cannot specify sandbox option for route extension"),t.realm=e.realm,s.add(t);const o=e._core.extensions.route[t],r=e.realm._extensions[t];return s.merge([o,r]),o.subscribe(e),r.subscribe(e),s}}},function(e,t){e.exports=require("assert")},function(e,t,s){"use strict";const n=s(0),i=s(26);t.concat=function(e,t){if(!t)return e;const s=Object.assign({},e),a=t.language;return Object.assign(s,t),a&&e&&e.language&&(s.language=n.applyToDefaults(e.language,a)),s[i.settingsCache]&&delete s[i.settingsCache],s}},function(e,t,s){"use strict";e.exports={settingsCache:Symbol("settingsCache")}},function(e,t,s){"use strict";const n=s(6),i={extendedCheckForValue:function(e,t){const s=typeof e;if("object"===s){if(e instanceof Date)return t=>t instanceof Date&&e.getTime()===t.getTime();if(Buffer.isBuffer(e))return t=>Buffer.isBuffer(t)&&e.length===t.length&&e.toString("binary")===t.toString("binary")}else if(t&&"string"===s){const t=e.toLowerCase();return e=>"string"==typeof e&&t===e.toLowerCase()}return null}};e.exports=class e{constructor(e){this._set=new Set(e),this._hasRef=!1}add(e,t){const s=n.isRef(e);return!s&&this.has(e,null,null,!1)?this:(void 0!==t&&n.push(t,e),this._set.add(e),this._hasRef|=s,this)}merge(e,t){for(const t of e._set)this.add(t);for(const e of t._set)this.remove(e);return this}remove(e){return this._set.delete(e),this}has(e,t,s,n){return!!this.get(e,t,s,n)}get(e,t,s,a){if(!this._set.size)return!1;if(this._set.has(e))return{value:e};const o=i.extendedCheckForValue(e,a);if(!o){if(t&&this._hasRef)for(let i of this._set)if(n.isRef(i)){const n=(i=[].concat(i(t.reference||t.parent,s))).indexOf(e);if(n>=0)return{value:i[n]}}return!1}return this._has(e,t,s,o)}_has(e,t,s,i){const a=!(!t||!this._hasRef),o=function(t){return e===t||i(t)};for(let e of this._set)if(a&&n.isRef(e)&&(e=e(t.reference||t.parent,s),Array.isArray(e))){const t=e.findIndex(o);if(t>=0)return{value:e[t]}}else if(o(e))return{value:e};return!1}values(e){if(e&&e.stripUndefined){const e=[];for(const t of this._set)void 0!==t&&e.push(t);return e}return Array.from(this._set)}slice(){const t=new e(this._set);return t._hasRef=this._hasRef,t}concat(t){const s=new e([...this._set,...t._set]);return s._hasRef=!!(this._hasRef|t._hasRef),s}}},function(e,t,s){"use strict";const n=s(0),i=s(5),a=s(9),o=s(6),r={};r.Alternatives=class extends i{constructor(){super(),this._type="alternatives",this._invalids.remove(null),this._inner.matches=[]}_init(...e){return e.length?this.try(...e):this}_base(e,t,s){const n=[],i=this._inner.matches.length,a=this._baseType;for(let o=0;o<i;++o){const r=this._inner.matches[o];if(!r.schema){const n=r.peek||r.is,c=r.is?r.ref(t.reference||t.parent,s):e;if(n._validate(c,null,s,t.parent).errors){if(r.otherwise)return r.otherwise._validate(e,t,s)}else if(r.then)return r.then._validate(e,t,s);if(o===i-1&&a)return a._validate(e,t,s);continue}const c=r.schema._validate(e,t,s);if(!c.errors)return c;n.push(...c.errors)}return n.length?{errors:this.createError("alternatives.child",{reason:n},t,s)}:{errors:this.createError("alternatives.base",null,t,s)}}try(...e){e=n.flatten(e),n.assert(e.length,"Cannot add other alternatives without at least one schema");const t=this.clone();for(let s=0;s<e.length;++s){const n=a.schema(this._currentJoi,e[s]);n._refs.length&&t._refs.push(...n._refs),t._inner.matches.push({schema:n})}return t}when(e,t){let s=!1;n.assert(o.isRef(e)||"string"==typeof e||(s=e instanceof i),"Invalid condition:",e),n.assert(t,"Missing options"),n.assert("object"==typeof t,"Invalid options"),s?n.assert(!t.hasOwnProperty("is"),'"is" can not be used with a schema condition'):n.assert(t.hasOwnProperty("is"),'Missing "is" directive'),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');const r=this.clone();let c;s||(c=a.schema(this._currentJoi,t.is),null!==t.is&&(o.isRef(t.is)||t.is instanceof i)||(c=c.required()));const l={ref:s?null:a.ref(e),peek:s?e:null,is:c,then:void 0!==t.then?a.schema(this._currentJoi,t.then):void 0,otherwise:void 0!==t.otherwise?a.schema(this._currentJoi,t.otherwise):void 0};return r._baseType&&(l.then=l.then&&r._baseType.concat(l.then),l.otherwise=l.otherwise&&r._baseType.concat(l.otherwise)),s||(o.push(r._refs,l.ref),r._refs.push(...l.is._refs)),l.then&&l.then._refs.length&&r._refs.push(...l.then._refs),l.otherwise&&l.otherwise._refs.length&&r._refs.push(...l.otherwise._refs),r._inner.matches.push(l),r}label(e){const t=super.label(e);return t._inner.matches=t._inner.matches.map(t=>t.schema?{schema:t.schema.label(e)}:((t=Object.assign({},t)).then&&(t.then=t.then.label(e)),t.otherwise&&(t.otherwise=t.otherwise.label(e)),t)),t}describe(){const e=super.describe(),t=[];for(let e=0;e<this._inner.matches.length;++e){const s=this._inner.matches[e];if(s.schema)t.push(s.schema.describe());else{const e=s.is?{ref:s.ref.toString(),is:s.is.describe()}:{peek:s.peek.describe()};s.then&&(e.then=s.then.describe()),s.otherwise&&(e.otherwise=s.otherwise.describe()),t.push(e)}}return e.alternatives=t,e}},e.exports=new r.Alternatives},function(e,t,s){"use strict";const n=s(5),i=s(6),a=s(0),o={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};o.invalidDate=new Date(""),o.isIsoDate=(()=>{const e=o.isoDate.toString();return t=>t&&t.toString()===e})(),o.Date=class extends n{constructor(){super(),this._type="date"}_base(e,t,s){const n={value:s.convert&&o.Date.toDate(e,this._flags.format,this._flags.timestamp,this._flags.multiplier)||e};if(n.value instanceof Date&&!isNaN(n.value.getTime()))n.errors=null;else if(s.convert){let i;i=o.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?`timestamp.${this._flags.timestamp}`:"base",n.errors=this.createError(`date.${i}`,{value:e},t,s)}else n.errors=this.createError("date.strict",{value:e},t,s);return n}static toDate(e,t,s,n){if(e instanceof Date)return e;if("string"==typeof e||"number"==typeof e&&!isNaN(e)&&isFinite(e)){const i=t&&o.isIsoDate(t);let a;if(!i&&"string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),a=i?t.test(e)?new Date(e.toString()):o.invalidDate:s?/^\s*$/.test(e)?o.invalidDate:new Date(e*n):new Date(e),!isNaN(a.getTime()))return a}return null}iso(){if(this._flags.format===o.isoDate)return this;const e=this.clone();return e._flags.format=o.isoDate,e}timestamp(e="javascript"){const t=["javascript","unix"];if(a.assert(t.includes(e),'"type" must be one of "'+t.join('", "')+'"'),this._flags.timestamp===e)return this;const s=this.clone();return s._flags.timestamp=e,s._flags.multiplier="unix"===e?1e3:1,s}_isIsoDate(e){return o.isoDate.test(e)}},o.compare=function(e,t){return function(s){const n="now"===s,r=i.isRef(s);return n||r||(s=o.Date.toDate(s)),a.assert(s,"Invalid date format"),this._test(e,s,function(i,a,c){let l;if(n)l=Date.now();else if(r){const e=s(a.reference||a.parent,c);if(!(l=o.Date.toDate(e)))return this.createError("date.ref",{ref:s,value:e},a,c);l=l.getTime()}else l=s.getTime();return t(i.getTime(),l)?i:this.createError("date."+e,{limit:new Date(l),value:i},a,c)})}},o.Date.prototype.min=o.compare("min",(e,t)=>e>=t),o.Date.prototype.max=o.compare("max",(e,t)=>e<=t),o.Date.prototype.greater=o.compare("greater",(e,t)=>e>t),o.Date.prototype.less=o.compare("less",(e,t)=>e<t),e.exports=new o.Date},function(e,t,s){"use strict";const n=s(0),i=s(31),a=s(5),o=s(15),r=s(9),c=s(16),l={};l.Object=class extends a{constructor(){super(),this._type="object",this._inner.children=null,this._inner.renames=[],this._inner.dependencies=[],this._inner.patterns=[]}_init(...e){return e.length?this.keys(...e):this}_base(e,t,s){let i=e;const a=[],r=()=>({value:i,errors:a.length?a:null});"string"==typeof e&&s.convert&&(e=l.safeParse(e));const p=this._flags.func?"function":"object";if(!e||typeof e!==p||Array.isArray(e))return a.push(this.createError(p+".base",{value:e},t,s)),r();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return i=e,r();if(i===e){"object"===p?i=Object.create(Object.getPrototypeOf(e)):(i=function(...t){return e.apply(this,t)}).prototype=n.clone(e.prototype);const t=Object.keys(e);for(let s=0;s<t.length;++s)i[t[s]]=e[t[s]]}else i=e;const u={};for(let e=0;e<this._inner.renames.length;++e){const n=this._inner.renames[e];if(n.isRegExp){const e=Object.keys(i),o=[];for(let t=0;t<e.length;++t)n.from.test(e[t])&&o.push(e[t]);const c=o.every(e=>void 0===i[e]);if(n.options.ignoreUndefined&&c)continue;if(!n.options.multiple&&u[n.to]&&(a.push(this.createError("object.rename.regex.multiple",{from:o,to:n.to},t,s)),s.abortEarly))return r();if(Object.prototype.hasOwnProperty.call(i,n.to)&&!n.options.override&&!u[n.to]&&(a.push(this.createError("object.rename.regex.override",{from:o,to:n.to},t,s)),s.abortEarly))return r();if(c?delete i[n.to]:i[n.to]=i[o[o.length-1]],u[n.to]=!0,!n.options.alias)for(let e=0;e<o.length;++e)delete i[o[e]]}else{if(n.options.ignoreUndefined&&void 0===i[n.from])continue;if(!n.options.multiple&&u[n.to]&&(a.push(this.createError("object.rename.multiple",{from:n.from,to:n.to},t,s)),s.abortEarly))return r();if(Object.prototype.hasOwnProperty.call(i,n.to)&&!n.options.override&&!u[n.to]&&(a.push(this.createError("object.rename.override",{from:n.from,to:n.to},t,s)),s.abortEarly))return r();void 0===i[n.from]?delete i[n.to]:i[n.to]=i[n.from],u[n.to]=!0,n.options.alias||delete i[n.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return r();const d=new Set(Object.keys(i));if(this._inner.children){const e=[];for(let n=0;n<this._inner.children.length;++n){const o=this._inner.children[n],l=o.key,p=i[l];d.delete(l);const u=new c(l,[...t.path,l],i,t.reference),h=o.schema._validate(p,u,s);if(h.errors){if(a.push(this.createError("object.child",{key:l,child:o.schema._getLabel(l),reason:h.errors},u,s)),s.abortEarly)return r()}else o.schema._flags.strip||void 0===h.value&&h.value!==p?(e.push(l),i[l]=h.finalValue):void 0!==h.value&&(i[l]=h.value)}for(let t=0;t<e.length;++t)delete i[e[t]]}if(d.size&&this._inner.patterns.length)for(const e of d){const n=new c(e,[...t.path,e],i,t.reference),o=i[e];for(let t=0;t<this._inner.patterns.length;++t){const c=this._inner.patterns[t];if(c.regex?c.regex.test(e):!c.schema.validate(e).error){d.delete(e);const t=c.rule._validate(o,n,s);if(t.errors&&(a.push(this.createError("object.child",{key:e,child:c.rule._getLabel(e),reason:t.errors},n,s)),s.abortEarly))return r();i[e]=t.value}}}if(d.size&&(this._inner.children||this._inner.patterns.length)){if(s.stripUnknown&&!0!==this._flags.allowUnknown||s.skipFunctions){const e=!!s.stripUnknown&&(!0===s.stripUnknown||!!s.stripUnknown.objects);for(const t of d)e?(delete i[t],d.delete(t)):"function"==typeof i[t]&&d.delete(t)}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!s.allowUnknown)for(const e of d)a.push(this.createError("object.allowUnknown",{child:e,value:i[e]},{key:e,path:[...t.path,e]},s,{}))}for(let e=0;e<this._inner.dependencies.length;++e){const p=this._inner.dependencies[e],u=null!==p.key,d=u&&p.key.split("."),h=u?new c(d[d.length-1],[...t.path,...d]):new c(null,t.path),m=l[p.type].call(this,p.key,u&&n.reach(i,p.key,{functions:!0}),p.peers,i,h,s);if(m instanceof o.Err&&(a.push(m),s.abortEarly))return r()}return r()}keys(e){n.assert(null==e||"object"==typeof e,"Object schema must be a valid object"),n.assert(!(e&&e instanceof a),"Object schema cannot be a joi schema");const t=this.clone();if(!e)return t._inner.children=null,t;const s=Object.keys(e);if(!s.length)return t._inner.children=[],t;const o=new i;if(t._inner.children)for(let e=0;e<t._inner.children.length;++e){const n=t._inner.children[e];s.includes(n.key)||o.add(n,{after:n._refs,group:n.key})}for(let t=0;t<s.length;++t){const n=s[t],i=e[n];try{const e=r.schema(this._currentJoi,i);o.add({key:n,schema:e},{after:e._refs,group:n})}catch(e){throw e.hasOwnProperty("path")?e.path=n+"."+e.path:e.path=n,e}}return t._inner.children=o.nodes,t}append(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}unknown(e){const t=!1!==e;if(this._flags.allowUnknown===t)return this;const s=this.clone();return s._flags.allowUnknown=t,s}length(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,s,n){return Object.keys(t).length===e?t:this.createError("object.length",{limit:e,value:t},s,n)})}min(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,s,n){return Object.keys(t).length>=e?t:this.createError("object.min",{limit:e,value:t},s,n)})}max(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,s,n){return Object.keys(t).length<=e?t:this.createError("object.max",{limit:e,value:t},s,n)})}pattern(e,t){const s=e instanceof RegExp;n.assert(s||e instanceof a,"pattern must be a regex or schema"),n.assert(void 0!==t,"Invalid rule"),s&&n.assert(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode");try{t=r.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=`${e.message}(${e.path})`),e}const i=this.clone();return s?i._inner.patterns.push({regex:e,rule:t}):i._inner.patterns.push({schema:e,rule:t}),i}schema(){return this._test("schema",null,function(e,t,s){return e instanceof a?e:this.createError("object.schema",null,t,s)})}with(e,t){return n.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",e,t)}without(e,t){return n.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",e,t)}xor(...e){return e=n.flatten(e),this._dependency("xor",null,e)}oxor(...e){return this._dependency("oxor",null,e)}or(...e){return e=n.flatten(e),this._dependency("or",null,e)}and(...e){return e=n.flatten(e),this._dependency("and",null,e)}nand(...e){return e=n.flatten(e),this._dependency("nand",null,e)}requiredKeys(...e){return e=n.flatten(e),this.applyFunctionToChildren(e,"required")}optionalKeys(...e){return e=n.flatten(e),this.applyFunctionToChildren(e,"optional")}forbiddenKeys(...e){return e=n.flatten(e),this.applyFunctionToChildren(e,"forbidden")}rename(e,t,s){n.assert("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),n.assert("string"==typeof t,"Rename missing the to argument"),n.assert(t!==e,"Cannot rename key to same name:",e);for(let t=0;t<this._inner.renames.length;++t)n.assert(this._inner.renames[t].from!==e,"Cannot rename the same key multiple times");const i=this.clone();return i._inner.renames.push({from:e,to:t,options:n.applyToDefaults(l.renameDefaults,s||{}),isRegExp:e instanceof RegExp}),i}applyFunctionToChildren(e,t,s=[],i){e=[].concat(e),n.assert(e.length>0,"expected at least one children");const a=l.groupChildren(e);let o;if(""in a?(o=this[t](...s),delete a[""]):o=this.clone(),o._inner.children){i=i?i+".":"";for(let e=0;e<o._inner.children.length;++e){const n=o._inner.children[e],r=a[n.key];r&&(o._inner.children[e]={key:n.key,_refs:n._refs,schema:n.schema.applyFunctionToChildren(r,t,s,i+n.key)},delete a[n.key])}}const r=Object.keys(a);return n.assert(0===r.length,"unknown key(s)",r.join(", ")),o}_dependency(e,t,s){s=[].concat(s);for(let t=0;t<s.length;++t)n.assert("string"==typeof s[t],e,"peers must be a string or array of strings");const i=this.clone();return i._inner.dependencies.push({type:e,key:t,peers:s}),i}describe(e){const t=super.describe();if(t.rules)for(let e=0;e<t.rules.length;++e){const s=t.rules[e];s.arg&&"object"==typeof s.arg&&s.arg.schema&&s.arg.ref&&(s.arg={schema:s.arg.schema.describe(),ref:s.arg.ref.toString()})}if(this._inner.children&&!e){t.children={};for(let e=0;e<this._inner.children.length;++e){const s=this._inner.children[e];t.children[s.key]=s.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=n.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(let e=0;e<this._inner.patterns.length;++e){const s=this._inner.patterns[e];s.regex?t.patterns.push({regex:s.regex.toString(),rule:s.rule.describe()}):t.patterns.push({schema:s.schema.describe(),rule:s.rule.describe()})}}return this._inner.renames.length>0&&(t.renames=n.clone(this._inner.renames)),t}assert(e,t,s){e=r.ref(e),n.assert(e.isContext||e.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),s=s||"pass the assertion test",n.assert("string"==typeof s,"Message must be a string");try{t=r.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=`${e.message}(${e.path})`),e}const i=e.path[e.path.length-1],a=e.path.join(".");return this._test("assert",{schema:t,ref:e},function(n,o,r){if(!t._validate(e(n),null,r,n).errors)return n;const l=new c(i,e.path,o.parent,o.reference);return this.createError("object.assert",{ref:a,message:s},l,r)})}type(e,t=e.name){n.assert("function"==typeof e,"type must be a constructor function");const s={name:t,ctor:e};return this._test("type",s,function(t,n,i){return t instanceof e?t:this.createError("object.type",{type:s.name,value:t},n,i)})}},l.safeParse=function(e){try{return JSON.parse(e)}catch(e){}return e},l.renameDefaults={alias:!1,multiple:!1,override:!1},l.groupChildren=function(e){e.sort();const t={};for(let s=0;s<e.length;++s){const i=e[s];n.assert("string"==typeof i,"children must be strings");const a=i.split(".")[0];(t[a]=t[a]||[]).push(i.substring(a.length+1))}return t},l.keysToLabels=function(e,t){if(!e._inner.children)return t;const s=function(t){const s=e._currentJoi.reach(e,t);return s?s._getLabel(t):t};return Array.isArray(t)?t.map(s):s(t)},l.with=function(e,t,s,i,a,o){if(void 0!==t)for(let t=0;t<s.length;++t){const r=s[t];if(void 0===n.reach(i,r,{functions:!0}))return this.createError("object.with",{main:e,mainWithLabel:l.keysToLabels(this,e),peer:r,peerWithLabel:l.keysToLabels(this,r)},a,o)}},l.without=function(e,t,s,i,a,o){if(void 0!==t)for(let t=0;t<s.length;++t){const r=s[t];if(void 0!==n.reach(i,r,{functions:!0}))return this.createError("object.without",{main:e,mainWithLabel:l.keysToLabels(this,e),peer:r,peerWithLabel:l.keysToLabels(this,r)},a,o)}},l.xor=function(e,t,s,i,a,o){const r=[];for(let e=0;e<s.length;++e){const t=s[e];void 0!==n.reach(i,t,{functions:!0})&&r.push(t)}if(1===r.length)return;const c={peers:s,peersWithLabels:l.keysToLabels(this,s)};return 0===r.length?this.createError("object.missing",c,a,o):(c.present=r,c.presentWithLabels=l.keysToLabels(this,r),this.createError("object.xor",c,a,o))},l.oxor=function(e,t,s,i,a,o){const r=[];for(let e=0;e<s.length;++e){const t=s[e];void 0!==n.reach(i,t,{functions:!0})&&r.push(t)}if(!r.length||1===r.length)return;const c={peers:s,peersWithLabels:l.keysToLabels(this,s)};return c.present=r,c.presentWithLabels=l.keysToLabels(this,r),this.createError("object.oxor",c,a,o)},l.or=function(e,t,s,i,a,o){for(let e=0;e<s.length;++e){const t=s[e];if(void 0!==n.reach(i,t,{functions:!0}))return}return this.createError("object.missing",{peers:s,peersWithLabels:l.keysToLabels(this,s)},a,o)},l.and=function(e,t,s,i,a,o){const r=[],c=[],p=s.length;for(let e=0;e<p;++e){const t=s[e];void 0===n.reach(i,t,{functions:!0})?r.push(t):c.push(t)}if(!(r.length===p||c.length===p))return this.createError("object.and",{present:c,presentWithLabels:l.keysToLabels(this,c),missing:r,missingWithLabels:l.keysToLabels(this,r)},a,o)},l.nand=function(e,t,s,i,a,o){const r=[];for(let e=0;e<s.length;++e){const t=s[e];void 0!==n.reach(i,t,{functions:!0})&&r.push(t)}const c=s[0],p=s.slice(1);return r.length===s.length?this.createError("object.nand",{main:c,mainWithLabel:l.keysToLabels(this,c),peers:p,peersWithLabels:l.keysToLabels(this,p)},a,o):null},e.exports=new l.Object},function(e,t,s){"use strict";const n=s(0),i={};e.exports=class{constructor(){this._items=[],this.nodes=[]}add(e,t){const s=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),a=t.group||"?",o=t.sort||0;n.assert(!s.includes(a),`Item cannot come before itself: ${a}`),n.assert(!s.includes("?"),"Item cannot come before unassociated items"),n.assert(!i.includes(a),`Item cannot come after itself: ${a}`),n.assert(!i.includes("?"),"Item cannot come after unassociated items"),[].concat(e).forEach((e,t)=>{const n={seq:this._items.length,sort:o,before:s,after:i,group:a,node:e};this._items.push(n)});const r=this._sort();return n.assert(!r,"item","?"!==a?`added into group ${a}`:"","created a dependencies error"),this.nodes}merge(e){e=[].concat(e);for(let t=0;t<e.length;++t){const s=e[t];if(s)for(let e=0;e<s._items.length;++e){const t=Object.assign({},s._items[e]);this._items.push(t)}}this._items.sort(i.mergeSort);for(let e=0;e<this._items.length;++e)this._items[e].seq=e;const t=this._sort();return n.assert(!t,"merge created a dependencies error"),this.nodes}_sort(){const e={},t=Object.create(null),s=Object.create(null);for(let n=0;n<this._items.length;++n){const i=this._items[n],a=i.seq,o=i.group;s[o]=s[o]||[],s[o].push(a),e[a]=i.before;const r=i.after;for(let e=0;e<r.length;++e)t[r[e]]=(t[r[e]]||[]).concat(a)}let n=Object.keys(e);for(let t=0;t<n.length;++t){const i=n[t],a=[],o=Object.keys(e[i]);for(let t=0;t<o.length;++t){const n=e[i][o[t]];s[n]=s[n]||[];for(let e=0;e<s[n].length;++e)a.push(s[n][e])}e[i]=a}const i=Object.keys(t);for(let n=0;n<i.length;++n){const a=i[n];if(s[a])for(let n=0;n<s[a].length;++n){const i=s[a][n];e[i]=e[i].concat(t[a])}}let a;const o={};n=Object.keys(e);for(let t=0;t<n.length;++t){const s=n[t];a=e[s];for(let e=0;e<a.length;++e)o[a[e]]=(o[a[e]]||[]).concat(s)}const r={},c=[];for(let e=0;e<this._items.length;++e){let t=e;if(o[e]){t=null;for(let e=0;e<this._items.length;++e){if(!0===r[e])continue;o[e]||(o[e]=[]);const s=o[e].length;let n=0;for(let t=0;t<s;++t)r[o[e][t]]&&++n;if(n===s){t=e;break}}}null!==t&&(r[t]=!0,c.push(t))}if(c.length!==this._items.length)return new Error("Invalid dependencies");const l={};for(let e=0;e<this._items.length;++e){const t=this._items[e];l[t.seq]=t}const p=[];this._items=c.map(e=>{const t=l[e];return p.push(t.node),t}),this.nodes=p}},i.mergeSort=((e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1)},function(e,t,s){"use strict";const n={rfc3986:{},generate:function(){const e="|";n.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",n.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";const t="a-zA-Z0-9-\\._~",s="!\\$&'\\(\\)\\*\\+,;=",i=t+"%0-9A-Fa-f"+s+":@",a="["+i+"]",o="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";n.rfc3986.IPv4address="(?:"+o+"\\.){3}"+o;const r="[0-9A-Fa-f]{1,4}",c="(?:"+r+":"+r+"|"+n.rfc3986.IPv4address+")",l="(?:"+r+":){6}"+c,p="::(?:"+r+":){5}"+c,u="(?:"+r+")?::(?:"+r+":){4}"+c,d="(?:(?:"+r+":){0,1}"+r+")?::(?:"+r+":){3}"+c,h="(?:(?:"+r+":){0,2}"+r+")?::(?:"+r+":){2}"+c,m="(?:(?:"+r+":){0,3}"+r+")?::"+r+":"+c,f="(?:(?:"+r+":){0,4}"+r+")?::"+c;n.rfc3986.IPv6address="(?:"+l+e+p+e+u+e+d+e+h+e+m+e+f+e+"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}"+e+"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",n.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+t+s+":]+",n.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";const g="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?"+("(?:"+("\\[(?:"+n.rfc3986.IPv6address+e+n.rfc3986.IPvFuture+")\\]")+e+n.rfc3986.IPv4address+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})")+"(?::[0-9]*)?",v=a+"+",x="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",b="\\/(?:"+v+x+")?";n.rfc3986.hierPart="(?:(?:\\/\\/"+g+x+")"+e+b+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",n.rfc3986.relativeRef="(?:(?:\\/\\/"+g+x+")"+e+b+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*"+e+")",n.rfc3986.query="["+i+"\\/\\?]*(?=#|$)",n.rfc3986.queryWithSquareBrackets="["+i+"\\[\\]\\/\\?]*(?=#|$)",n.rfc3986.fragment="["+i+"\\/\\?]*"}};n.generate(),e.exports=n.rfc3986},function(e,t,s){"use strict";const n=s(0),i=s(4),a=s(73),o=s(74),r=s(18),c={};c.options=i.object().keys({url:i.alternatives([i.string(),i.object().keys({protocol:i.string(),hostname:i.string(),port:i.any(),pathname:i.string().required(),query:i.any()})]).required(),headers:i.object(),payload:i.any(),simulate:{end:i.boolean(),split:i.boolean(),error:i.boolean(),close:i.boolean()},authority:i.string(),remoteAddress:i.string(),method:i.string(),validate:i.boolean()}),t.inject=function(e,t){if(!1!==(t="string"==typeof t?{url:t}:t).validate)try{n.assert("function"==typeof e,"Invalid dispatch function"),i.assert(t,c.options)}catch(e){return Promise.reject(e)}return new Promise(s=>{const n=new a(t),i=new o(n,s);n.prepare(()=>e(n,i))})},t.isInjection=function(e){return!!e[r.injection]}},function(e,t,s){"use strict";const n=s(3),i=s(0),a={maxLength:256,wildcards:["x","X","*"],any:Symbol("any"),versionRx:/^\s*[vV]?(\d+|[xX*])(?:\.(\d+|[xX*])(?:\.(\d+|[xX*])(?:\-?([^+]+))?(?:\+(.+))?)?)?\s*$/,strict:{tokenRx:/^[-\dA-Za-z]+(?:\.[-\dA-Za-z]+)*$/,numberRx:/^((?:0)|(?:[1-9]\d*))$/}};t.version=function(e,t){return new a.Version(e,t)},t.range=function(e){return new a.Range(e)},t.match=function(e,s){try{return t.range(s).match(e)}catch(e){return n.rethrow(e,"system"),!1}},a.Version=class{constructor(e,t={}){if(i.assert(e,"Missing version argument"),e instanceof a.Version)return e;"object"==typeof e?this._copy(e):this._parse(e,t),this.format()}_copy(e){this.major=void 0===e.major?a.any:e.major,this.minor=void 0===e.minor?a.any:e.minor,this.patch=void 0===e.patch?a.any:e.patch,this.prerelease=e.prerelease||[],this.build=e.build||[]}_parse(e,t){i.assert("string"==typeof e,"Version argument must be a string"),i.assert(e.length<=a.maxLength,"Version string too long");const s=e.match(a.versionRx);if(!s)throw new Error(`Invalid version string format: ${e}`);this.major=a.Version._number(s[1],"major",t),this.minor=a.Version._number(s[2]||"x","minor",t),this.patch=a.Version._number(s[3]||"x","patch",t),this.prerelease=a.Version._sub(s[4],"prerelease",t),this.build=a.Version._sub(s[5],"build",t)}static _number(e,t,s){if(a.wildcards.includes(e))return a.any;s.strict&&i.assert(e.match(a.strict.numberRx),"Value must be 0 or a number without a leading zero:",t);const n=parseInt(e,10);return i.assert(n<=Number.MAX_SAFE_INTEGER,"Value must be positive and less than max safe integer:",t),n}static _sub(e,t,s){if(!e)return[];s.strict&&i.assert(e.match(a.strict.tokenRx),"Value can only contain dot-separated hyphens, digits, a-z or A-Z:",t);const n=[],o=e.split(".");for(const e of o){if(!e)throw new Error(`Invalid empty ${t} segment`);n.push(e.match(/^\d+$/)?a.Version._number(e,t,{strict:s.strict}):e)}return n}format(){this.version=`${a.dot(this.major)}.${a.dot(this.minor)}.${a.dot(this.patch)}${a.token(this.prerelease,"-")}${a.token(this.build,"+")}`,this.dots=[this.major,this.minor,this.patch],this.wildcard=this.major===a.any&&this.minor===a.any&&this.patch===a.any&&!this.prerelease.length}toString(){return this.version}compare(e,t){return a.Version.compare(this,e,t)}static compare(e,s,n={}){let i=-1,o=1;e=t.version(e,n),s=t.version(s,n),!n.range||!e.prerelease.length||e.major===s.major&&e.minor===s.minor&&e.patch===s.patch&&s.prerelease.length||(i=-2,o=2);for(let t=0;t<3;++t){const n=e.dots[t],r=s.dots[t];if(n!==r&&n!==a.any&&r!==a.any)return n-r<0?i:o}if(!e.prerelease.length&&!s.prerelease.length)return 0;if(!!e.prerelease.length!=!!s.prerelease.length)return e.prerelease.length?i:o;for(let t=0;;++t){const n=e.prerelease[t],a=s.prerelease[t];if(void 0===n&&void 0===a)return 0;if(n===a)continue;if(void 0===n)return i;if(void 0===a)return o;const r=Number.isFinite(n);return r!==Number.isFinite(a)?r?i:o:e<s?i:o}}},a.dot=(e=>e===a.any?"x":e),a.token=((e,t)=>e.length?`${t}${e.join(".")}`:""),a.Range=class{constructor(e,t){this._settings=Object.assign({},t),this._anything=!1,this._or=[],this._active=null,void 0!==e&&this.pattern(e),this._another()}_another(){return this._active&&!this._active.rules.length||(this._active={rules:[]},this._or.push(this._active)),this}_rule(e,s){s=t.version(s,this._settings);const n=a.operator(e);return this._active.rules.push({compare:n,version:s,operator:e}),this}get or(){return this._another()}equal(e){return this._rule("=",e)}above(e){return this._rule(">",e)}below(e){return this._rule("<",e)}between(e,t){return this._rule(">=",e),this._rule("<=",t),this}minor(e){return(e=t.version(e,this._settings)).major===a.any?(this._rule("=",e),this):(this._rule(">=",e),e.minor===a.any?this._rule("<",{major:e.major+1,minor:0,patch:0}):this._rule("<",{major:e.major,minor:e.minor+1,patch:0}),this)}compatible(e){return(e=t.version(e,this._settings)).major===a.any?(this._rule("=",e),this):(this._rule(">=",e),0===e.major&&e.minor!==a.any?0===e.minor?this._rule("<",{major:0,minor:0,patch:e.patch+1}):this._rule("<",{major:0,minor:e.minor+1,patch:0}):this._rule("<",{major:e.major+1,minor:0,patch:0}),this)}pattern(e){try{return this._pattern(e),this}catch(t){throw new Error(`Invalid range: "${e}" because: ${t.message}`)}}_pattern(e){if(""===e)return void(this._anything=!0);const s=a.normalize(e).split(/\s*\|\|\s*/);for(const e of s){if(!e)return void(this._anything=!0);this._another();const s=e.split(/\s+/);for(const e of s){const s=e.indexOf("@");if(-1!==s){const t=e.slice(0,s),n=e.slice(s+1);this.between(t,n);continue}const n=e.match(/^(\^|~|<\=|>\=|<|>|\=)?(.+)$/),i=n[1],a=t.version(n[2],this._settings);if(a.wildcard)return void(this._anything=!0);"~"!==i?"^"!==i?i?this._rule(i,a):this.equal(a):this.compatible(a):this.minor(a)}}}match(e){if(e=t.version(e,this._settings),this._anything)return!e.prerelease.length;for(const{rules:t}of this._or){if(!t.length)continue;let s=0,n=0;for(const i of t){const t=e.compare(i.version,Object.assign(this._settings,{range:!0})),a=2===Math.abs(t);if(!i.compare.includes(t/(a?2:1)))break;++s,a&&++n}if(s===t.length&&n<s)return!0}return!1}toString(){if(this._anything)return"*";let e="";for(const{rules:t}of this._or){if(!t.length)continue;const s=[];for(const e of t)s.push(`${"="!==e.operator?e.operator:""}${e.version.version}`);e+=(e?"||":"")+s.join(" ")}return e}},a.operator=function(e){switch(e){case"=":return[0];case">":return[1];case">=":return[0,1];case"<":return[-1];case"<=":return[0,-1]}},a.normalize=function(e){return e.replace(/ \- /g,"@").replace(/~>/g,"~").replace(/(\^|~|<\=|>\=|<|>|\=)\s*([^\s]+)/g,(e,t,s)=>`${t}${s}`)}},function(e,t){e.exports=require("https")},function(e,t,s){"use strict";const n=s(79),i=s(80);t.Client=n,t.Policy=t.policy=i},function(e,t){e.exports=require("querystring")},function(e,t,s){"use strict";const n=s(10),i=s(1),a={};t.randomString=function(e){return t.randomBits(6*(e+1)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"").slice(0,e)},t.randomDigits=function(e){const t=[];let s=a.random(2*e),n=0;for(;t.length<e;)n>=s.length&&(s=a.random(2*e),n=0),s[n]<250&&t.push(s[n]%10),++n;return t.join("")},t.randomBits=function(e){if(!e||e<0)throw i.internal("Invalid random bits count");const t=Math.ceil(e/8);return a.random(t)},t.fixedTimeComparison=function(e,t){try{return n.timingSafeEqual(Buffer.from(e),Buffer.from(t))}catch(e){return!1}},a.random=function(e){try{return n.randomBytes(e)}catch(e){throw i.internal("Failed generating random bits: "+e.message)}}},function(e,t,s){"use strict";const n=s(0),i=s(89),a=s(90);t.decode=i.decode,t.encode=a.encode,t.Decoder=i.Decoder,t.Encoder=a.Encoder,t.base64urlEncode=function(e,t){return n.assert("string"==typeof e||Buffer.isBuffer(e),"value must be string or buffer"),(Buffer.isBuffer(e)?e:Buffer.from(e,t||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(e,t){if("string"!=typeof e)throw new Error("Value not a string");if(!/^[\w\-]*$/.test(e))throw new Error("Invalid character");const s=Buffer.from(e,"base64");return"buffer"===t?s:s.toString(t||"binary")}},function(e,t,s){"use strict";const n=s(1),i=s(3),a=s(0),o=s(7),r={missing:Symbol("missing")};e.exports=r.Auth=class{constructor(e){this._core=e,this._schemes={},this._strategies={},this.settings={default:null},this.api={}}scheme(e,t){a.assert(e,"Authentication scheme must have a name"),a.assert(!this._schemes[e],"Authentication scheme name already exists:",e),a.assert("function"==typeof t,"scheme must be a function:",e),this._schemes[e]=t}_strategy(e,t,s,n={}){a.assert(t,"Authentication strategy must have a name"),a.assert("object"==typeof n,"options must be an object"),a.assert(!this._strategies[t],"Authentication strategy name already exists"),a.assert(s,"Authentication strategy",t,"missing scheme"),a.assert(this._schemes[s],"Authentication strategy",t,"uses unknown scheme:",s),e=e._clone();const i=this._schemes[s](e,n);a.assert(i.authenticate,"Invalid scheme:",t,"missing authenticate() method"),a.assert("function"==typeof i.authenticate,"Invalid scheme:",t,"invalid authenticate() method"),a.assert(!i.payload||"function"==typeof i.payload,"Invalid scheme:",t,"invalid payload() method"),a.assert(!i.response||"function"==typeof i.response,"Invalid scheme:",t,"invalid response() method"),i.options=i.options||{},a.assert(i.payload||!i.options.payload,"Cannot require payload validation without a payload method"),this._strategies[t]={methods:i,realm:e.realm},i.api&&(this.api[t]=i.api)}default(e){a.assert(!this.settings.default,"Cannot set default strategy more than once"),e=o.apply("auth",e,"default strategy"),this.settings.default=this._setupRoute(a.clone(e));const t=this._core.router.table();for(const e of t)e.rebuild()}async test(e,t){a.assert(e,"Missing authentication strategy name");const s=this._strategies[e];a.assert(s,"Unknown authentication strategy:",e);const n=s.methods,i=s.realm,o=await t._core.toolkit.execute(s.methods.authenticate,t,{bind:n,realm:i,auth:!0});if(!o.isAuth)throw o;if(o.error)throw o.error;return o.data}async verify(e){const t=e.auth;if(t.error)throw t.error;if(!t.isAuthenticated)return;const s=this._strategies[t.strategy];if(a.assert(s,"Unknown authentication strategy:",t.strategy),!s.methods.verify)return;const n=s.methods;await s.methods.verify.call(n,t)}static testAccess(e,t){const s=e._core.auth;try{return s._access(e,t)}catch(e){return i.rethrow(e,"system"),!1}}_setupRoute(e,t){if(!e)return e;if("string"==typeof e?e={strategies:[e]}:e.strategy&&(e.strategies=[e.strategy],delete e.strategy),t&&!e.strategies&&(a.assert(this.settings.default,"Route missing authentication strategy and no default defined:",t),e=a.applyToDefaults(this.settings.default,e)),t=t||"default strategy",a.assert(e.strategies&&e.strategies.length,"Missing authentication strategy:",t),e.mode=e.mode||"required",void 0===e.entity&&void 0===e.scope||(e.access=[{entity:e.entity,scope:e.scope}],delete e.entity,delete e.scope),e.access)for(const t of e.access)t.scope=r.setupScope(t);!0===e.payload&&(e.payload="required");let s=!1;for(const n of e.strategies){const i=this._strategies[n];a.assert(i,"Unknown authentication strategy",n,"in",t),a.assert(i.methods.payload||"required"!==e.payload,"Payload validation can only be required when all strategies support it in",t),s=s||i.methods.payload,a.assert(!i.methods.options.payload||void 0===e.payload||"required"===e.payload,"Cannot set authentication payload to",e.payload,"when a strategy requires payload validation in",t)}return a.assert(!e.payload||s,"Payload authentication requires at least one strategy with payload support in",t),e}lookup(e){return!1!==e.settings.auth&&(e.settings.auth||this.settings.default)}_enabled(e,t){const s=this.lookup(e);if(!s)return!1;if("authenticate"===t)return!0;if("access"===t)return!!s.access;for(const e of s.strategies){if(this._strategies[e].methods[t])return!0}return!1}static authenticate(e){return e._core.auth._authenticate(e)}async _authenticate(e){const t=this.lookup(e.route),s=[];if(e.auth.mode=t.mode,e.auth.credentials)return void r.validate(null,{credentials:e.auth.credentials,artifacts:e.auth.artifacts},e.auth.strategy,t,e,s);for(const n of t.strategies){const i=this._strategies[n],a=i.methods,o=i.realm,c=await e._core.toolkit.execute(i.methods.authenticate,e,{bind:a,realm:o,auth:!0}),l=c.isAuth?r.validate(c.error,c.data,n,t,e,s):r.validate(c,null,n,t,e,s);if(!l)return;if(l!==r.missing)return l}const i=n.unauthorized("Missing authentication",s);if("required"===t.mode)throw i;e.auth.isAuthenticated=!1,e.auth.credentials=null,e.auth.error=i,e._log(["auth","unauthenticated"])}static access(e){const t=e._core.auth;e.auth.isAuthorized=t._access(e)}_access(e,t){const s=this.lookup(t||e.route);if(!s||!s.access)return!0;const i=e.auth.credentials;if(!i){if("required"!==s.mode)return!1;throw n.forbidden("Request is unauthenticated")}const a=i.user?"user":"app",o=[];for(const t of s.access){const s=t.entity;if(s&&"any"!==s&&s!==a)continue;let n=t.scope;if(n){if(!i.scope){o.push(n);continue}if(n=r.expandScope(e,n),!r.validateScope(i,n,"required")||!r.validateScope(i,n,"selection")||!r.validateScope(i,n,"forbidden")){o.push(n);continue}}return!0}if(o.length)throw e._log(["auth","scope","error"]),n.forbidden("Insufficient scope",{got:i.scope,need:o});if("app"===a)throw e._log(["auth","entity","user","error"]),n.forbidden("Application credentials cannot be used on a user endpoint");throw e._log(["auth","entity","app","error"]),n.forbidden("User credentials cannot be used on an application endpoint")}static async payload(e){if(!e.auth.isAuthenticated)return;const t=e._core.auth,s=t._strategies[e.auth.strategy];if(a.assert(s,"Unknown authentication strategy:",e.auth.strategy),!s.methods.payload)return;const i=t.lookup(e.route).payload||!!s.methods.options.payload&&"required";if(!i)return;const o=s.methods,r=s.realm,c=await e._core.toolkit.execute(s.methods.payload,e,{bind:o,realm:r});return c.isBoom&&c.isMissing?"optional"===i?void 0:n.unauthorized("Missing payload authentication"):c}static async response(e){const t=e._core.auth;if(!e.auth.isAuthenticated)return;const s=t._strategies[e.auth.strategy];if(a.assert(s,"Unknown authentication strategy:",e.auth.strategy),!s.methods.response)return;const n=s.methods,i=s.realm,o=await e._core.toolkit.execute(s.methods.response,e,{bind:n,realm:i,continue:"undefined"});if(o)throw o}},r.setupScope=function(e){if(!e.scope)return!1;const t={};for(const s of e.scope){const e=s[0],n="+"===e?"required":"!"===e?"forbidden":"selection",i="selection"===n?s:s.slice(1);t[n]=t[n]||[],t[n].push(i),t._hasParameters&&t._hasParameters[n]||!/{([^}]+)}/.test(i)||(t._hasParameters=t._hasParameters||{},t._hasParameters[n]=!0)}return t},r.validate=function(e,t,s,n,i,a){if(t=t||{},e){if(e instanceof Error==!1)return i._log(["auth","unauthenticated","response",s],{statusCode:e.statusCode}),e;if(e.isMissing)return i._log(["auth","unauthenticated","missing",s],e),a.push(e.output.headers["WWW-Authenticate"]),r.missing;if("try"===n.mode)return i.auth.isAuthenticated=!1,i.auth.strategy=s,i.auth.credentials=t.credentials,i.auth.artifacts=t.artifacts,i.auth.error=e,void i._log(["auth","unauthenticated","try",s],e);throw i._log(["auth","unauthenticated","error",s],e),e}const o=t.credentials;i.auth.strategy=s,i.auth.credentials=o,i.auth.artifacts=t.artifacts,i.auth.isAuthenticated=!0},r.expandScope=function(e,t){if(!t._hasParameters)return t;return{required:r.expandScopeType(e,t,"required"),selection:r.expandScopeType(e,t,"selection"),forbidden:r.expandScopeType(e,t,"forbidden")}},r.expandScopeType=function(e,t,s){if(!t._hasParameters[s])return t[s];const n=[],i={params:e.params,query:e.query,payload:e.payload,credentials:e.auth.credentials};for(const e of t[s])n.push(a.reachTemplate(i,e));return n},r.validateScope=function(e,t,s){if(!t[s])return!0;const n="string"==typeof e.scope?-1!==t[s].indexOf(e.scope)?1:0:a.intersect(t[s],e.scope).length;return"forbidden"===s?0===n:"required"===s?n===t.required.length:!!n}},function(e,t){e.exports=require("fs")},function(e,t,s){"use strict";const n=s(1),i={contentTypeRegex:/^([^\/\s]+\/[^\s;]+)(.*)?$/,paramsRegex:/;\s*boundary=(?:"([^"]+)"|([^;"\s]+))/i};t.type=function(e){if(!e)throw n.badRequest("Invalid content-type header");const t=e.match(i.contentTypeRegex);if(!t)throw n.badRequest("Invalid content-type header");const s={mime:t[1].toLowerCase()};if(0===s.mime.indexOf("multipart/")){const e=t[2];if(e){const t=e.match(i.paramsRegex);t&&(s.boundary=t[1]||t[2])}if(!s.boundary)throw n.badRequest("Invalid content-type header: multipart missing boundary")}return s},i.contentDispositionRegex=/^\s*form-data\s*(?:;\s*(.+))?$/i,i.contentDispositionParamRegex=/([^\=\*\s]+)(\*)?\s*\=\s*(?:([^;'"\s]+\'[\w-]*\'[^;\s]+)|(?:\"([^"]*)\")|([^;\s]*))(?:\s*(?:;\s*)|$)/g,t.disposition=function(e){if(!e)throw n.badRequest("Missing content-disposition header");const t=e.match(i.contentDispositionRegex);if(!t)throw n.badRequest("Invalid content-disposition header format");const s=t[1];if(!s)throw n.badRequest("Invalid content-disposition header missing parameters");const a={};if(s.replace(i.contentDispositionParamRegex,(e,t,s,i,o,r)=>{if(s){if(!i)throw n.badRequest("Invalid content-disposition header format includes invalid parameters");try{a[t]=decodeURIComponent(i.split("'")[2])}catch(e){throw n.badRequest("Invalid content-disposition header format includes invalid parameters")}}else a[t]=o||r||""}),!a.name)throw n.badRequest("Invalid content-disposition header missing name parameter");return a}},function(e,t,s){"use strict";const n=s(2);e.exports={}.Payload=class extends n.Readable{constructor(e,t){super();const s=[].concat(e||"");let n=0;for(let e=0;e<s.length;++e){const t=s[e];n+=t.length,s[e]=Buffer.isBuffer(t)?t:Buffer.from(t)}this._data=Buffer.concat(s,n),this._position=0,this._encoding=t||"utf8"}_read(e){const t=this._data.slice(this._position,this._position+e);this.push(t,this._encoding),this._position=this._position+t.length,this._position>=this._data.length&&this.push(null)}}},function(e,t,s){"use strict";const n=s(45),i={team:Symbol("team")};t.drain=function(e){const t=new n;return e[i.team]=t,e.on("readable",i.read),e.on("error",i.end),e.on("end",i.end),t.work},i.read=function(){this.read()},i.end=function(){this.removeListener("readable",i.read),this.removeListener("error",i.end),this.removeListener("end",i.end),this[i.team].attend()}},function(e,t,s){"use strict";const n={};e.exports=n.Team=function(e={}){this.work=new Promise((e,t)=>{this._resolve=e,this._reject=t});const t=e.meetings||1;this._meetings=t,this._count=t,this._notes=[]},n.Team.prototype.attend=function(e){return e instanceof Error?this._reject(e):(this._notes.push(e),--this._count?void 0:this._resolve(1===this._meetings?this._notes[0]:this._notes))}},function(e,t,s){"use strict";const n=s(17),i=s(1),a=s(3),o=s(0),r=s(20),c=s(13),l=s(14),p=s(110),u={events:r.validate(["finish",{name:"peek",spread:!0},"disconnect"]),reserved:["server","url","query","path","method","mime","setUrl","setMethod","headers","id","app","plugins","route","auth","pre","preResponses","info","orig","params","paramsArray","payload","state","jsonp","response","raw","domain","log","logs","generateResponse"]};e.exports=u.Request=class{constructor(e,t,s,n){this._allowInternals=!!n.allowInternals,this._core=e._core,this._entity=null,this._eventContext={request:this},this._events=null,this._expectContinue=!!n.expectContinue,this._isPayloadPending=!(!t.headers["content-length"]&&!t.headers["transfer-encoding"]),this._isReplied=!1,this._route=this._core.router.specials.notFound.route,this._serverTimeoutId=null,this._states={},this._urlError=null,this.app=n.app?Object.assign({},n.app):{},this.headers=t.headers,this.info=u.info(this._core,t),this.jsonp=null,this.logs=[],this.method=t.method.toLowerCase(),this.mime=null,this.orig={},this.params=null,this.paramsArray=null,this.path=null,this.payload=null,this.plugins=n.plugins?Object.assign({},n.plugins):{},this.pre={},this.preResponses={},this.raw={req:t,res:s},this.response=null,this.route=this._route.public,this.query=null,this.server=e,this.state=null,this.url=null,this.auth={isAuthenticated:!1,isAuthorized:!1,credentials:n.auth?n.auth.credentials:null,artifacts:n.auth&&n.auth.artifacts||null,strategy:n.auth?n.auth.strategy:null,mode:null,error:null},n.auth&&(this.auth.isInjected=!0),this._initializeUrl()}static generate(e,t,s,n){const i=new e._core.Request(e,t,s,n);if(e._core._decorations.requestApply)for(const t in e._core._decorations.requestApply){const s=e._core._decorations.requestApply[t];i[t]=s(i)}return i._listen(),i}get events(){return this._events||(this._events=new r(u.events)),this._events}_initializeUrl(){try{this._setUrl(this.raw.req.url,this._core.settings.router.stripTrailingSlash)}catch(e){this.path=this.raw.req.url,this.query={},this._urlError=i.boomify(e,{statusCode:400,override:!1})}}setUrl(e,t){o.assert(null===this.params,"Cannot change request URL after routing"),e instanceof n.URL&&(e=e.href),o.assert("string"==typeof e,"Url must be a string or URL object"),this._setUrl(e,t),this._urlError=null}_setUrl(e,t){const s="/"===e[0]?`${this._core.info.protocol}://${this.info.host||`${this._core.info.host}:${this._core.info.port}`}`:void 0;e=new n.URL(e,s);let i=this._core.router.normalize(e.pathname);t&&i.length>1&&"/"===i[i.length-1]&&(i=i.slice(0,-1)),e.pathname=i,this.query=this._parseQuery(e.searchParams),this.url=e,this.path=i,this.info.hostname=e.hostname,this.info.host=e.host}_parseQuery(e){let t=Object.create(null);for(let[s,n]of e){const e=t[s];void 0!==e&&(n=[].concat(e,n)),t[s]=n}const s=this._core.settings.query.parser;if(s&&(!(t=s(t))||"object"!=typeof t))throw i.badImplementation("Parsed query must be an object");return t}setMethod(e){o.assert(null===this.params,"Cannot change request method after routing"),o.assert(e&&"string"==typeof e,"Missing method"),this.method=e.toLowerCase()}active(){return!!this._eventContext.request}async _execute(){this.info.acceptEncoding=this._core.compression.accept(this);try{await this._onRequest()}catch(e){return a.rethrow(e,"system"),this._reply(e)}this._lookup(),this._setTimeouts(),await this._lifecycle(),this._reply()}async _onRequest(){if(this._core.extensions.route.onRequest.nodes){const e=await this._invoke(this._core.extensions.route.onRequest);if(e){if(!u.skip(e))throw i.badImplementation("onRequest extension methods must return an error, a takeover response, or a continue signal");throw e}}if(this._urlError)throw this._urlError}_listen(){this._isPayloadPending&&this.raw.req.on("end",u.event.bind(this.raw.req,this._eventContext,"end")),this.raw.req.on("close",u.event.bind(this.raw.req,this._eventContext,"close")),this.raw.req.on("error",u.event.bind(this.raw.req,this._eventContext,"error")),this.raw.req.on("aborted",u.event.bind(this.raw.req,this._eventContext,"abort"))}_lookup(){const e=this._core.router.route(this.method,this.path,this.info.hostname);e.route.settings.isInternal&&!this._allowInternals||(this._route=e.route,this.route=this._route.public),this.params=e.params||{},this.paramsArray=e.paramsArray||[],this.route.settings.cors&&(this.info.cors={isOriginMatch:c.matchOrigin(this.headers.origin,this.route.settings.cors)})}_setTimeouts(){this.raw.req.socket&&void 0!==this.route.settings.timeout.socket&&this.raw.req.socket.setTimeout(this.route.settings.timeout.socket||0);let e=this.route.settings.timeout.server;if(!e)return;const t=Date.now()-this.info.received;(e=Math.floor(e-t))<=0?u.timeoutReply(this,e):this._serverTimeoutId=setTimeout(u.timeoutReply,e,this,e)}async _lifecycle(){for(const t of this._route._cycle){if(this._isReplied||!this._eventContext.request)return;try{var e=await("function"==typeof t?t(this):this._invoke(t))}catch(t){a.rethrow(t,"system"),e=l.wrap(t,this)}if(e&&e!==this._core.toolkit.continue)return u.skip(e)||(e=i.badImplementation("Lifecycle methods called before the handler can only return an error, a takeover response, or a continue signal")),void this._setResponse(e)}}async _invoke(e){for(const t of e.nodes){const e=t.bind||t.realm.settings.bind,s=t.realm,n=await this._core.toolkit.execute(t.func,this,{bind:e,realm:s});if(n!==this._core.toolkit.continue){if(u.skip(n)||null===this.response)return n;this._setResponse(n)}}}async _reply(e){this._isReplied||(this._isReplied=!0,this._serverTimeoutId&&clearTimeout(this._serverTimeoutId),this._eventContext.request?(e&&this._setResponse(l.wrap(e,this)),"symbol"!=typeof this.response?(await this._postCycle(),this._eventContext.request&&"symbol"!=typeof this.response?(await p.send(this),this._finalize()):this._abort()):this._abort()):this._finalize())}async _postCycle(){for(const t of this._route._postCycle){if(!this._eventContext.request)return;try{var e=await("function"==typeof t?t(this):this._invoke(t))}catch(t){a.rethrow(t,"system"),e=l.wrap(t,this)}e&&e!==this._core.toolkit.continue&&this._setResponse(e)}}_abort(){this.response===this._core.toolkit.close&&this.raw.res.end(),this._finalize()}_finalize(){if(this.response&&500===this.response.statusCode&&this.response._error){const e=this.response._error.isDeveloperError?["internal","implementation","error"]:["internal","error"];this._log(e,this.response._error,"error")}this._eventContext.request=null,this.response&&this.response._close&&this.response._close(this),this.info.completed=Date.now(),this._core.events.emit("response",this),this._core.queue.release()}_setResponse(e){!this.response||this.response.isBoom||this.response===e||!e.isBoom&&this.response.source===e.source||this.response._close(this),this.info.completed?e._close&&e._close(this):this.response=e}_setState(e,t,s){const n={name:e,value:t};s&&(o.assert(!s.autoValue,"Cannot set autoValue directly in a response"),n.options=o.clone(s)),this._states[e]=n}_clearState(e,t={}){const s={name:e};s.options=o.clone(t),s.options.ttl=0,this._states[e]=s}_tap(){return this._events&&(this._events.hasListeners("finish")||this._events.hasListeners("peek"))?new l.Peek(this._events):null}log(e,t){return this._log(e,t,"app")}_log(e,t,s="internal"){if(!this._core.events.hasListeners("request")&&!this.route.settings.log.collect)return;Array.isArray(e)||(e=[e]);const n=Date.now(),i=t instanceof Error?"error":"data";let a=[this,{request:this.info.id,timestamp:n,tags:e,[i]:t,channel:s}];"function"==typeof t&&(a=(()=>[this,{request:this.info.id,timestamp:n,tags:e,data:t(),channel:s}])),this.route.settings.log.collect&&("function"==typeof t&&(a=a()),this.logs.push(a[1])),this._core.events.emit({name:"request",channel:s,tags:e},a)}generateResponse(e,t){return new l(e,this,t)}},u.Request.reserved=u.reserved,u.info=function(e,t){const s=t.headers.host?t.headers.host.trim():"",n=Date.now(),i={received:n,remoteAddress:t.connection.remoteAddress,remotePort:t.connection.remotePort||"",referrer:t.headers.referrer||t.headers.referer||"",host:s,hostname:s.split(":")[0],id:`${n}:${e.info.id}:${e.requestCounter.value++}`,acceptEncoding:null,cors:null,responded:0,completed:0};return e.requestCounter.value>e.requestCounter.max&&(e.requestCounter.value=e.requestCounter.min),i},u.event=function({request:e},t,s){e&&(e._isPayloadPending=!1,"close"===t&&e.raw.res.finished||"end"!==t&&(e._log(s?["request","error"]:["request","error",t],s),"error"!==t&&(e._eventContext.request=null,"abort"===t&&e._events&&e._events.emit("disconnect"))))},u.timeoutReply=function(e,t){const s=Date.now()-e.info.received;e._log(["request","server","timeout","error"],{timeout:t,elapsed:s}),e._reply(i.serverUnavailable())},u.skip=function(e){return e.isBoom||e._takeover||"symbol"==typeof e}},function(e,t,s){"use strict";const n=s(2),i=s(0),a={Range:class{constructor(e,t){this.from=e,this.to=t}}};t.header=function(e,t){const s=e.split("=");if(2!==s.length||"bytes"!==s[0])return null;const n=t-1,i=[],o=s[1].match(/\d*\-\d*/g);for(let e=0;e<o.length;++e){let s,r,c=o[e];if(1===c.length)return null;if((c=c.split("-"))[0]&&(s=parseInt(c[0],10)),c[1]?(r=parseInt(c[1],10),void 0!==s?r>n&&(r=n):(s=t-r,r=n)):r=n,s>r)return null;i.push(new a.Range(s,r))}if(1===i.length)return i;i.sort((e,t)=>e.from-t.from);const r=[];for(let e=i.length-1;e>0;--e){const t=i[e],s=i[e-1];t.from<=s.to+1?s.to=t.to:r.unshift(t)}return r.unshift(i[0]),r},t.Stream=a.Stream=class extends n.Transform{constructor(e){if(!(e instanceof a.Range)){i.assert("object"==typeof e,'Expected "range" object');const t=e.from||0;i.assert("number"==typeof t,'"range.from" must be falsy, or a number'),i.assert(t===parseInt(t,10)&&t>=0,'"range.from" must be a positive integer');const s=e.to||0;i.assert("number"==typeof s,'"range.to" must be falsy, or a number'),i.assert(s===parseInt(s,10)&&s>=0,'"range.to" must be a positive integer'),i.assert(s>=t,'"range.to" must be greater than or equal to "range.from"'),e=new a.Range(t,s)}super(),this._range=e,this._next=0}processChunk(e){const t=this._next;if(this._next=this._next+e.length,this._next<=this._range.from||t>this._range.to)return;const s=Math.max(0,this._range.from-t),n=Math.min(e.length,this._range.to-t+1);this.push(e.slice(s,n))}_transform(e,t,s){try{this.processChunk(e)}catch(e){return s(e)}return s()}}},function(e,t,s){"use strict";const n=s(8),i=s(47),a=s(1),o=s(3),r=s(0),c=s(4),l=s(49),p=s(50),u={defaultMap:{gzip:".gz"}};u.schema=c.alternatives([c.string(),c.func(),c.object({path:c.alternatives(c.string(),c.func()).required(),confine:c.alternatives(c.string(),c.boolean()).default(!0),filename:c.string(),mode:c.string().valid("attachment","inline").allow(!1),lookupCompressed:c.boolean(),lookupMap:c.object().min(1).pattern(/.+/,c.string()),etagMethod:c.string().valid("hash","simple").allow(!1),start:c.number().integer().min(0).default(0),end:c.number().integer().min(c.ref("start"))}).with("filename","mode")]),t.handler=function(e,s){let n=c.attempt(s,u.schema,"Invalid file handler options ("+e.path+")");(n="object"!=typeof s?{path:s,confine:"."}:n).confine=!0===n.confine?".":n.confine,r.assert("string"!=typeof n.path||"/"!==n.path[n.path.length-1],"File path cannot end with a '/':",e.path);return e=>{const s="function"==typeof n.path?n.path(e):n.path;return t.response(s,n,e)}},t.load=function(e,s,n){const i=t.response(e,n,s,!0);return u.prepare(i)},t.response=function(e,t,s,i){if(r.assert(!t.mode||-1!==["attachment","inline"].indexOf(t.mode),"options.mode must be either false, attachment, or inline"),t.confine){const i=n.resolve(s.route.settings.files.relativeTo,t.confine);0!==(e=n.isAbsolute(e)?n.normalize(e):n.join(i,e)).lastIndexOf(i,0)&&(e=null)}else e=n.isAbsolute(e)?n.normalize(e):n.join(s.route.settings.files.relativeTo,e);const a={path:e,settings:t,stat:null,file:null},o=i?null:u.prepare;return s.generateResponse(a,{variety:"file",marshal:u.marshal,prepare:o,close:u.close})},u.prepare=async function(e){const t=e.source.path;if(null===t)throw a.forbidden(null,{code:"EACCES"});const s=e.source.file=new p.File(t);try{const i=await s.openStat("r"),a=e.source.settings.start||0;if(void 0!==e.source.settings.end?e.bytes(e.source.settings.end-a+1):e.bytes(i.size-a),e.headers["content-type"]||e.type(e.request.server.mime.path(t).type||"application/octet-stream"),e.header("last-modified",i.mtime.toUTCString()),e.source.settings.mode){const s=e.source.settings.filename||n.basename(t);e.header("content-disposition",e.source.settings.mode+"; filename="+encodeURIComponent(s))}return await l.apply(e,i),e}catch(t){throw u.close(e),t}},u.marshal=async function(e){if(e.source.settings.lookupCompressed&&!e.source.settings.start&&void 0===e.source.settings.end&&!1!==e.request.server.settings.compression){const t=e.source.settings.lookupMap||u.defaultMap,s=e.request.info.acceptEncoding,n=t.hasOwnProperty(s)?t[s]:null;if(n){const t=new p.File(`${e.source.path}${n}`);let i;try{i=await t.openStat("r")}catch(e){t.close(),o.ignore(e,"boom")}i&&(e.source.file.close(),e.source.file=t,e.bytes(i.size),e.header("content-encoding",s),e.vary("accept-encoding"))}}return u.createStream(e)},u.addContentRange=function(e){const t=e.request,s=e.headers["content-length"];let n=null;if(t.route.settings.response.ranges){if(t.headers.range&&s&&(!t.headers["if-range"]||t.headers["if-range"]===e.headers.etag)){const o=t.server.mime.type(e.headers["content-type"]||"application/octet-stream"),r=t.server.settings.compression&&o.compressible&&!e.headers["content-encoding"]?t.info.acceptEncoding:null;if("identity"===r||!r){const o=i.header(t.headers.range,s);if(!o){const e=a.rangeNotSatisfiable();throw e.output.headers["content-range"]="bytes */"+s,e}1===o.length&&(n=o[0],e.code(206),e.bytes(n.to-n.from+1),e.header("content-range","bytes "+n.from+"-"+n.to+"/"+s))}}e.header("accept-ranges","bytes")}return n},u.createStream=function(e){const t=e.source;r.assert(null!==t.file);const s=u.addContentRange(e),n={start:t.settings.start||0,end:t.settings.end};return s&&(n.end=s.to+n.start,n.start=s.from+n.start),t.file.createReadStream(n)},u.close=function(e){null!==e.source.file&&(e.source.file.close(),e.source.file=null)}},function(e,t,s){"use strict";const n=s(10),i=s(1),a=s(3),o=s(115),r={pendings:Object.create(null),streamEnd:function(e){return new Promise((t,s)=>{e.on("end",t),e.on("error",s)})},computeHashed:async function(e,t){const s=e.request.server.plugins.inert._etags;if(!s)return null;const n=[e.source.path,t.ino,t.size,t.mtime.getTime()].join("-"),i=s.get(n);if(i)return i;let a=r.pendings[n];if(a)return await a;return r.pendings[n]=a=(async()=>{try{const t=await r.hashFile(e);return s.set(n,t),t}finally{delete r.pendings[n]}})(),await a},hashFile:async function(e){const t=n.createHash("sha1");t.setEncoding("hex");const s=e.source.file.createReadStream({autoClose:!1});s.pipe(t);try{return await r.streamEnd(s),t.read()}catch(t){throw a.rethrow(t,"system"),i.boomify(t,{message:"Failed to hash file",data:{path:e.source.path}})}},computeSimple:function(e,t){return t.size.toString(16)+"-"+t.mtime.getTime().toString(16)}};t.apply=async function(e,t){const s=e.source.settings.etagMethod;if(!1===s)return;let n;null!==(n="simple"===s?r.computeSimple(e,t):await r.computeHashed(e,t))&&e.etag(n,{vary:!0})},t.Cache=o},function(e,t,s){"use strict";const n=s(41),i=s(11),a=s(1),o=s(3),r=s(0),c={methods:{promised:["open","close","fstat","readdir"],raw:["createReadStream"]}};t.File=function(e){this.path=e,this.fd=null},t.File.prototype.open=async function(e){r.assert(null===this.fd);try{this.fd=await t.open(this.path,e)}catch(e){const t={path:this.path};if(-1!==this.path.indexOf("\0")||"ENOENT"===e.code)throw a.notFound(null,t);if("EACCES"===e.code||"EPERM"===e.code)throw t.code=e.code,a.forbidden(null,t);throw a.boomify(e,{message:"Failed to open file",data:t})}},t.File.prototype.close=function(){null!==this.fd&&(o.background(t.close(this.fd)),this.fd=null)},t.File.prototype.stat=async function(){r.assert(null!==this.fd);try{const e=await t.fstat(this.fd);if(e.isDirectory())throw a.forbidden(null,{code:"EISDIR",path:this.path});return e}catch(e){throw this.close(this.fd),o.rethrow(e,["boom","system"]),a.boomify(e,{message:"Failed to stat file",data:{path:this.path}})}},t.File.prototype.openStat=async function(e){return await this.open(e),this.stat()},t.File.prototype.createReadStream=function(e){r.assert(null!==this.fd),e=Object.assign({fd:this.fd,start:0},e);const s=t.createReadStream(this.path,e);return!1!==e.autoClose&&(this.fd=null),s};for(let e=0;e<c.methods.raw.length;++e){const s=c.methods.raw[e];t[s]=n[s].bind(n)}for(let e=0;e<c.methods.promised.length;++e){const s=c.methods.promised[e];t[s]=i.promisify(n[s])}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constantTree=function e(t,s=""){for(let n in t){const i=`${s}${""!==s?".":""}${n}`;"string"==typeof t[n]&&0===t[n].length?t[n]=i:"object"==typeof t[n]&&e(t[n],i)}return t}},function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new s(function(t){t(e.value)}).then(o,r)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=s(53),a=s(113);s(120).connect(class{constructor(){}entryPoint(e){return n(this,void 0,void 0,function*(){yield e.Service.registerService("hapi","com.nucleus",{serviceDefinition:i}),yield e.Service.registerService("inert","com.nucleus",{serviceDefinition:a})})}})},function(e,t,s){"use strict";const n=s(54);t.Server=n,t.server=n},function(e,t,s){"use strict";const n=s(0),i=s(4),a=s(33),o=s(34),r=s(7),c=s(75),l=s(13),p=s(23),u=s(112),d=s(46),h=s(22),m={};e.exports=function(e){const t=new c(e);return new m.Server(t)},m.Server=class{constructor(e,t,s){this._core=e,this.app=e.app,this.auth=Object.create(this._core.auth),this.auth.strategy=this.auth._strategy.bind(this.auth,this),this.decorations=e.decorations,this.cache=m.cache(this),this.events=e.events,this.info=e.info,this.listener=e.listener,this.load=e.heavy.load,this.methods=e.methods.methods,this.mime=e.mime,this.plugins=e.plugins,this.registrations=e.registrations,this.settings=e.settings,this.states=e.states,this.type=e.type,this.version=u.version,this.realm={_extensions:{onPreAuth:new p("onPreAuth",e),onCredentials:new p("onCredentials",e),onPostAuth:new p("onPostAuth",e),onPreHandler:new p("onPreHandler",e),onPostHandler:new p("onPostHandler",e),onPreResponse:new p("onPreResponse",e)},modifiers:{route:{}},parent:s?s.realm:null,plugin:t,pluginOptions:{},plugins:{},_rules:null,settings:{bind:void 0,files:{relativeTo:void 0}}};for(const t of e.decorations.server)this[t]=e._decorations.server[t];e.registerServer(this)}_clone(e){return new m.Server(this._core,e,this)}bind(e){n.assert("object"==typeof e,"bind must be an object"),this.realm.settings.bind=e}control(e){n.assert(e instanceof m.Server,"Can only control Server objects"),this._core.controlled=this._core.controlled||[],this._core.controlled.push(e)}decoder(e,t){return this._core.compression.addDecoder(e,t)}decorate(e,t,s,i={}){n.assert(this._core.decorations[e],"Unknown decoration type:",e),n.assert(t,"Missing decoration property name"),n.assert("string"==typeof t||"symbol"==typeof t,"Decoration property must be a string or a symbol");const a=t.toString();n.assert("_"!==a[0],"Property name cannot begin with an underscore:",a);const o=this._core._decorations[e][t];i.extend?(n.assert("handler"!==e,"Cannot extent handler decoration:",a),n.assert(o,`Cannot extend missing ${e} decoration: ${a}`),n.assert("function"==typeof s,`Extended ${e} decoration method must be a function: ${a}`),s=s(o)):n.assert(void 0===o,`${e[0].toUpperCase()+e.slice(1)} decoration already defined: ${a}`),"handler"===e?(n.assert("function"==typeof s,"Handler must be a function:",a),n.assert(!s.defaults||"object"==typeof s.defaults||"function"==typeof s.defaults,"Handler defaults property must be an object or function"),n.assert(!i.extend,"Cannot extend handler decoration:",a)):"request"===e?(n.assert(-1===d.reserved.indexOf(t),"Cannot override built-in request interface decoration:",a),i.apply?(this._core._decorations.requestApply=this._core._decorations.requestApply||{},this._core._decorations.requestApply[t]=s):this._core.Request.prototype[t]=s):"toolkit"===e?n.assert(-1===this._core.toolkit.reserved.indexOf(t),"Cannot override built-in toolkit decoration:",a):("string"==typeof t?n.assert(-1===Object.getOwnPropertyNames(m.Server.prototype).indexOf(t),"Cannot override the built-in server interface method:",a):n.assert(-1===Object.getOwnPropertySymbols(m.Server.prototype).indexOf(t),"Cannot override the built-in server interface method:",a),this._core.instances.forEach(e=>{e[t]=s})),this._core._decorations[e][t]=s,this._core.decorations[e].push(t)}dependency(e,t){if(n.assert(this.realm.plugin,"Cannot call dependency() outside of a plugin"),n.assert(!t||"function"==typeof t,"Invalid after method"),"string"==typeof e)e={[e]:"*"};else if(Array.isArray(e)){const t={};for(const s of e)t[s]="*";e=t}this._core.dependencies.push({plugin:this.realm.plugin,deps:e}),t&&this.ext("onPreStart",t,{after:Object.keys(e)})}encoder(e,t){return this._core.compression.addEncoder(e,t)}event(e){this._core.events.registerEvent(e)}expose(e,t){n.assert(this.realm.plugin,"Cannot call expose() outside of a plugin");const s=this.realm.plugin;this._core.plugins[s]=this._core.plugins[s]||{},"string"==typeof e?this._core.plugins[s][e]=t:n.merge(this._core.plugins[s],e)}ext(e,t,s){"string"==typeof e&&(e={type:e,method:t,options:s}),e=r.apply("exts",e);for(const t of e)this._ext(t)}_ext(e){(e=Object.assign({},e)).realm=this.realm;const t=e.type;if(!this._core.extensions.server[t])return"plugin"===e.options.sandbox?(n.assert(this.realm._extensions[t],"Unknown event type",t),this.realm._extensions[t].add(e)):(n.assert(this._core.extensions.route[t],"Unknown event type",t),this._core.extensions.route[t].add(e));n.assert(!e.options.sandbox,"Cannot specify sandbox option for server extension"),n.assert("onPreStart"!==t||"stopped"===this._core.phase,"Cannot add onPreStart (after) extension after the server was initialized"),e.server=this,this._core.extensions.server[t].add(e)}async inject(e){let t=e;"string"==typeof t&&(t={url:t}),(!t.authority||t.auth||t.app||t.plugins||void 0!==t.allowInternals)&&(delete(t=Object.assign({},t)).auth,delete t.app,delete t.plugins,delete t.allowInternals,t.authority=t.authority||this._core.info.host+":"+this._core.info.port),n.assert(!e.credentials,"options.credentials no longer supported (use options.auth)"),e.auth&&(n.assert("object"==typeof e.auth,"options.auth must be an object"),n.assert(e.auth.credentials,"options.auth.credentials is missing"),n.assert(e.auth.strategy,"options.auth.strategy is missing"));const s=this._core._dispatch({auth:e.auth,allowInternals:e.allowInternals,app:e.app,plugins:e.plugins}),i=await a.inject(s,t),o=i.raw.res[r.symbol];return o&&(i.result=o.result,i.request=o.request,delete i.raw.res[r.symbol]),void 0===i.result&&(i.result=i.payload),i}log(e,t){return this._core.log(e,t)}lookup(e){n.assert(e&&"string"==typeof e,"Invalid route id:",e);const t=this._core.router.ids[e];return t?t.route.public:null}match(e,t,s){n.assert(e&&"string"==typeof e,"Invalid method:",e),n.assert(t&&"string"==typeof t&&"/"===t[0],"Invalid path:",t),n.assert(!s||"string"==typeof s,"Invalid host:",s);const i=this._core.router.route(e.toLowerCase(),t,s);return n.assert(i!==this._core.router.specials.badRequest,"Invalid path:",t),i===this._core.router.specials.notFound?null:i.route.public}method(e,t,s={}){return this._core.methods.add(e,t,s,this.realm)}path(e){n.assert(e&&"string"==typeof e,"relativeTo must be a non-empty string"),this.realm.settings.files.relativeTo=e}async register(e,t={}){(this.realm.modifiers.route.prefix||this.realm.modifiers.route.vhost)&&((t=n.clone(t)).routes=t.routes||{},t.routes.prefix=(this.realm.modifiers.route.prefix||"")+(t.routes.prefix||"")||void 0,t.routes.vhost=this.realm.modifiers.route.vhost||t.routes.vhost),t=r.apply("register",t),++this._core.registring;try{const s=[].concat(e);for(let e of s){e.plugin?e.plugin.register?"function"==typeof e&&(e=Object.assign({},e)):e={options:e.options,once:e.once,routes:e.routes,plugin:e.plugin.plugin}:e={plugin:e};const s=(e=r.apply("plugin",e)).plugin.name||e.plugin.pkg.name,i=this._clone(s);i.realm.modifiers.route.prefix=e.routes.prefix||t.routes.prefix,i.realm.modifiers.route.vhost=e.routes.vhost||t.routes.vhost,i.realm.pluginOptions=e.options||{};const a=e.plugin.requirements;if(n.assert(!a.node||o.match(process.version,a.node),"Plugin",s,"requires node version",a.node,"but found",process.version),n.assert(!a.hapi||o.match(this.version,a.hapi),"Plugin",s,"requires hapi version",a.hapi,"but found",this.version),this._core.registrations[s]){if(e.plugin.once||e.once||t.once)continue;n.assert(e.plugin.multiple,"Plugin",s,"already registered")}else this._core.registrations[s]={version:e.plugin.version||e.plugin.pkg.version,name:s,options:e.options};e.plugin.dependencies&&i.dependency(e.plugin.dependencies),await e.plugin.register(i,e.options||{})}}catch(e){throw e}finally{--this._core.registring}}route(e){n.assert("object"==typeof e,"Invalid route options"),e=[].concat(e);for(const t of e)if(Array.isArray(t.method))for(const e of t.method){const s=Object.assign({},t);s.method=e,this._addRoute(s,this)}else this._addRoute(t,this)}_addRoute(e,t){const s=new h(e,t),n=[].concat(s.settings.vhost||"*");for(const e of n){const t=this._core.router.add({method:s.method,path:s.path,vhost:e,analysis:s._analysis,id:s.settings.id},s);s.fingerprint=t.fingerprint,s.params=t.params}this.events.emit("route",s.public),l.options(s.public,t)}rules(e,t={}){n.assert(!this.realm._rules,"Server realm rules already defined");const s=r.apply("rules",t);if(s.validate){const e=s.validate.schema;s.validate.schema=i.compile(e)}this.realm._rules={processor:e,settings:s}}state(e,t){this.states.add(e,t)}table(e){return this._core.router.table(e)}start(){return this._core._start()}initialize(){return this._core._initialize()}stop(e){return this._core._stop(e)}},m.cache=(e=>{const t=function(t,s){return this._core._cachePolicy(t,s,e.realm)};return t.provision=(async t=>{const s=e._core._createCache(t);-1!==["initialized","starting","started"].indexOf(e._core.phase)&&await Promise.all(s.map(e=>e.start()))}),t})},function(e,t,s){"use strict";const n={arrayType:Symbol("array"),bufferType:Symbol("buffer"),dateType:Symbol("date"),errorType:Symbol("error"),genericType:Symbol("generic"),mapType:Symbol("map"),regexType:Symbol("regex"),setType:Symbol("set"),weakMapType:Symbol("weak-map"),weakSetType:Symbol("weak-set"),mismatched:Symbol("mismatched")};n.typeMap={"[object Array]":n.arrayType,"[object Date]":n.dateType,"[object Error]":n.errorType,"[object Map]":n.mapType,"[object RegExp]":n.regexType,"[object Set]":n.setType,"[object WeakMap]":n.weakMapType,"[object WeakSet]":n.weakSetType},n.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}},n.getInternalType=function(e){const{typeMap:t,bufferType:s,genericType:i}=n;return e instanceof Buffer?s:t[Object.prototype.toString.call(e)]||i},n.getSharedType=function(e,t,s){if(s)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?n.mismatched:n.getInternalType(e);const i=n.getInternalType(e);return i!==n.getInternalType(t)?n.mismatched:i},n.valueOf=function(e){const t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},n.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},n.isSetSimpleEqual=function(e,t){for(const s of e)if(!t.has(s))return!1;return!0},n.isDeepEqualObj=function(e,t,s,i,a){const{isDeepEqual:o,valueOf:r,hasOwnEnumerableProperty:c}=n,{keys:l,getOwnPropertySymbols:p}=Object;if(e===n.arrayType){if(!i.part){if(t.length!==s.length)return!1;for(let e=0;e<t.length;++e)if(!o(t[e],s[e],i,a))return!1;return!0}for(let e=0;e<t.length;++e){const n=t[e];for(let e=0;e<s.length;++e)if(o(n,s[e],i,a))return!0}}else if(e===n.setType){if(t.size!==s.size)return!1;if(!n.isSetSimpleEqual(t,s)){const e=new Set(s);for(const s of t){if(e.delete(s))continue;let t=!1;for(const n of e)if(o(s,n,i,a)){e.delete(n),t=!0;break}if(!t)return!1}}}else if(e===n.mapType){if(t.size!==s.size)return!1;for(const[e,n]of t){if(void 0===n&&!s.has(e))return!1;if(!o(n,s.get(e),i,a))return!1}}else if(e===n.errorType&&(t.name!==s.name||t.message!==s.message))return!1;const u=r(t),d=r(s);if((t!==u||s!==d)&&!o(u,d,i,a))return!1;const h=l(t);if(!i.part&&h.length!==l(s).length)return!1;for(let e=0;e<h.length;++e){const n=h[e];if(!c(s,n))return!1;if(!o(t[n],s[n],i,a))return!1}if(i.symbols){const e=p(t),n=new Set(p(s));for(let r=0;r<e.length;++r){const l=e[r];if(c(t,l)){if(!c(s,l))return!1;if(!o(t[l],s[l],i,a))return!1}else if(c(s,l))return!1;n.delete(l)}for(const e of n)if(c(s,e))return!1}return!0},n.isDeepEqual=function(e,t,s,i){if(e===t)return 0!==e||1/e==1/t;const a=typeof e;if(a!==typeof t)return!1;if("object"!==a||null===e||null===t)return e!=e&&t!=t;const o=n.getSharedType(e,t,!!s.prototype);switch(o){case n.bufferType:return Buffer.prototype.equals.call(e,t);case n.regexType:return e.toString()===t.toString();case n.mismatched:return!1}for(let s=i.length-1;s>=0;--s)if(i[s].isSame(e,t))return!0;i.push(new n.SeenEntry(e,t));try{return!!n.isDeepEqualObj(o,e,t,s,i)}finally{i.pop()}},e.exports=function(e,t,s){return s=s||{prototype:!0},!!n.isDeepEqual(e,t,s,[])}},function(e,t,s){"use strict";const n={};t.escapeHtml=function(e){if(!e)return"";let t="";for(let s=0;s<e.length;++s){const i=e.charCodeAt(s);n.isSafe(i)?t+=e[s]:t+=n.escapeHtmlChar(i)}return t},t.escapeJson=function(e){if(!e)return"";let t;return e.replace(/[<>&\u2028\u2029]/g,e=>60===(t=e.charCodeAt(0))?"\\u003c":62===t?"\\u003e":38===t?"\\u0026":8232===t?"\\u2028":"\\u2029")},n.escapeHtmlChar=function(e){const t=n.namedHtml[e];return void 0!==t?t:e>=256?"&#"+e+";":`&#x${Buffer.from(String.fromCharCode(e),"ascii").toString("hex")};`},n.isSafe=function(e){return void 0!==n.safeCharCodes[e]},n.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},n.safeCharCodes=function(){const e={};for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()},function(e,t,s){"use strict";t.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',hasKnown:'does not contain at least one required match for type "{{!patternLabel}}"',hasUnknown:"does not contain at least one required match",min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",oxor:"contains a conflict between optional exclusive peers {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",unsafe:"must be a safe number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",dataUri:"must be a valid dataUri string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"},symbol:{base:"must be a symbol",map:"must be one of {{map}}"}}},function(e,t,s){"use strict";const n=s(4);t.options=n.object({abortEarly:n.boolean(),convert:n.boolean(),allowUnknown:n.boolean(),skipFunctions:n.boolean(),stripUnknown:[n.boolean(),n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects")],language:n.object(),presence:n.string().only("required","optional","forbidden","ignore"),raw:n.boolean(),context:n.object(),strip:n.boolean(),noDefaults:n.boolean(),escapeHtml:n.boolean()}).strict()},function(e,t,s){"use strict";const n=s(5),i=s(0),a={};a.Lazy=class extends n{constructor(){super(),this._type="lazy",this._flags.once=!0,this._cache=null}_init(e,t){return this.set(e,t)}_base(e,t,s){let i;if(this._cache)i=this._cache;else{const a={value:e},o=this._flags.lazy;if(!o)return a.errors=this.createError("lazy.base",null,t,s),a;if(!((i=o())instanceof n))return a.errors=this.createError("lazy.schema",{schema:i},t,s),a;this._flags.once&&(this._cache=i)}return i._validate(e,t,s)}set(e,t){if(i.assert("function"==typeof e,"You must provide a function as first argument"),i.assert(void 0===t||t&&"object"==typeof t&&!Array.isArray(t),"Options must be an object"),t){const e=Object.keys(t).filter(e=>!["once"].includes(e));i.assert(0===e.length,`Options contain unknown keys: ${e}`),i.assert(void 0===t.once||"boolean"==typeof t.once,'Option "once" must be a boolean')}const s=this.clone();return s._flags.lazy=e,t&&t.once!==s._flags.once&&(s._flags.once=t.once),s}},e.exports=new a.Lazy},function(e,t,s){"use strict";const n=s(0),i=s(5),a=s(9),o=s(6),r=s(16),c={fastSplice:function(e,t){let s=t;for(;s<e.length;)e[s++]=e[s];--e.length}};c.Array=class extends i{constructor(){super(),this._type="array",this._inner.items=[],this._inner.ordereds=[],this._inner.inclusions=[],this._inner.exclusions=[],this._inner.requireds=[],this._flags.sparse=!1}_base(e,t,s){const n={value:e};"string"==typeof e&&s.convert&&c.safeParse(e,n);let i=Array.isArray(n.value);const a=i;if(s.convert&&this._flags.single&&!i&&(n.value=[n.value],i=!0),!i)return n.errors=this.createError("array.base",null,t,s),n;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(a&&(n.value=n.value.slice(0)),n.errors=this._checkItems(n.value,a,t,s),n.errors&&a&&s.convert&&this._flags.single)){const e=n.errors;n.value=[n.value],n.errors=this._checkItems(n.value,a,t,s),n.errors&&(n.errors=e,n.value=n.value[0])}return n}_checkItems(e,t,s,n){const i=[];let a;const o=this._inner.requireds.slice(),l=this._inner.ordereds.slice(),p=[...this._inner.inclusions,...o];let u=e.length;for(let d=0;d<u;++d){a=!1;const h=e[d];let m=!1;const f=t?d:s.key,g=t?[...s.path,d]:s.path,v=new r(f,g,s.parent,s.reference);let x;if(!this._flags.sparse&&void 0===h){if(i.push(this.createError("array.sparse",null,{key:s.key,path:v.path,pos:d},n)),n.abortEarly)return i;l.shift();continue}for(let e=0;e<this._inner.exclusions.length;++e)if(!(x=this._inner.exclusions[e]._validate(h,v,{})).errors){if(i.push(this.createError(t?"array.excludes":"array.excludesSingle",{pos:d,value:h},{key:s.key,path:v.path},n)),a=!0,n.abortEarly)return i;l.shift();break}if(a)continue;if(this._inner.ordereds.length){if(l.length>0){const t=l.shift();if((x=t._validate(h,v,n)).errors){if(i.push(this.createError("array.ordered",{pos:d,reason:x.errors,value:h},{key:s.key,path:v.path},n)),n.abortEarly)return i}else if(t._flags.strip)c.fastSplice(e,d),--d,--u;else{if(!this._flags.sparse&&void 0===x.value){if(i.push(this.createError("array.sparse",null,{key:s.key,path:v.path,pos:d},n)),n.abortEarly)return i;continue}e[d]=x.value}continue}if(!this._inner.items.length){if(i.push(this.createError("array.orderedLength",{pos:d,limit:this._inner.ordereds.length},{key:s.key,path:v.path},n)),n.abortEarly)return i;continue}}const b=[];let y=o.length;for(let t=0;t<y;++t)if(!(x=b[t]=o[t]._validate(h,v,n)).errors){if(e[d]=x.value,m=!0,c.fastSplice(o,t),--t,--y,!this._flags.sparse&&void 0===x.value&&(i.push(this.createError("array.sparse",null,{key:s.key,path:v.path,pos:d},n)),n.abortEarly))return i;break}if(m)continue;const _=n.stripUnknown&&!!n.stripUnknown.arrays||!1;y=p.length;for(let r=0;r<y;++r){const l=p[r],f=o.indexOf(l);if(-1!==f)x=b[f];else if(!(x=l._validate(h,v,n)).errors){l._flags.strip?(c.fastSplice(e,d),--d,--u):this._flags.sparse||void 0!==x.value?e[d]=x.value:(i.push(this.createError("array.sparse",null,{key:s.key,path:v.path,pos:d},n)),a=!0),m=!0;break}if(1===y){if(_){c.fastSplice(e,d),--d,--u,m=!0;break}if(i.push(this.createError(t?"array.includesOne":"array.includesOneSingle",{pos:d,reason:x.errors,value:h},{key:s.key,path:v.path},n)),a=!0,n.abortEarly)return i;break}}if(!a&&(this._inner.inclusions.length&&!m)){if(_){c.fastSplice(e,d),--d,--u;continue}if(i.push(this.createError(t?"array.includes":"array.includesSingle",{pos:d,value:h},{key:s.key,path:v.path},n)),n.abortEarly)return i}}return o.length&&this._fillMissedErrors(i,o,s,n),l.length&&this._fillOrderedErrors(i,l,s,n),i.length?i:null}describe(){const e=super.describe();if(this._inner.ordereds.length){e.orderedItems=[];for(let t=0;t<this._inner.ordereds.length;++t)e.orderedItems.push(this._inner.ordereds[t].describe())}if(this._inner.items.length){e.items=[];for(let t=0;t<this._inner.items.length;++t)e.items.push(this._inner.items[t].describe())}if(e.rules)for(let t=0;t<e.rules.length;++t){const s=e.rules[t];"has"===s.name&&(s.arg=s.arg.describe())}return e}items(...e){const t=this.clone();return n.flatten(e).forEach((e,s)=>{try{e=a.schema(this._currentJoi,e)}catch(e){throw e.hasOwnProperty("path")?e.path=s+"."+e.path:e.path=s,e.message=`${e.message}(${e.path})`,e}t._inner.items.push(e),"required"===e._flags.presence?t._inner.requireds.push(e):"forbidden"===e._flags.presence?t._inner.exclusions.push(e.optional()):t._inner.inclusions.push(e)}),t}ordered(...e){const t=this.clone();return n.flatten(e).forEach((e,s)=>{try{e=a.schema(this._currentJoi,e)}catch(e){throw e.hasOwnProperty("path")?e.path=s+"."+e.path:e.path=s,e.message=`${e.message}(${e.path})`,e}t._inner.ordereds.push(e)}),t}min(e){const t=o.isRef(e);return n.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._testUnique("min",e,function(s,n,i){let a;if(t){if(a=e(n.reference||n.parent,i),!(Number.isSafeInteger(a)&&a>=0))return this.createError("array.ref",{ref:e,value:a},n,i)}else a=e;return s.length>=a?s:this.createError("array.min",{limit:e,value:s},n,i)})}max(e){const t=o.isRef(e);return n.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._testUnique("max",e,function(s,n,i){let a;if(t){if(a=e(n.reference||n.parent,i),!(Number.isSafeInteger(a)&&a>=0))return this.createError("array.ref",{ref:e.key},n,i)}else a=e;return s.length<=a?s:this.createError("array.max",{limit:e,value:s},n,i)})}length(e){const t=o.isRef(e);return n.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._testUnique("length",e,function(s,n,i){let a;if(t){if(a=e(n.reference||n.parent,i),!(Number.isSafeInteger(a)&&a>=0))return this.createError("array.ref",{ref:e.key},n,i)}else a=e;return s.length===a?s:this.createError("array.length",{limit:e,value:s},n,i)})}has(e){try{e=a.schema(this._currentJoi,e)}catch(e){throw e.hasOwnProperty("path")&&(e.message=`${e.message}(${e.path})`),e}return this._test("has",e,function(t,s,n){if(t.some((t,i)=>{const a=new r(i,[...s.path,i],s.key,s.reference);return!e._validate(t,a,n).errors}))return t;const i=e._getLabel();return i?this.createError("array.hasKnown",{patternLabel:i},s,n):this.createError("array.hasUnknown",null,s,n)})}unique(e,t){n.assert(void 0===e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),n.assert(void 0===t||"object"==typeof t,"configs must be an object");const s={ignoreUndefined:t&&t.ignoreUndefined||!1};return"string"==typeof e?s.path=e:"function"==typeof e&&(s.comparator=e),this._test("unique",s,function(e,t,i){const a={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},o=s.comparator||n.deepEqual,c=s.ignoreUndefined;for(let l=0;l<e.length;++l){const p=s.path?n.reach(e[l],s.path):e[l],u=s.comparator?a.custom:a[typeof p];if(u)if(u instanceof Map){const n=u.entries();let a;for(;!(a=n.next()).done;)if(o(a.value[0],p)){const n=new r(t.key,[...t.path,l],t.parent,t.reference),o={pos:l,value:e[l],dupePos:a.value[1],dupeValue:e[a.value[1]]};return s.path&&(o.path=s.path),this.createError("array.unique",o,n,i)}u.set(p,l)}else{if((!c||void 0!==p)&&void 0!==u[p]){const n=new r(t.key,[...t.path,l],t.parent,t.reference),a={pos:l,value:e[l],dupePos:u[p],dupeValue:e[u[p]]};return s.path&&(a.path=s.path),this.createError("array.unique",a,n,i)}u[p]=l}}return e})}sparse(e){const t=void 0===e||!!e;if(this._flags.sparse===t)return this;const s=this.clone();return s._flags.sparse=t,s}single(e){const t=void 0===e||!!e;if(this._flags.single===t)return this;const s=this.clone();return s._flags.single=t,s}_fillMissedErrors(e,t,s,n){const i=[];let a=0;for(let e=0;e<t.length;++e){const s=t[e]._getLabel();s?i.push(s):++a}i.length?a?e.push(this.createError("array.includesRequiredBoth",{knownMisses:i,unknownMisses:a},{key:s.key,path:s.path},n)):e.push(this.createError("array.includesRequiredKnowns",{knownMisses:i},{key:s.key,path:s.path},n)):e.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:a},{key:s.key,path:s.path},n))}_fillOrderedErrors(e,t,s,i){const a=[];for(let e=0;e<t.length;++e){"required"===n.reach(t[e],"_flags.presence")&&a.push(t[e])}a.length&&this._fillMissedErrors(e,a,s,i)}},c.safeParse=function(e,t){try{const s=JSON.parse(e);Array.isArray(s)&&(t.value=s)}catch(e){}},e.exports=new c.Array},function(e,t,s){"use strict";const n=s(5),i=s(0),a={Set:s(27)};a.Boolean=class extends n{constructor(){super(),this._type="boolean",this._flags.insensitive=!0,this._inner.truthySet=new a.Set,this._inner.falsySet=new a.Set}_base(e,t,s){const n={value:e};if("string"==typeof e&&s.convert){const t=this._flags.insensitive?e.toLowerCase():e;n.value="true"===t||"false"!==t&&e}return"boolean"!=typeof n.value&&(n.value=!!this._inner.truthySet.has(e,null,null,this._flags.insensitive)||!this._inner.falsySet.has(e,null,null,this._flags.insensitive)&&e),n.errors="boolean"==typeof n.value?null:this.createError("boolean.base",{value:e},t,s),n}truthy(...e){const t=this.clone();e=i.flatten(e);for(let s=0;s<e.length;++s){const n=e[s];i.assert(void 0!==n,"Cannot call truthy with undefined"),t._inner.truthySet.add(n)}return t}falsy(...e){const t=this.clone();e=i.flatten(e);for(let s=0;s<e.length;++s){const n=e[s];i.assert(void 0!==n,"Cannot call falsy with undefined"),t._inner.falsySet.add(n)}return t}insensitive(e){const t=void 0===e||!!e;if(this._flags.insensitive===t)return this;const s=this.clone();return s._flags.insensitive=t,s}describe(){const e=super.describe();return e.truthy=[!0,...this._inner.truthySet.values()],e.falsy=[!1,...this._inner.falsySet.values()],e}},e.exports=new a.Boolean},function(e,t,s){"use strict";const n=s(5),i=s(0),a={};a.Binary=class extends n{constructor(){super(),this._type="binary"}_base(e,t,s){const n={value:e};if("string"==typeof e&&s.convert)try{n.value=Buffer.from(e,this._flags.encoding)}catch(e){}return n.errors=Buffer.isBuffer(n.value)?null:this.createError("binary.base",null,t,s),n}encoding(e){if(i.assert(Buffer.isEncoding(e),"Invalid encoding:",e),this._flags.encoding===e)return this;const t=this.clone();return t._flags.encoding=e,t}min(e){return i.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,s,n){return t.length>=e?t:this.createError("binary.min",{limit:e,value:t},s,n)})}max(e){return i.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,s,n){return t.length<=e?t:this.createError("binary.max",{limit:e,value:t},s,n)})}length(e){return i.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,s,n){return t.length===e?t:this.createError("binary.length",{limit:e,value:t},s,n)})}},e.exports=new a.Binary},function(e,t,s){"use strict";const n=s(0),i=s(30),a=s(6),o={};o.Func=class extends i.constructor{constructor(){super(),this._flags.func=!0}arity(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("arity",e,function(t,s,n){return t.length===e?t:this.createError("function.arity",{n:e},s,n)})}minArity(e){return n.assert(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this._test("minArity",e,function(t,s,n){return t.length>=e?t:this.createError("function.minArity",{n:e},s,n)})}maxArity(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("maxArity",e,function(t,s,n){return t.length<=e?t:this.createError("function.maxArity",{n:e},s,n)})}ref(){return this._test("ref",null,function(e,t,s){return a.isRef(e)?e:this.createError("function.ref",{value:e},t,s)})}class(){return this._test("class",null,function(e,t,s){return/^\s*class\s/.test(e.toString())?e:this.createError("function.class",{value:e},t,s)})}},e.exports=new o.Func},function(e,t,s){"use strict";const n=s(5),i=s(6),a=s(0),o={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,normalizeExponent:e=>e.replace(/\.?0+e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2"),normalizeDecimal:e=>((e=e.replace(/^\+/,"").replace(/\.0+$/,"").replace(/^(-?)0+([1-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),e)};o.Number=class extends n{constructor(){super(),this._type="number",this._flags.unsafe=!1,this._invalids.add(1/0),this._invalids.add(-1/0)}_base(e,t,s){const n={errors:null,value:e};if("string"==typeof e&&s.convert){const i=e.match(/^\s*[+-]?\d+(?:\.\d+)?(?:e([+-]?\d+))?\s*$/i);if(i&&(e=e.trim(),n.value=parseFloat(e),!this._flags.unsafe))if(e.includes("e")){if(o.normalizeExponent(`${n.value/Math.pow(10,i[1])}e${i[1]}`)!==o.normalizeExponent(e))return n.errors=this.createError("number.unsafe",{value:e},t,s),n}else if(n.value.toString()!==o.normalizeDecimal(e))return n.errors=this.createError("number.unsafe",{value:e},t,s),n}const i="number"==typeof n.value&&!isNaN(n.value);if(s.convert&&"precision"in this._flags&&i){const e=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*e)/e}return i?!this._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(n.errors=this.createError("number.unsafe",{value:e},t,s)):n.errors=this.createError("number.base",{value:e},t,s),n}multiple(e){const t=i.isRef(e);return t||(a.assert("number"==typeof e&&isFinite(e),"multiple must be a number"),a.assert(e>0,"multiple must be greater than 0")),this._test("multiple",e,function(s,n,i){const a=t?e(n.reference||n.parent,i):e;return!t||"number"==typeof a&&isFinite(a)?s%a==0?s:this.createError("number.multiple",{multiple:e,value:s},n,i):this.createError("number.ref",{ref:e.key},n,i)})}integer(){return this._test("integer",void 0,function(e,t,s){return Math.trunc(e)-e==0?e:this.createError("number.integer",{value:e},t,s)})}unsafe(e=!0){if(a.assert("boolean"==typeof e,"enabled must be a boolean"),this._flags.unsafe===e)return this;const t=this.clone();return t._flags.unsafe=e,t}negative(){return this._test("negative",void 0,function(e,t,s){return e<0?e:this.createError("number.negative",{value:e},t,s)})}positive(){return this._test("positive",void 0,function(e,t,s){return e>0?e:this.createError("number.positive",{value:e},t,s)})}precision(e){a.assert(Number.isSafeInteger(e),"limit must be an integer"),a.assert(!("precision"in this._flags),"precision already set");const t=this._test("precision",e,function(t,s,n){const i=t.toString().match(o.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=e?t:this.createError("number.precision",{limit:e,value:t},s,n)});return t._flags.precision=e,t}port(){return this._test("port",void 0,function(e,t,s){return!Number.isSafeInteger(e)||e<0||e>65535?this.createError("number.port",{value:e},t,s):e})}},o.compare=function(e,t){return function(s){const n=i.isRef(s),o="number"==typeof s&&!isNaN(s);return a.assert(o||n,"limit must be a number or reference"),this._test(e,s,function(i,a,o){let r;if(n){if("number"!=typeof(r=s(a.reference||a.parent,o))||isNaN(r))return this.createError("number.ref",{ref:s.key},a,o)}else r=s;return t(i,r)?i:this.createError("number."+e,{limit:r,value:i},a,o)})}},o.Number.prototype.min=o.compare("min",(e,t)=>e>=t),o.Number.prototype.max=o.compare("max",(e,t)=>e<=t),o.Number.prototype.greater=o.compare("greater",(e,t)=>e>t),o.Number.prototype.less=o.compare("less",(e,t)=>e<t),e.exports=new o.Number},function(e,t,s){"use strict";const n=s(66),i=s(0),a=s(5),o=s(6),r=s(29),c=s(67),l=s(68);let p;const u={uriRegex:c.createUriRegex(),ipRegex:l.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};u.String=class extends a{constructor(){super(),this._type="string",this._invalids.add("")}_base(e,t,s){if("string"==typeof e&&s.convert){if(this._flags.normalize&&(e=e.normalize(this._flags.normalize)),this._flags.case&&(e="upper"===this._flags.case?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim()),this._inner.replacements)for(let t=0;t<this._inner.replacements.length;++t){const s=this._inner.replacements[t];e=e.replace(s.pattern,s.replacement)}if(this._flags.truncate)for(let t=0;t<this._tests.length;++t){const s=this._tests[t];if("max"===s.name){e=e.slice(0,s.arg);break}}this._flags.byteAligned&&e.length%2!=0&&(e=`0${e}`)}return{value:e,errors:"string"==typeof e?null:this.createError("string.base",{value:e},t,s)}}insensitive(){if(this._flags.insensitive)return this;const e=this.clone();return e._flags.insensitive=!0,e}creditCard(){return this._test("creditCard",void 0,function(e,t,s){let n=e.length,i=0,a=1;for(;n--;){const t=e.charAt(n)*a;i+=t-9*(t>9),a^=3}return i%10==0&&i>0?e:this.createError("string.creditCard",{value:e},t,s)})}regex(e,t){i.assert(e instanceof RegExp,"pattern must be a RegExp"),i.assert(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode");const s={pattern:e};"string"==typeof t?s.name=t:"object"==typeof t&&(s.invert=!!t.invert,t.name&&(s.name=t.name));const n=["string.regex",s.invert?".invert":"",s.name?".name":".base"].join("");return this._test("regex",s,function(e,t,i){return s.pattern.test(e)^s.invert?e:this.createError(n,{name:s.name,pattern:s.pattern,value:e},t,i)})}alphanum(){return this._test("alphanum",void 0,function(e,t,s){return/^[a-zA-Z0-9]+$/.test(e)?e:this.createError("string.alphanum",{value:e},t,s)})}token(){return this._test("token",void 0,function(e,t,s){return/^\w+$/.test(e)?e:this.createError("string.token",{value:e},t,s)})}email(e){return e&&(i.assert("object"==typeof e,"email options must be an object"),i.assert(void 0===e.checkDNS,"checkDNS option is not supported"),i.assert(void 0===e.tldWhitelist||"object"==typeof e.tldWhitelist,"tldWhitelist must be an array or object"),i.assert(void 0===e.minDomainAtoms||Number.isSafeInteger(e.minDomainAtoms)&&e.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),i.assert(void 0===e.errorLevel||"boolean"==typeof e.errorLevel||Number.isSafeInteger(e.errorLevel)&&e.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",e,function(t,n,i){p=p||s(69);try{const s=p.validate(t,e);if(!0===s||0===s)return t}catch(e){}return this.createError("string.email",{value:t},n,i)})}ip(e={}){let t,s=u.ipRegex;if(i.assert("object"==typeof e,"options must be an object"),e.cidr?(i.assert("string"==typeof e.cidr,"cidr must be a string"),e.cidr=e.cidr.toLowerCase(),i.assert(i.contain(u.cidrPresences,e.cidr),"cidr must be one of "+u.cidrPresences.join(", ")),e.version||"optional"===e.cidr||(s=l.createIpRegex(["ipv4","ipv6","ipvfuture"],e.cidr))):e.cidr="optional",e.version){Array.isArray(e.version)||(e.version=[e.version]),i.assert(e.version.length>=1,"version must have at least 1 version specified"),t=[];for(let s=0;s<e.version.length;++s){let n=e.version[s];i.assert("string"==typeof n,"version at position "+s+" must be a string"),n=n.toLowerCase(),i.assert(l.versions[n],"version at position "+s+" must be one of "+Object.keys(l.versions).join(", ")),t.push(n)}t=Array.from(new Set(t)),s=l.createIpRegex(t,e.cidr)}return this._test("ip",e,function(n,i,a){return s.test(n)?n:t?this.createError("string.ipVersion",{value:n,cidr:e.cidr,version:t},i,a):this.createError("string.ip",{value:n,cidr:e.cidr},i,a)})}uri(e){let t="",s=!1,n=!1,a=!1,o=u.uriRegex;if(e){i.assert("object"==typeof e,"options must be an object");const o=Object.keys(e).filter(e=>!["scheme","allowRelative","relativeOnly","allowQuerySquareBrackets"].includes(e));if(i.assert(0===o.length,`options contain unknown keys: ${o}`),e.scheme){i.assert(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(e.scheme)||(e.scheme=[e.scheme]),i.assert(e.scheme.length>=1,"scheme must have at least 1 scheme specified");for(let s=0;s<e.scheme.length;++s){const n=e.scheme[s];i.assert(n instanceof RegExp||"string"==typeof n,"scheme at position "+s+" must be a RegExp or String"),t+=t?"|":"",n instanceof RegExp?t+=n.source:(i.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(n),"scheme at position "+s+" must be a valid scheme"),t+=i.escapeRegex(n))}}e.allowRelative&&(s=!0),e.relativeOnly&&(n=!0),e.allowQuerySquareBrackets&&(a=!0)}return(t||s||n||a)&&(o=c.createUriRegex(t,s,n,a)),this._test("uri",e,function(e,s,i){return o.test(e)?e:n?this.createError("string.uriRelativeOnly",{value:e},s,i):t?this.createError("string.uriCustomScheme",{scheme:t,value:e},s,i):this.createError("string.uri",{value:e},s,i)})}isoDate(){return this._test("isoDate",void 0,function(e,t,s){if(r._isIsoDate(e)){if(!s.convert)return e;const t=new Date(e);if(!isNaN(t.getTime()))return t.toISOString()}return this.createError("string.isoDate",{value:e},t,s)})}guid(e){let t="";if(e&&e.version){Array.isArray(e.version)||(e.version=[e.version]),i.assert(e.version.length>=1,"version must have at least 1 valid version specified");const s=new Set;for(let n=0;n<e.version.length;++n){let a=e.version[n];i.assert("string"==typeof a,"version at position "+n+" must be a string"),a=a.toLowerCase();const o=u.guidVersions[a];i.assert(o,"version at position "+n+" must be one of "+Object.keys(u.guidVersions).join(", ")),i.assert(!s.has(o),"version at position "+n+" must not be a duplicate."),t+=o,s.add(o)}}const s=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this._test("guid",e,function(e,t,n){const i=s.exec(e);return i?u.guidBrackets[i[1]]!==i[i.length-1]?this.createError("string.guid",{value:e},t,n):e:this.createError("string.guid",{value:e},t,n)})}hex(e={}){i.assert("object"==typeof e,"hex options must be an object"),i.assert(void 0===e.byteAligned||"boolean"==typeof e.byteAligned,"byteAligned must be boolean");const t=!0===e.byteAligned,s=/^[a-f0-9]+$/i,n=this._test("hex",s,function(e,n,i){return s.test(e)?t&&e.length%2!=0?this.createError("string.hexAlign",{value:e},n,i):e:this.createError("string.hex",{value:e},n,i)});return t&&(n._flags.byteAligned=!0),n}base64(e={}){i.assert("object"==typeof e,"base64 options must be an object"),i.assert(void 0===e.paddingRequired||"boolean"==typeof e.paddingRequired,"paddingRequired must be boolean");const t=(!1===e.paddingRequired?e.paddingRequired:e.paddingRequired||!0)?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",t,function(e,s,n){return t.test(e)?e:this.createError("string.base64",{value:e},s,n)})}dataUri(e={}){const t=/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,s=(!1===e.paddingRequired?e.paddingRequired:e.paddingRequired||!0)?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("dataUri",t,function(e,n,i){const a=e.match(t);if(a){if(!a[2])return e;if("base64"!==a[2])return e;if(s.test(a[3]))return e}return this.createError("string.dataUri",{value:e},n,i)})}hostname(){const e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(t,s,i){return t.length<=255&&e.test(t)||n.isIPv6(t)?t:this.createError("string.hostname",{value:t},s,i)})}normalize(e="NFC"){i.assert(i.contain(u.normalizationForms,e),"normalization form must be one of "+u.normalizationForms.join(", "));const t=this._test("normalize",e,function(t,s,n){return n.convert||t===t.normalize(e)?t:this.createError("string.normalize",{value:t,form:e},s,n)});return t._flags.normalize=e,t}lowercase(){const e=this._test("lowercase",void 0,function(e,t,s){return s.convert||e===e.toLocaleLowerCase()?e:this.createError("string.lowercase",{value:e},t,s)});return e._flags.case="lower",e}uppercase(){const e=this._test("uppercase",void 0,function(e,t,s){return s.convert||e===e.toLocaleUpperCase()?e:this.createError("string.uppercase",{value:e},t,s)});return e._flags.case="upper",e}trim(e=!0){if(i.assert("boolean"==typeof e,"option must be a boolean"),this._flags.trim&&e||!this._flags.trim&&!e)return this;let t;return e?t=this._test("trim",void 0,function(e,t,s){return s.convert||e===e.trim()?e:this.createError("string.trim",{value:e},t,s)}):(t=this.clone())._tests=t._tests.filter(e=>"trim"!==e.name),t._flags.trim=e,t}replace(e,t){"string"==typeof e&&(e=new RegExp(i.escapeRegex(e),"g")),i.assert(e instanceof RegExp,"pattern must be a RegExp"),i.assert("string"==typeof t,"replacement must be a String");const s=this.clone();return s._inner.replacements||(s._inner.replacements=[]),s._inner.replacements.push({pattern:e,replacement:t}),s}truncate(e){const t=void 0===e||!!e;if(this._flags.truncate===t)return this;const s=this.clone();return s._flags.truncate=t,s}},u.compare=function(e,t){return function(s,n){const a=o.isRef(s);return i.assert(Number.isSafeInteger(s)&&s>=0||a,"limit must be a positive integer or reference"),i.assert(!n||Buffer.isEncoding(n),"Invalid encoding:",n),this._test(e,s,function(i,o,r){let c;if(a){if(c=s(o.reference||o.parent,r),!Number.isSafeInteger(c))return this.createError("string.ref",{ref:s,value:c},o,r)}else c=s;return t(i,c,n)?i:this.createError("string."+e,{limit:c,value:i,encoding:n},o,r)})}},u.String.prototype.min=u.compare("min",(e,t,s)=>{return(s?Buffer.byteLength(e,s):e.length)>=t}),u.String.prototype.max=u.compare("max",(e,t,s)=>{return(s?Buffer.byteLength(e,s):e.length)<=t}),u.String.prototype.length=u.compare("length",(e,t,s)=>{return(s?Buffer.byteLength(e,s):e.length)===t}),u.String.prototype.uuid=u.String.prototype.guid,e.exports=new u.String},function(e,t){e.exports=require("net")},function(e,t,s){"use strict";const n=s(32),i={Uri:{createUriRegex:function(e,t,s,i){let a,o=n.scheme;if(s)a="(?:"+n.relativeRef+")";else{e&&(o="(?:"+e+")");const s="(?:"+o+":"+n.hierPart+")";a=t?"(?:"+s+"|"+n.relativeRef+")":s}return new RegExp("^"+a+"(?:\\?"+(i?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?$")}}};e.exports=i.Uri},function(e,t,s){"use strict";const n=s(32),i={Ip:{cidrs:{ipv4:{required:"\\/(?:"+n.ipv4Cidr+")",optional:"(?:\\/(?:"+n.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:n.IPv4address,ipv6:n.IPv6address,ipvfuture:n.IPvFuture}}};i.Ip.createIpRegex=function(e,t){let s;for(let n=0;n<e.length;++n){const a=e[n];s?s+="|"+i.Ip.versions[a]+i.Ip.cidrs[a][t]:s="^(?:"+i.Ip.versions[a]+i.Ip.cidrs[a][t]}return new RegExp(s+")$")},e.exports=i.Ip},function(e,t,s){"use strict";const n=s(70),i=s(11),a={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161,errDotAfterDomainLiteral:162},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};a.specials=function(){const e=new Array(256);e.fill(!1);for(let t=0;t<'()<>[]:;@\\,."'.length;++t)e['()<>[]:;@\\,."'.codePointAt(t)]=!0;return function(t){return e[t]}}(),a.c0Controls=function(){const e=new Array(256);e.fill(!1);for(let t=0;t<33;++t)e[t]=!0;return function(t){return e[t]}}(),a.c1Controls=function(){const e=new Array(256);e.fill(!1);for(let t=127;t<160;++t)e[t]=!0;return function(t){return e[t]}}(),a.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},a.normalizeSupportsNul="\0"==="\0".normalize("NFC"),a.nulNormalize=function(e){return e.split("\0").map(e=>e.normalize("NFC")).join("\0")},a.normalize=function(e){return e.normalize("NFC")},a.normalizeSupportsNul||(a.normalize=function(e){return e.indexOf("\0")>=0?a.nulNormalize(e):e.normalize("NFC")}),a.checkIpV6=function(e){return e.every(e=>a.regex.ipV6.test(e))},a.isIterable=Array.isArray,"undefined"!=typeof Symbol&&(a.isIterable=(e=>Array.isArray(e)||!!e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator])),a._isSet=(e=>e instanceof Set),a._isMap=(e=>e instanceof Map),a.isSet=i.types&&i.types.isSet||a._isSet,a.isMap=i.types&&i.types.isMap||a._isMap,a.normalizeTable=function(e){return a.isSet(e)||Array.isArray(e)?e:a.isMap(e)?e.keys():Object.keys(e)},a.canonicalizeAtom=function(e){return n.toASCII(e).toLowerCase()},a.includesMapped=function(e,t,s){for(const n of e)if(s===t(n))return!0;return!1},a.validDomain=function(e,t){const s=a.canonicalizeAtom(e);return t.tldBlacklist?!a.includesMapped(a.normalizeTable(t.tldBlacklist),a.canonicalizeAtom,s):a.includesMapped(a.normalizeTable(t.tldWhitelist),a.canonicalizeAtom,s)},a.hasDomainLiteralThenAtom=function(e){let t=!1;for(let s=0;s<e.length;++s)if("["===e[s][0])t=!0;else if(t)return!0;return!1},t.validate=a.validate=function(e,t,s){if(t=t||{},"string"!=typeof e)throw new TypeError("expected string email");let i,o;if(e=a.normalize(e),"function"==typeof t&&(s=t,t={}),"function"!=typeof s&&(s=null),"number"==typeof t.errorLevel?(i=!0,o=t.errorLevel):(i=!!t.errorLevel,o=a.diagnoses.valid),t.tldWhitelist)if("string"==typeof t.tldWhitelist)t.tldWhitelist=[t.tldWhitelist];else if("object"!=typeof t.tldWhitelist)throw new TypeError("expected array or object tldWhitelist");if(t.tldBlacklist)if("string"==typeof t.tldBlacklist)t.tldBlacklist=[t.tldBlacklist];else if("object"!=typeof t.tldBlacklist)throw new TypeError("expected array or object tldBlacklist");if(t.minDomainAtoms&&(t.minDomainAtoms!==(0|+t.minDomainAtoms)||t.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");if(t.excludeDiagnoses){if(!a.isIterable(t.excludeDiagnoses))throw new TypeError("expected iterable excludeDiagnoses");a.isSet(t.excludeDiagnoses)||(t.excludeDiagnoses=new Set(t.excludeDiagnoses))}let r=a.diagnoses.valid;const c=e=>{!(e>r)||t.excludeDiagnoses&&t.excludeDiagnoses.has(e)||(r=e)};!(void 0===t.allowUnicode||!!t.allowUnicode)&&/[^\x00-\x7f]/.test(e)&&c(a.diagnoses.undesiredNonAscii);const l={now:a.components.localpart,prev:a.components.localpart,stack:[a.components.localpart]};let p="";const u={local:"",domain:""},d={locals:[""],domains:[""]};let h,m=0,f=0,g=0,v=!1,x=!1;const b=e.length;let y;for(let t=0;t<b;t+=y.length){switch(y=String.fromCodePoint(e.codePointAt(t)),l.now){case a.components.localpart:switch(y){case"(":0===f?c(0===m?a.diagnoses.cfwsComment:a.diagnoses.deprecatedComment):(c(a.diagnoses.cfwsComment),x=!0),l.stack.push(l.now),l.now=a.components.contextComment;break;case".":0===f?c(0===m?a.diagnoses.errDotStart:a.diagnoses.errConsecutiveDots):(x&&c(a.diagnoses.deprecatedLocalPart),x=!1,f=0,++m,u.local+=y,d.locals[m]="");break;case'"':0===f?(c(0===m?a.diagnoses.rfc5321QuotedString:a.diagnoses.deprecatedLocalPart),u.local+=y,d.locals[m]+=y,f+=Buffer.byteLength(y,"utf8"),x=!0,l.stack.push(l.now),l.now=a.components.contextQuotedString):c(a.diagnoses.errExpectingATEXT);break;case"\r":if(b===++t||"\n"!==e[t]){c(a.diagnoses.errCRNoLF);break}case" ":case"\t":0===f?c(0===m?a.diagnoses.cfwsFWS:a.diagnoses.deprecatedFWS):x=!0,l.stack.push(l.now),l.now=a.components.contextFWS,p=y;break;case"@":if(1!==l.stack.length)throw new Error("unexpected item on context stack");0===u.local.length?c(a.diagnoses.errNoLocalPart):0===f?c(a.diagnoses.errDotEnd):Buffer.byteLength(u.local,"utf8")>64?c(a.diagnoses.rfc5322LocalTooLong):l.prev!==a.components.contextComment&&l.prev!==a.components.contextFWS||c(a.diagnoses.deprecatedCFWSNearAt),l.now=a.components.domain,l.stack[0]=a.components.domain,m=0,f=0,x=!1;break;default:if(x)switch(l.prev){case a.components.contextComment:case a.components.contextFWS:c(a.diagnoses.errATEXTAfterCFWS);break;case a.components.contextQuotedString:c(a.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+l.prev)}else l.prev=l.now,h=y.codePointAt(0),(a.specials(h)||a.c0Controls(h)||a.c1Controls(h))&&c(a.diagnoses.errExpectingATEXT),u.local+=y,d.locals[m]+=y,f+=Buffer.byteLength(y,"utf8")}break;case a.components.domain:switch(y){case"(":0===f?c(0===m?a.diagnoses.deprecatedCFWSNearAt:a.diagnoses.deprecatedComment):(x=!0,c(a.diagnoses.cfwsComment)),l.stack.push(l.now),l.now=a.components.contextComment;break;case".":const s=n.toASCII(d.domains[m]).length;0===f?c(0===m?a.diagnoses.errDotStart:a.diagnoses.errConsecutiveDots):v?c(a.diagnoses.errDomainHyphenEnd):s>63&&c(a.diagnoses.rfc5322LabelTooLong),x=!1,f=0,++m,d.domains[m]="",u.domain+=y;break;case"[":0===d.domains[m].length?(u.domain.length&&c(a.diagnoses.errDotAfterDomainLiteral),x=!0,f+=Buffer.byteLength(y,"utf8"),l.stack.push(l.now),l.now=a.components.literal,u.domain+=y,d.domains[m]+=y,u.literal=""):c(a.diagnoses.errExpectingATEXT);break;case"\r":if(b===++t||"\n"!==e[t]){c(a.diagnoses.errCRNoLF);break}case" ":case"\t":0===f?c(0===m?a.diagnoses.deprecatedCFWSNearAt:a.diagnoses.deprecatedFWS):(c(a.diagnoses.cfwsFWS),x=!0),l.stack.push(l.now),l.now=a.components.contextFWS,p=y;break;default:if(x)switch(l.prev){case a.components.contextComment:case a.components.contextFWS:c(a.diagnoses.errATEXTAfterCFWS);break;case a.components.literal:c(a.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+l.prev)}h=y.codePointAt(0),v=!1,a.specials(h)||a.c0Controls(h)||a.c1Controls(h)?c(a.diagnoses.errExpectingATEXT):"-"===y?(0===f&&c(a.diagnoses.errDomainHyphenStart),v=!0):(h<48||h>122&&h<192||h>57&&h<65||h>90&&h<97)&&c(a.diagnoses.rfc5322Domain),u.domain+=y,d.domains[m]+=y,f+=Buffer.byteLength(y,"utf8")}break;case a.components.literal:switch(y){case"]":if(r<a.categories.deprecated){let e=-1,t=u.literal;const s=a.regex.ipV4.exec(t);if(s&&0!==(e=s.index)&&(t=t.slice(0,e)+"0:0"),0===e)c(a.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==t.slice(0,5).toLowerCase())c(a.diagnoses.rfc5322DomainLiteral);else{const s=t.slice(5);let n=a.maxIPv6Groups;const i=s.split(":");~(e=s.indexOf("::"))?e!==s.lastIndexOf("::")?c(a.diagnoses.rfc5322IPv62x2xColon):(0!==e&&e!==s.length-2||++n,i.length>n?c(a.diagnoses.rfc5322IPv6MaxGroups):i.length===n&&c(a.diagnoses.deprecatedIPv6)):i.length!==n&&c(a.diagnoses.rfc5322IPv6GroupCount),":"===s[0]&&":"!==s[1]?c(a.diagnoses.rfc5322IPv6ColonStart):":"===s[s.length-1]&&":"!==s[s.length-2]?c(a.diagnoses.rfc5322IPv6ColonEnd):a.checkIpV6(i)?c(a.diagnoses.rfc5321AddressLiteral):c(a.diagnoses.rfc5322IPv6BadCharacter)}}else c(a.diagnoses.rfc5322DomainLiteral);u.domain+=y,d.domains[m]+=y,f+=Buffer.byteLength(y,"utf8"),l.prev=l.now,l.now=l.stack.pop();break;case"\\":c(a.diagnoses.rfc5322DomainLiteralOBSDText),l.stack.push(l.now),l.now=a.components.contextQuotedPair;break;case"\r":if(b===++t||"\n"!==e[t]){c(a.diagnoses.errCRNoLF);break}case" ":case"\t":c(a.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=a.components.contextFWS,p=y;break;default:if(127!==(h=y.codePointAt(0))&&a.c1Controls(h)||0===h||"["===y){c(a.diagnoses.errExpectingDTEXT);break}(a.c0Controls(h)||127===h)&&c(a.diagnoses.rfc5322DomainLiteralOBSDText),u.literal+=y,u.domain+=y,d.domains[m]+=y,f+=Buffer.byteLength(y,"utf8")}break;case a.components.contextQuotedString:switch(y){case"\\":l.stack.push(l.now),l.now=a.components.contextQuotedPair;break;case"\r":if(b===++t||"\n"!==e[t]){c(a.diagnoses.errCRNoLF);break}case"\t":u.local+=" ",d.locals[m]+=" ",f+=Buffer.byteLength(y,"utf8"),c(a.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=a.components.contextFWS,p=y;break;case'"':u.local+=y,d.locals[m]+=y,f+=Buffer.byteLength(y,"utf8"),l.prev=l.now,l.now=l.stack.pop();break;default:127!==(h=y.codePointAt(0))&&a.c1Controls(h)||0===h||10===h?c(a.diagnoses.errExpectingQTEXT):(a.c0Controls(h)||127===h)&&c(a.diagnoses.deprecatedQTEXT),u.local+=y,d.locals[m]+=y,f+=Buffer.byteLength(y,"utf8")}break;case a.components.contextQuotedPair:127!==(h=y.codePointAt(0))&&a.c1Controls(h)?c(a.diagnoses.errExpectingQPair):(h<31&&9!==h||127===h)&&c(a.diagnoses.deprecatedQP),l.prev=l.now,l.now=l.stack.pop();const s="\\"+y;switch(l.now){case a.components.contextComment:break;case a.components.contextQuotedString:u.local+=s,d.locals[m]+=s,f+=2;break;case a.components.literal:u.domain+=s,d.domains[m]+=s,f+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+l.now)}break;case a.components.contextComment:switch(y){case"(":l.stack.push(l.now),l.now=a.components.contextComment;break;case")":l.prev=l.now,l.now=l.stack.pop();break;case"\\":l.stack.push(l.now),l.now=a.components.contextQuotedPair;break;case"\r":if(b===++t||"\n"!==e[t]){c(a.diagnoses.errCRNoLF);break}case" ":case"\t":c(a.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=a.components.contextFWS,p=y;break;default:if(0===(h=y.codePointAt(0))||10===h||127!==h&&a.c1Controls(h)){c(a.diagnoses.errExpectingCTEXT);break}(a.c0Controls(h)||127===h)&&c(a.diagnoses.deprecatedCTEXT)}break;case a.components.contextFWS:if("\r"===p){if("\r"===y){c(a.diagnoses.errFWSCRLFx2);break}++g>1?c(a.diagnoses.deprecatedFWS):g=1}switch(y){case"\r":b!==++t&&"\n"===e[t]||c(a.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===p&&c(a.diagnoses.errFWSCRLFEnd),g=0,l.prev=l.now,l.now=l.stack.pop(),--t}p=y;break;default:throw new Error("unknown context: "+l.now)}if(r>a.categories.rfc5322)break}if(r<a.categories.rfc5322){const e=n.toASCII(u.domain).length;if(l.now===a.components.contextQuotedString)c(a.diagnoses.errUnclosedQuotedString);else if(l.now===a.components.contextQuotedPair)c(a.diagnoses.errBackslashEnd);else if(l.now===a.components.contextComment)c(a.diagnoses.errUnclosedComment);else if(l.now===a.components.literal)c(a.diagnoses.errUnclosedDomainLiteral);else if("\r"===y)c(a.diagnoses.errFWSCRLFEnd);else if(0===u.domain.length)c(a.diagnoses.errNoDomain);else if(0===f)c(a.diagnoses.errDotEnd);else if(v)c(a.diagnoses.errDomainHyphenEnd);else if(e>255)c(a.diagnoses.rfc5322DomainTooLong);else if(Buffer.byteLength(u.local,"utf8")+e+1>254)c(a.diagnoses.rfc5322TooLong);else if(f>63)c(a.diagnoses.rfc5322LabelTooLong);else if(t.minDomainAtoms&&d.domains.length<t.minDomainAtoms&&(1!==d.domains.length||"["!==d.domains[0][0]))c(a.diagnoses.errDomainTooShort);else if(a.hasDomainLiteralThenAtom(d.domains))c(a.diagnoses.errDotAfterDomainLiteral);else if(t.tldWhitelist||t.tldBlacklist){const e=d.domains[m];a.validDomain(e,t)||c(a.diagnoses.errUnknownTLD)}}if(r<a.categories.dnsWarn){d.domains[m].codePointAt(0)<=57&&c(a.diagnoses.rfc5321TLDNumeric)}r<o&&(r=a.diagnoses.valid);const _=i?r:r<a.defaultThreshold;return s&&s(_),_},t.diagnoses=a.validate.diagnoses=function(){const e={},t=Object.keys(a.diagnoses);for(let s=0;s<t.length;++s){const n=t[s];e[n]=a.diagnoses[n]}return e}(),t.normalize=a.normalize},function(e,t){e.exports=require("punycode")},function(e,t,s){"use strict";const n=s(11),i=s(5),a=s(0),o={};o.Map=class extends Map{slice(){return new o.Map(this)}toString(){return n.inspect(this)}},o.Symbol=class extends i{constructor(){super(),this._type="symbol",this._inner.map=new o.Map}_base(e,t,s){if(s.convert){const n=this._inner.map.get(e);if(n&&(e=n),this._flags.allowOnly)return{value:e,errors:"symbol"==typeof e?null:this.createError("symbol.map",{value:e,map:this._inner.map},t,s)}}return{value:e,errors:"symbol"==typeof e?null:this.createError("symbol.base",{value:e},t,s)}}map(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),a.assert(e&&e[Symbol.iterator],"Iterable must be an iterable or object");const t=this.clone(),s=[];for(const n of e){a.assert(n&&n[Symbol.iterator],"Entry must be an iterable");const[e,i]=n;a.assert("object"!=typeof e&&"function"!=typeof e&&"symbol"!=typeof e,"Key must not be an object, function, or Symbol"),a.assert("symbol"==typeof i,"Value must be a Symbol"),t._inner.map.set(e,i),s.push(i)}return t.valid(...s)}describe(){const e=super.describe();return e.map=new Map(this._inner.map),e}},e.exports=new o.Symbol},function(e){e.exports={name:"joi",description:"Object schema validation",version:"14.3.1",homepage:"https://github.com/hapijs/joi",repository:"git://github.com/hapijs/joi",main:"lib/index.js",keywords:["hapi","schema","validation"],dependencies:{hoek:"6.x.x",isemail:"3.x.x",topo:"3.x.x"},devDependencies:{code:"5.x.x",hapitoc:"1.x.x",lab:"18.x.x"},scripts:{test:"lab -t 100 -a code -L","test-debug":"lab -a code","test-cov-html":"lab -r html -o coverage.html -a code",toc:"hapitoc && node docs/check-errors-list.js",version:"npm run toc && git add API.md README.md"},license:"BSD-3-Clause"}},function(e,t,s){"use strict";const n=s(2),i=s(17),a=s(18),o={};e.exports=o.Request=class extends n.Readable{constructor(e){super();let t=e.url;"object"==typeof t&&(t=i.format(t));const s=i.parse(t);this.url=s.path,this.httpVersion="1.1",this.method=e.method?e.method.toUpperCase():"GET",this.headers={};const a=e.headers||{};Object.keys(a).forEach(e=>{this.headers[e.toLowerCase()]=a[e]}),this.headers["user-agent"]=this.headers["user-agent"]||"shot";this.headers.host=this.headers.host||(s.port?s.host:s.protocol?s.hostname+("https:"===s.protocol?":443":":80"):null)||e.authority||"localhost:80",this.connection={remoteAddress:e.remoteAddress||"127.0.0.1"};let o=e.payload||null;return!o||"string"==typeof o||o instanceof n||Buffer.isBuffer(o)||(o=JSON.stringify(o),this.headers["content-type"]=this.headers["content-type"]||"application/json"),!o||o instanceof n||this.headers.hasOwnProperty("content-length")||(this.headers["content-length"]=(Buffer.isBuffer(o)?o.length:Buffer.byteLength(o)).toString()),this._shot={payload:o,isDone:!1,simulate:e.simulate||{}},this}prepare(e){if(this._shot.payload instanceof n==!1)return e();const t=[];this._shot.payload.on("data",e=>t.push(Buffer.from(e))),this._shot.payload.on("end",()=>{const s=Buffer.concat(t);return this.headers["content-length"]=this.headers["content-length"]||s.length,this._shot.payload=s,e()})}_read(e){setImmediate(()=>{this._shot.isDone?!1!==this._shot.simulate.end&&this.push(null):(this._shot.isDone=!0,this._shot.payload&&(this._shot.simulate.split?(this.push(this._shot.payload.slice(0,1)),this.push(this._shot.payload.slice(1))):this.push(this._shot.payload)),this._shot.simulate.error&&this.emit("error",new Error("Simulated")),this._shot.simulate.close&&this.emit("close"),!1!==this._shot.simulate.end&&this.push(null))})}destroy(){}},o.Request.prototype[a.injection]=!0},function(e,t,s){"use strict";const n=s(12),i=s(2),a=s(18),o={};e.exports=o.Response=class extends n.ServerResponse{constructor(e,t){super({method:e.method,httpVersionMajor:1,httpVersionMinor:1}),this._shot={headers:null,trailers:{},payloadChunks:[]},this._headers={},this.assignSocket(o.nullSocket()),this.once("finish",()=>{const s=o.payload(this);s.raw.req=e,process.nextTick(()=>t(s))})}writeHead(...e){const t=super.writeHead(...e);return this._shot.headers=this.getHeaders(),["Date","Connection","Transfer-Encoding"].forEach(e=>{const t=new RegExp("\\r\\n"+e+": ([^\\r]*)\\r\\n"),s=this._header.match(t);s&&(this._shot.headers[e.toLowerCase()]=s[1])}),t}write(e,t,s){return super.write(e,t,s),this._shot.payloadChunks.push(Buffer.from(e,t)),!0}end(e,t,s){e&&this.write(e,t),super.end(s),this.emit("finish")}destroy(){}addTrailers(e){for(const t in e)this._shot.trailers[t.toLowerCase().trim()]=e[t].toString().trim()}},o.Response.prototype[a.injection]=!0,o.payload=function(e){const t={raw:{res:e},headers:e._shot.headers,statusCode:e.statusCode,statusMessage:e.statusMessage,trailers:{}},s=Buffer.concat(e._shot.payloadChunks);return t.rawPayload=s,t.payload=s.toString(),t.trailers=e._shot.trailers,t},o.nullSocket=function(){return new i.Writable({write(e,t,s){setImmediate(s)}})}},function(e,t,s){"use strict";const n=s(12),i=s(35),a=s(19),o=s(8),r=s(1),c=s(3),l=s(76),p=s(36),u=s(82),d=s(83),h=s(0),m=s(84),f=s(20),g=s(34),v=s(87),x=s(40),b=s(91),y=s(7),_=s(13),w=s(23),k=s(109),j=s(46),S=s(22),C=s(111),E={counter:{min:1e4,max:99999},events:[{name:"log",channels:["app","internal"],tags:!0},{name:"request",channels:["app","internal","error"],tags:!0,spread:!0},"response","route","start","stop"],badRequestResponse:Buffer.from("HTTP/1.1 400 Bad Request\r\n\r\n","ascii")};e.exports=E.Core=class{constructor(e){this.root=null;const{settings:t,type:s}=E.setup(e);this.settings=t,this.type=s,this.app={},this.auth=new x(this),this.caches=new Map,this.compression=new b,this.controlled=null,this.decorations={handler:[],request:[],server:[],toolkit:[]},this.dependencies=[],this.events=new f(E.events),this.heavy=new d(this.settings.load),this.instances=new Set,this.methods=new k(this),this.mime=new m(this.settings.mime),this.onConnection=null,this.plugins={},this.queue=new E.Queue(this.settings.load),this.registrations={},this.registring=0,this.requestCounter={value:E.counter.min,min:E.counter.min,max:E.counter.max},this.router=new l.Router(this.settings.router),this.phase="stopped",this.sockets=null,this.started=!1,this.states=new v.Definitions(this.settings.state),this.toolkit=new C,this.extensionsSeq=0,this.extensions={server:{onPreStart:new w("onPreStart",this),onPostStart:new w("onPostStart",this),onPreStop:new w("onPreStop",this),onPostStop:new w("onPostStop",this)},route:{onRequest:new w("onRequest",this),onPreAuth:new w("onPreAuth",this),onCredentials:new w("onCredentials",this),onPostAuth:new w("onPostAuth",this),onPreHandler:new w("onPreHandler",this),onPostHandler:new w("onPostHandler",this),onPreResponse:new w("onPreResponse",this)}},this.Request=class extends j{},this._debug(),this._decorations={handler:{},request:{},server:{},toolkit:{},requestApply:null},this._initializeCache(),this.listener=this._createListener(),this._initializeListener(),this.info=this._info()}_debug(){if(this.settings.debug){const e=(e,t)=>{const s=t.error||t.data;console.error("Debug:",t.tags.join(", "),s?"\n    "+(s.stack||("object"==typeof s?h.stringify(s):s)):"")};if(this.settings.debug.log){const t=this.settings.debug.log.some(e=>"*"===e)?void 0:this.settings.debug.log;this.events.on({name:"log",filter:t},t=>e(null,t))}if(this.settings.debug.request){const t=this.settings.debug.request.some(e=>"*"===e)?void 0:this.settings.debug.request;this.events.on({name:"request",filter:t},e)}}}_initializeCache(){this.settings.cache&&this._createCache(this.settings.cache),this.caches.has("_default")||this._createCache([{provider:u}])}_info(){const e=Date.now(),t="tcp"===this.type?this.settings.tls?"https":"http":this.type,s=this.settings.host||a.hostname()||"localhost",n=this.settings.port;return{created:e,started:0,host:s,port:n,protocol:t,id:a.hostname()+":"+process.pid+":"+e.toString(36),uri:this.settings.uri||t+":"+("tcp"===this.type?"//"+s+(n?":"+n:""):n)}}_createCache(e){h.assert("initializing"!==this.phase,"Cannot provision server cache while server is initializing"),e=y.apply("cache",e);const t=[];for(let s of e){"function"==typeof s&&(s={provider:{constructor:s}});const e=s.name||"_default";h.assert(!this.caches.has(e),"Cannot configure the same cache more than once: ","_default"===e?"default cache":e);let n=null;if(s.provider){let e=s.provider;"function"==typeof e&&(e={constructor:e}),n=new p.Client(e.constructor,e.options||{partition:"hapi-cache"})}else n=new p.Client(s.engine);this.caches.set(e,{client:n,segments:{},shared:s.shared||!1}),t.push(n)}return t}registerServer(e){this.root||(this.root=e,this._defaultRoutes()),this.instances.add(e)}async _start(){if("initialized"!==this.phase&&"started"!==this.phase||this._validateDeps(),"started"!==this.phase){if("stopped"!==this.phase&&"initialized"!==this.phase)throw new Error("Cannot start server while it is in "+this.phase+" phase");"initialized"!==this.phase&&await this._initialize(),this.phase="starting",this.started=!0,this.info.started=Date.now();try{await this._listen()}catch(e){throw this.started=!1,this.phase="invalid",e}this.phase="started",await this.events.emit("start");try{this.controlled&&await Promise.all(this.controlled.map(e=>e.start())),await this._invoke("onPostStart")}catch(e){throw this.phase="invalid",e}}}_listen(){return new Promise((e,t)=>{if(!this.settings.autoListen)return void e();const s=e=>{t(e)};this.listener.once("error",s);const n=()=>{this.listener.removeListener("error",s),e()};if("tcp"!==this.type)this.listener.listen(this.settings.port,n);else{const e=this.settings.address||this.settings.host||"0.0.0.0";this.listener.listen(this.settings.port,e,n)}})}async _initialize(){if(this.registring)throw new Error("Cannot start server before plugins finished registration");if("initialized"!==this.phase){if("stopped"!==this.phase)throw new Error("Cannot initialize server while it is in "+this.phase+" phase");this._validateDeps(),this.phase="initializing";try{const e=[];this.caches.forEach(t=>e.push(t.client.start())),await Promise.all(e),await this._invoke("onPreStart"),this.heavy.start(),this.phase="initialized",this.controlled&&await Promise.all(this.controlled.map(e=>e.initialize()))}catch(e){throw this.phase="invalid",e}}}_validateDeps(){for(const{deps:e,plugin:t}of this.dependencies)for(const s in e){const n=e[s];h.assert(this.registrations[s],"Plugin",t,"missing dependency",s),h.assert("*"===n||g.match(this.registrations[s].version,n),"Plugin",t,"requires",s,"version",n,"but found",this.registrations[s].version)}}async _stop(e={}){if(e.timeout=e.timeout||5e3,-1===["stopped","initialized","started","invalid"].indexOf(this.phase))throw new Error("Cannot stop server while in "+this.phase+" phase");this.phase="stopping";try{await this._invoke("onPreStop"),this.started&&(this.started=!1,this.info.started=0,await this._unlisten(e));const t=[];this.caches.forEach(e=>t.push(e.client.stop())),await Promise.all(t),await this.events.emit("stop"),this.heavy.stop(),this.controlled&&await Promise.all(this.controlled.map(t=>t.stop(e))),await this._invoke("onPostStop"),this.phase="stopped"}catch(e){throw this.phase="invalid",e}}_unlisten(e){let t=null;if(this.settings.operations.cleanStop){t=setTimeout(()=>{this.sockets.forEach(e=>e.destroy()),this.sockets.clear()},e.timeout),this.sockets.forEach(e=>{e._isHapiProcessing||e.end()})}return new Promise(e=>{this.listener.close(()=>{this.settings.operations.cleanStop&&(this.listener.removeListener(this.settings.tls?"secureConnection":"connection",this.onConnection),clearTimeout(t)),this._initializeListener(),e()})})}async _invoke(e){const t=this.extensions.server[e];if(t.nodes)for(const e of t.nodes){const t=e.bind||e.realm.settings.bind;await e.func.call(t,e.server,t)}}_defaultRoutes(){this.router.special("notFound",new S({method:"_special",path:"/{p*}",handler:E.notFound},this.root,{special:!0})),this.router.special("badRequest",new S({method:"_special",path:"/{p*}",handler:E.badRequest},this.root,{special:!0})),this.settings.routes.cors&&_.handler(this.root)}_dispatch(e={}){return(t,s)=>{if(t.socket){t.socket._isHapiProcessing=!0;const e={core:this,req:t};s.on("finish",E.onFinish.bind(s,e))}const n=j.generate(this.root,t,s,e);if(this.settings.load.sampleInterval)try{this.heavy.check()}catch(e){return c.rethrow(e,"system"),this._log(["load"],this.heavy.load),void n._reply(e)}this.queue.add(n)}}_createListener(){const e=this.settings.listener||(this.settings.tls?i.createServer(this.settings.tls):n.createServer());return e.on("request",this._dispatch()),e.on("checkContinue",this._dispatch({expectContinue:!0})),e.on("clientError",(e,t)=>{this._log(["connection","client","error"],e),t.writable?t.end(E.badRequestResponse):t.destroy(e)}),e}_initializeListener(){this.listener.once("listening",()=>{if("tcp"===this.type){const e=this.listener.address();this.info.address=e.address,this.info.port=e.port,this.info.uri=this.settings.uri||this.info.protocol+"://"+this.info.host+":"+this.info.port}if(this.settings.operations.cleanStop){this.sockets=new Set;const e=this,t=function(){e.sockets.delete(this)};this.onConnection=(e=>{this.sockets.add(e),e.on("close",t)}),this.listener.on(this.settings.tls?"secureConnection":"connection",this.onConnection)}})}_cachePolicy(e,t,s){e=y.apply("cachePolicy",e);const n=s&&s.plugin,i=e.segment||t||(n?`!${n}`:"");h.assert(i,"Missing cache segment name");const a=e.cache||"_default",o=this.caches.get(a);return h.assert(o,"Unknown cache",a),h.assert(!o.segments[i]||o.shared||e.shared,"Cannot provision the same cache segment more than once"),o.segments[i]=!0,new p.Policy(e,o.client,i)}log(e,t){return this._log(e,t,"app")}_log(e,t,s="internal"){if(!this.events.hasListeners("log"))return;Array.isArray(e)||(e=[e]);const n=Date.now(),i=t instanceof Error?"error":"data";let a={timestamp:n,tags:e,[i]:t,channel:s};"function"==typeof t&&(a=(()=>({timestamp:n,tags:e,data:t(),channel:s}))),this.events.emit({name:"log",tags:e,channel:s},a)}},E.setup=function(e={}){let t=h.cloneWithShallow(e,["cache","listener","routes.bind"]);t.routes=y.enable(t.routes),void 0===(t=y.apply("server",t)).port&&(t.port=0);const s="string"==typeof t.port?"socket":"tcp";return"socket"===s&&(t.port=-1!==t.port.indexOf("/")?o.resolve(t.port):t.port.toLowerCase()),void 0===t.autoListen&&(t.autoListen=!0),h.assert(t.autoListen||!t.port,"Cannot specify port when autoListen is false"),h.assert(t.autoListen||!t.address,"Cannot specify address when autoListen is false"),{settings:t,type:s}},E.notFound=function(){throw r.notFound()},E.badRequest=function(){throw r.badRequest()},E.onFinish=function(e){const{core:t,req:s}=e;s.socket._isHapiProcessing=!1,t.started||s.socket.end()},E.Queue=class{constructor(e){this.settings=e,this.active=0,this.queue=[]}add(e){this.settings.concurrent?(this.queue.push(e),this.next()):e._execute()}next(){if(this.queue.length&&this.active<this.settings.concurrent){const e=this.queue.shift();++this.active,e._execute()}}release(){this.settings.concurrent&&(--this.active,this.next())}}},function(e,t,s){"use strict";const n=s(0),i=s(1),a=s(77),o=s(78),r={pathRegex:a.generate(),defaults:{isCaseSensitive:!0}};t.Router=r.Router=function(e){this.settings=n.applyToDefaults(r.defaults,e||{}),this.routes={},this.ids={},this.vhosts=null,this.specials={badRequest:null,notFound:null,options:null}},r.Router.prototype.add=function(e,t){const s=e.method.toLowerCase(),i=e.vhost||"*";"*"!==i&&(this.vhosts=this.vhosts||{},this.vhosts[i]=this.vhosts[i]||{});const a="*"===i?this.routes:this.vhosts[i];a[s]=a[s]||{routes:[],router:new o};const c=e.analysis||this.analyze(e.path),l={path:e.path,route:t||e.path,segments:c.segments,params:c.params,fingerprint:c.fingerprint,settings:this.settings};return a[s].router.add(c.segments,l),a[s].routes.push(l),a[s].routes.sort(r.sort),l.segments[l.segments.length-1].empty&&a[s].router.add(c.segments.slice(0,-1),l),e.id&&(n.assert(!this.ids[e.id],"Route id",e.id,"for path",e.path,"conflicts with existing path",this.ids[e.id]&&this.ids[e.id].path),this.ids[e.id]=l),l},r.Router.prototype.special=function(e,t){n.assert(-1!==Object.keys(this.specials).indexOf(e),"Unknown special route type:",e),this.specials[e]={route:t}},r.Router.prototype.route=function(e,t,s){const n=t.split("/").slice(1),a=this.vhosts&&s&&this.vhosts[s];return a&&this._lookup(t,n,a,e)||this._lookup(t,n,this.routes,e)||"head"===e&&a&&this._lookup(t,n,a,"get")||"head"===e&&this._lookup(t,n,this.routes,"get")||"options"===e&&this.specials.options||a&&this._lookup(t,n,a,"*")||this._lookup(t,n,this.routes,"*")||this.specials.notFound||i.notFound()},r.Router.prototype._lookup=function(e,t,s,n){const i=s[n];if(!i)return null;const a=i.router.lookup(e,t,this.settings);if(!a)return null;const o={},c=[];for(let e=0;e<a.array.length;++e){const t=a.record.params[e],s=r.decode(a.array[e]);if(s.isBoom)return this.specials.badRequest||s;void 0!==o[t]?o[t]=o[t]+"/"+s:o[t]=s,e+1!==a.array.length&&t===a.record.params[e+1]||c.push(o[t])}return{params:o,paramsArray:c,route:a.record.route}},r.decode=function(e){try{return decodeURIComponent(e)}catch(e){return i.badRequest("Invalid request path")}},r.Router.prototype.normalize=function(e){if(e&&-1!==e.indexOf("%")){const t=e.replace(/%[0-9a-fA-F][0-9a-fA-F]/g,e=>e.toUpperCase());e=t.replace(/%(?:2[146-9A-E]|3[\dABD]|4[\dA-F]|5[\dAF]|6[1-9A-F]|7[\dAE])/g,e=>String.fromCharCode(parseInt(e.substring(1),16)))}if(e&&(-1!==e.indexOf("/.")||"."===e[0])){const t="/"===e[0],s=e.split("/"),n=[];let i;for(let e=0;e<s.length;++e)".."===(i=s[e])?n.pop():"."!==i&&n.push(i);"."!==i&&".."!==i||n.push(""),"/"!==(e=n.join("/"))[0]&&t&&(e="/"+e)}return e},r.Router.prototype.analyze=function(e){n.assert(r.pathRegex.validatePath.test(e),"Invalid path:",e),n.assert(!r.pathRegex.validatePathEncoded.test(e),"Path cannot contain encoded non-reserved path characters:",e);const t=e.split("/"),s=[],i=[],a=[];for(let o=1;o<t.length;++o){let c=t[o];if(-1===c.indexOf("{")){c=this.settings.isCaseSensitive?c:c.toLowerCase(),a.push(c),s.push({literal:c});continue}const l=r.parseParams(c);if(1===l.length){const t=l[0];if(n.assert(-1===i.indexOf(t.name),"Cannot repeat the same parameter name:",t.name,"in:",e),i.push(t.name),t.wilcard)if(t.count)for(let e=0;e<t.count;++e)a.push("?"),s.push({}),e&&i.push(t.name);else a.push("#"),s.push({wildcard:!0});else a.push("?"),s.push({empty:t.empty})}else{const t={length:l.length,first:"string"!=typeof l[0],segments:[]};let o="",r="^";for(let s=0;s<l.length;++s){const a=l[s];"string"==typeof a?(o+=a,r+=n.escapeRegex(a),t.segments.push(a)):(n.assert(-1===i.indexOf(a.name),"Cannot repeat the same parameter name:",a.name,"in:",e),i.push(a.name),o+="?",r=r+"(."+(a.empty?"*":"+")+")")}t.mixed=new RegExp(r+"$",this.settings.isCaseSensitive?"":"i"),a.push(o),s.push(t)}}return{segments:s,fingerprint:"/"+a.join("/"),params:i}},r.parseParams=function(e){const t=[];return e.replace(r.pathRegex.parseParam,(e,s,n,i,a,o)=>(s?t.push(s):t.push({name:n,wilcard:!!i,count:a&&parseInt(a,10),empty:!!o}),"")),t},r.Router.prototype.table=function(e){const t=[],s=e=>{e&&Object.keys(e).forEach(s=>{e[s].routes.forEach(e=>{t.push(e.route)})})};if(this.vhosts){const t=e?[].concat(e):Object.keys(this.vhosts);for(let e=0;e<t.length;++e)s(this.vhosts[t[e]])}return s(this.routes),t},r.sort=function(e,t){const s=e.segments,n=t.segments;if(s.length!==n.length)return s.length>n.length?1:-1;for(let e=0;;++e){if(s[e].literal){if(n[e].literal){if(s[e].literal===n[e].literal)continue;return s[e].literal>n[e].literal?1:-1}return-1}return n[e].literal?1:s[e].wildcard?1:-1}}},function(e,t,s){"use strict";t.generate=function(){return{parseParam:new RegExp("((?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})+)|(?:\\{(\\w+)(?:(\\*)(\\d+)?)?(\\?)?\\})","g"),validatePath:new RegExp("(?:^\\/$)|(?:^(?:\\/(?:(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})+|(?:\\{\\w+(?:\\*[1-9]\\d*)?\\})|(?:(?:(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})+(?:\\{\\w+\\??\\}))+(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})*)|(?:(?:\\{\\w+\\??\\})(?:(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})+(?:\\{\\w+\\??\\}))+(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})*)|(?:(?:\\{\\w+\\??\\})(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})+)))*(?:\\/(?:\\{\\w+(?:(?:\\*(?:[1-9]\\d*)?)|(?:\\?))?\\})?)?$)"),validatePathEncoded:/%(?:2[146-9A-E]|3[\dABD]|4[\dA-F]|5[\dAF]|6[1-9A-F]|7[\dAE])/g}}},function(e,t,s){"use strict";const n=s(0),i={};e.exports=i.Segment=function(){this._edge=null,this._fulls=null,this._literals=null,this._param=null,this._mixed=null,this._wildcard=null},i.Segment.prototype.add=function(e,t){const s=e[0],a=e.slice(1),o=!a.length,r=[];let c=!0;for(let t=0;t<e.length&&c;++t)c=void 0!==e[t].literal,r.push(e[t].literal);if(c){this._fulls=this._fulls||{};let e="/"+r.join("/");t.settings.isCaseSensitive||(e=e.toLowerCase()),n.assert(!this._fulls[e],"New route",t.path,"conflicts with existing",this._fulls[e]&&this._fulls[e].record.path),this._fulls[e]={segment:s,record:t}}else if(void 0!==s.literal){this._literals=this._literals||{};const e=t.settings.isCaseSensitive?s.literal:s.literal.toLowerCase();this._literals[e]=this._literals[e]||new i.Segment,this._literals[e].add(a,t)}else if(s.wildcard)n.assert(!this._wildcard,"New route",t.path,"conflicts with existing",this._wildcard&&this._wildcard.record.path),n.assert(!this._param||!this._param._wildcard,"New route",t.path,"conflicts with existing",this._param&&this._param._wildcard&&this._param._wildcard.record.path),this._wildcard={segment:s,record:t};else if(s.mixed){this._mixed=this._mixed||[];let e=this._mixedLookup(s);e||(e={segment:s,node:new i.Segment},this._mixed.push(e),this._mixed.sort(i.mixed)),o?(n.assert(!e.node._edge,"New route",t.path,"conflicts with existing",e.node._edge&&e.node._edge.record.path),e.node._edge={segment:s,record:t}):e.node.add(a,t)}else this._param=this._param||new i.Segment,o?(n.assert(!this._param._edge,"New route",t.path,"conflicts with existing",this._param._edge&&this._param._edge.record.path),this._param._edge={segment:s,record:t}):(n.assert(!this._wildcard||!a[0].wildcard,"New route",t.path,"conflicts with existing",this._wildcard&&this._wildcard.record.path),this._param.add(a,t))},i.Segment.prototype._mixedLookup=function(e){for(let t=0;t<this._mixed.length;++t)if(0===i.mixed({segment:e},this._mixed[t]))return this._mixed[t];return null},i.mixed=function(e,t){const s=e.segment,n=t.segment;if(s.length!==n.length)return s.length>n.length?-1:1;if(s.first!==n.first)return s.first?1:-1;for(let e=0;e<s.segments.length;++e){const t=s.segments[e],i=n.segments[e];if(t!==i)return t.length===i.length?t>i?1:-1:t.length<i.length?1:-1}return 0},i.Segment.prototype.lookup=function(e,t,s){let n=null;if(this._fulls&&(n=this._fulls[s.isCaseSensitive?e:e.toLowerCase()]))return{record:n.record,array:[]};const a=t[0],o=e.slice(a.length+1),r=t.length>1?t.slice(1):null;if(this._literals){const e=s.isCaseSensitive?a:a.toLowerCase();if(n=this._literals.hasOwnProperty(e)&&this._literals[e]){const e=i.deeper(n,o,r,[],s);if(e)return e}}if(this._mixed)for(let e=0;e<this._mixed.length;++e){n=this._mixed[e];const t=a.match(n.segment.mixed);if(t){const e=[];for(let s=1;s<t.length;++s)e.push(t[s]);const a=i.deeper(n.node,o,r,e,s);if(a)return a}}if(this._param&&(a||this._param._edge&&this._param._edge.segment.empty)){const e=i.deeper(this._param,o,r,[a],s);if(e)return e}return this._wildcard?{record:this._wildcard.record,array:[e.slice(1)]}:null},i.deeper=function(e,t,s,n,i){if(s){const a=e.lookup(t,s,i);if(a)return{record:a.record,array:n.concat(a.array)}}else{if(e._edge)return{record:e._edge.record,array:n};if(e._wildcard)return{record:e._wildcard.record,array:n}}return null}},function(e,t,s){"use strict";const n=s(0),i=s(1),a={validate:Symbol("validate"),defaults:{partition:"catbox"}};e.exports=class{constructor(e,t){n.assert(e,"Missing catbox client engine"),n.assert("object"==typeof e||"function"==typeof e,"engine must be an engine object or engine prototype (function)"),n.assert("function"==typeof e||!t,"Can only specify options with function engine config");const s=Object.assign({},a.defaults,t);n.assert(s.partition.match(/^[\w\-]+$/),"Invalid partition name:"+s.partition),this.connection="object"==typeof e?e:new e(s)}async start(){await this.connection.start()}async stop(){await this.connection.stop()}isReady(){return this.connection.isReady()}validateSegmentName(e){return this.connection.validateSegmentName(e)}async get(e){if(this[a.validate](e,null),null===e)return null;const t=await this.connection.get(e);if(!t||void 0===t.item||null===t.item)return null;const s=Date.now(),n=t.stored+t.ttl-s;return n<=0?null:{item:t.item,stored:t.stored,ttl:n}}async set(e,t,s){this[a.validate](e),s<=0||await this.connection.set(e,t,s)}async drop(e){this[a.validate](e),await this.connection.drop(e)}[a.validate](e,t={}){if(!this.isReady())throw i.internal("Disconnected");if(!(e&&"string"==typeof e.id&&e.segment&&"string"==typeof e.segment)&&e!==t)throw i.internal("Invalid key")}}},function(e,t,s){"use strict";const n=s(1),i=s(0),a=s(4),o=s(81),r={day:864e5};r.schema=a.object({expiresIn:a.number().integer().min(1),expiresAt:a.string().regex(/^\d\d?\:\d\d$/),staleIn:[a.number().integer().min(1).when("expiresAt",{is:a.required(),then:a.number().max(864e5-1)}),a.func()],staleTimeout:a.number().integer().min(1),generateFunc:a.func(),generateTimeout:a.number().integer().min(1).allow(!1),generateOnReadError:a.boolean(),generateIgnoreWriteError:a.boolean(),dropOnError:a.boolean(),pendingGenerateTimeout:a.number().integer().min(1),getDecoratedValue:a.boolean().default(!1),privacy:a.any(),cache:a.any(),segment:a.any(),shared:a.any()}).without("expiresIn","expiresAt").with("staleIn","generateFunc").with("generateOnReadError","generateFunc").with("generateIgnoreWriteError","generateFunc").with("dropOnError","generateFunc").and("generateFunc","generateTimeout").and("staleIn","staleTimeout"),e.exports=r.Policy=class{constructor(e,t,s){if(this._cache=t,this._pendings=new Map,this._pendingGenerateCall=new Set,this.rules(e),this.stats={sets:0,gets:0,hits:0,stales:0,generates:0,errors:0},t){const e=t.validateSegmentName(s);i.assert(null===e,"Invalid segment name: "+s+(e?" ("+e.message+")":"")),this._segment=s}}rules(e){this.rule=r.Policy.compile(e,!!this._cache)}async get(e){++this.stats.gets;const t=e&&"object"==typeof e?e.id:e;let s=this._pendings.get(t);if(void 0!==s)return await s.join();s=new o(t,this.rule),this._pendings.set(t,s);try{await this._get(s,e)}catch(e){this._send(s,e)}return s.promise}async _get(e,t){const s={},n=new i.Bench;let a;try{a=this._cache?await this._cache.get({segment:this._segment,id:e.id}):null}catch(e){s.error=e,++this.stats.errors}if(s.msec=n.elapsed(),a){s.stored=a.stored,s.ttl=a.ttl;const e="function"==typeof this.rule.staleIn?this.rule.staleIn(a.stored,a.ttl):this.rule.staleIn;a.isStale=!!e&&Date.now()-a.stored>=e,s.isStale=a.isStale,a.isStale&&++this.stats.stales}!this.rule.generateFunc||s.error&&!this.rule.generateOnReadError?this._send(e,s.error,a?a.item:null,a,s):!a||a.isStale?await Promise.race([e.promise,this._generate(e,t,a,s)]):this._send(e,null,a.item,a,s)}async _generate(e,t,s,i){s&&(s.ttl=s.ttl-this.rule.staleTimeout),s&&s.ttl>0?e.setTimeout(()=>this._send(e,null,s.item,s,i),this.rule.staleTimeout):this.rule.generateTimeout&&e.setTimeout(()=>this._send(e,n.serverUnavailable(),null,null,i),this.rule.generateTimeout),this._pendingGenerateCall.has(e.id)||(++this.stats.generates,this.rule.pendingGenerateTimeout&&(this._pendingGenerateCall.add(e.id),setTimeout(()=>{this._pendingGenerateCall.delete(e.id)},this.rule.pendingGenerateTimeout)),await this._callGenerateFunc(e,t,s,i))}async _callGenerateFunc(e,t,s,n){const i={};try{var a=await this.rule.generateFunc(t,i)}catch(e){var o=e}let r;this._pendingGenerateCall.delete(e.id)&&(e=this._pendings.get(e.id));try{o&&this.rule.dropOnError||0===i.ttl?await this.drop(e.id):o||await this.set(e.id,a,i.ttl)}catch(e){r=e}const c=o||(this.rule.generateIgnoreWriteError?null:r);s&&c&&!this.rule.dropOnError?this._send(e,c,s.item,s,n):this._send(e,c,a,null,n)}_send(e,t,s,n,i){e.send(t,s,n,i),this._pendings.delete(e.id),i&&void 0!==i.isStale&&(this.stats.hits=this.stats.hits+e.count)}async set(e,t,s){if(++this.stats.sets,!this._cache)return;s=s||r.Policy.ttl(this.rule);const n=e&&"object"==typeof e?e.id:e;try{await this._cache.set({segment:this._segment,id:n},t,s)}catch(e){throw++this.stats.errors,e}}async drop(e){if(!this._cache)return;const t=e&&"object"==typeof e?e.id:e;try{return await this._cache.drop({segment:this._segment,id:t})}catch(e){throw++this.stats.errors,e}}ttl(e){return r.Policy.ttl(this.rule,e)}isReady(){return!!this._cache&&this._cache.connection.isReady()}static compile(e,t){const s={};if(!e||!Object.keys(e).length)return s;const n=void 0!==(e=a.attempt(e,r.schema,"Invalid cache policy configuration")).expiresIn&&null!==e.expiresIn,o=void 0!==e.expiresAt&&null!==e.expiresAt;if(i.assert(!n||!e.staleIn||"function"==typeof e.staleIn||e.staleIn<e.expiresIn,"staleIn must be less than expiresIn"),i.assert(!e.staleIn||t,"Cannot use stale options without server-side caching"),i.assert(!e.staleTimeout||!n||e.staleTimeout<e.expiresIn,"staleTimeout must be less than expiresIn"),i.assert(!e.staleTimeout||!n||"function"==typeof e.staleIn||e.staleTimeout<e.expiresIn-e.staleIn,"staleTimeout must be less than the delta between expiresIn and staleIn"),i.assert(!e.staleTimeout||!e.pendingGenerateTimeout||e.staleTimeout<e.pendingGenerateTimeout,"pendingGenerateTimeout must be greater than staleTimeout if specified"),o){const t=/^(\d\d?):(\d\d)$/.exec(e.expiresAt);s.expiresAt={hours:parseInt(t[1],10),minutes:parseInt(t[2],10)}}else s.expiresIn=e.expiresIn||0;return e.generateFunc&&(s.generateFunc=e.generateFunc,s.generateTimeout=e.generateTimeout,e.staleIn&&(s.staleIn=e.staleIn,s.staleTimeout=e.staleTimeout),s.dropOnError=void 0===e.dropOnError||e.dropOnError,s.pendingGenerateTimeout=void 0!==e.pendingGenerateTimeout?e.pendingGenerateTimeout:0),s.generateOnReadError=void 0===e.generateOnReadError||e.generateOnReadError,s.generateIgnoreWriteError=void 0===e.generateIgnoreWriteError||e.generateIgnoreWriteError,s.getDecoratedValue=e.getDecoratedValue,s}static ttl(e,t,s){const n=(s=s||Date.now())-(t=t||s);if(n<0)return 0;if(e.expiresIn)return Math.max(e.expiresIn-n,0);if(e.expiresAt){if(n>r.day)return 0;const i=new Date(t);i.setHours(e.expiresAt.hours),i.setMinutes(e.expiresAt.minutes),i.setSeconds(0),i.setMilliseconds(0);let a=i.getTime();return a<=t&&(a+=r.day),s>=a?0:a-s}return 0}}},function(e,t,s){"use strict";e.exports=class{constructor(e,t){this.id=e,this.timeoutTimer=null,this.count=1,this.rule=t,this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}join(){return++this.count,this.promise}send(e,t,s,n){clearTimeout(this.timeoutTimer),!e||s?this.rule.getDecoratedValue?(e&&(n.error=e),this.resolve({value:t,cached:s,report:n})):this.resolve(t):this.reject(e)}setTimeout(e,t){clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(e,t)}}},function(e,t,s){"use strict";const n=s(1),i=s(0),a={maxTimer:2147483647,entrySize:144,defaults:{maxByteSize:104857600,allowMixedContent:!1,minCleanupIntervalMsec:1e3,cloneBuffersOnGet:!1}};e.exports=a.Connection=class{constructor(e={}){i.assert(this.constructor===a.Connection,"Memory cache client must be instantiated using new"),i.assert(void 0===e.maxByteSize||e.maxByteSize>=0,"Invalid cache maxByteSize value"),i.assert(void 0===e.allowMixedContent||"boolean"==typeof e.allowMixedContent,"Invalid allowMixedContent value"),i.assert(void 0===e.minCleanupIntervalMsec||e.minCleanupIntervalMsec<a.maxTimer,"Invalid cache minCleanupIntervalMsec value"),i.assert(void 0===e.cloneBuffersOnGet||"boolean"==typeof e.cloneBuffersOnGet,"Invalid cloneBuffersOnGet value"),this.settings=i.applyToDefaults(a.defaults,e),this.cache=null,this._timer=null,this._timeDue=null}start(){this.cache||(this.cache=new Map,this.byteSize=0)}_scheduleCleanup(e){const t=Date.now(),s=Math.min(Math.max(this.settings.minCleanupIntervalMsec,e),a.maxTimer);if(this._timer){if(this._timeDue-t<e)return;clearTimeout(this._timer)}this._timeDue=t+s,this._timer=setTimeout(()=>{this._timer=null,this._timerDue=null;const e=Date.now();let t=1/0;for(const[,s]of this.cache)for(const[n,i]of s){const a=i.stored+i.ttl-e;a<=0?(s.delete(n),this.byteSize-=i.byteSize):t=Math.min(t,a)}t!==1/0&&this._scheduleCleanup(t)},s)}stop(){clearTimeout(this._timer),this._timer=null,this._timerDue=null,this.cache=null,this.byteSize=0}isReady(){return!!this.cache}validateSegmentName(e){if(!e)throw new n("Empty string");if(-1!==e.indexOf("\0"))throw new n("Includes null character");return null}get(e){if(!this.cache)throw new n("Connection not started");const t=this.cache.get(e.segment);if(!t)return null;const s=t.get(e.id);if(!s)return null;if(s.stored+s.ttl<Date.now())return this.drop(e),null;let i=null;if(Buffer.isBuffer(s.item)){if(i=s.item,this.settings.cloneBuffersOnGet){const e=Buffer.alloc(i.length);i.copy(e),i=e}}else try{i=JSON.parse(s.item)}catch(e){throw new n("Bad value content")}return{item:i,stored:s.stored,ttl:s.ttl}}set(e,t,s){if(!this.cache)throw new n("Connection not started");const i=new a.MemoryCacheEntry(e,t,s,this.settings.allowMixedContent);let o=this.cache.get(e.segment);o||(o=new Map,this.cache.set(e.segment,o));const r=o.get(e.id);if(r&&(this.byteSize-=r.byteSize),this.settings.maxByteSize&&this.byteSize+i.byteSize>this.settings.maxByteSize)throw new n("Cache size limit reached");this._scheduleCleanup(s),o.set(e.id,i),this.byteSize+=i.byteSize}drop(e){if(!this.cache)throw new n("Connection not started");const t=this.cache.get(e.segment);if(t){const s=t.get(e.id);s&&(this.byteSize-=s.byteSize,t.delete(e.id))}}},a.MemoryCacheEntry=class{constructor(e,t,s,n){let i=0;n&&Buffer.isBuffer(t)?(this.item=Buffer.alloc(t.length),t.copy(this.item),i=this.item.length):(this.item=JSON.stringify(t),i=Buffer.byteLength(this.item)),this.stored=Date.now(),this.ttl=s,this.byteSize=a.entrySize+i+Buffer.byteLength(e.segment)+Buffer.byteLength(e.id),this.timeoutId=null}}},function(e,t,s){"use strict";const n=s(1),i=s(0),a=s(4),o={};o.schema=a.object({sampleInterval:a.number().min(0),maxHeapUsedBytes:a.number().min(0),maxEventLoopDelay:a.number().min(0),maxRssBytes:a.number().min(0)}).unknown(),o.defaults={sampleInterval:0,maxHeapUsedBytes:0,maxRssBytes:0,maxEventLoopDelay:0},e.exports=o.Heavy=function(e){e=e||{},a.assert(e,o.schema,"Invalid load monitoring options"),this.settings=i.applyToDefaults(o.defaults,e),i.assert(this.settings.sampleInterval||!this.settings.maxEventLoopDelay&&!this.settings.maxHeapUsedBytes&&!this.settings.maxRssBytes,"Load sample interval must be set to enable load limits"),this._eventLoopTimer=null,this._loadBench=new i.Bench,this.load={eventLoopDelay:0,heapUsed:0,rss:0}},o.Heavy.prototype.start=function(){if(!this.settings.sampleInterval)return;const e=()=>{this._loadBench.reset();this._eventLoopTimer=setTimeout(()=>{const t=process.memoryUsage();this.load.eventLoopDelay=this._loadBench.elapsed()-this.settings.sampleInterval,this.load.heapUsed=t.heapUsed,this.load.rss=t.rss,e()},this.settings.sampleInterval)};e()},o.Heavy.prototype.stop=function(){clearTimeout(this._eventLoopTimer),this._eventLoopTimer=null},o.Heavy.prototype.check=function(){if(!this.settings.sampleInterval)return;i.assert(this._eventLoopTimer,"Cannot check load when sampler is not started");const e=this._loadBench.elapsed(),t=this.load;if(e>this.settings.sampleInterval&&(t.eventLoopDelay=Math.max(t.eventLoopDelay,e-this.settings.sampleInterval)),this.settings.maxEventLoopDelay&&t.eventLoopDelay>this.settings.maxEventLoopDelay)throw n.serverUnavailable("Server under heavy load (event loop)",t);if(this.settings.maxHeapUsedBytes&&t.heapUsed>this.settings.maxHeapUsedBytes)throw n.serverUnavailable("Server under heavy load (heap)",t);if(this.settings.maxRssBytes&&t.rss>this.settings.maxRssBytes)throw n.serverUnavailable("Server under heavy load (rss)",t)}},function(e,t,s){"use strict";const n=s(8),i=s(0),a=s(85),o={compressibleRx:/^text\/|\+json$|\+text$|\+xml$/,compile:function(e){const t=i.clone(a);i.merge(t,e,!0,!1);const s={byType:t,byExtension:{}},n=Object.keys(s.byType);for(let e=0;e<n.length;++e){const t=n[e],a=s.byType[t];a.type=a.type||t,a.source=a.source||"mime-db",a.extensions=a.extensions||[],a.compressible=void 0!==a.compressible?a.compressible:o.compressibleRx.test(t),i.assert(!a.predicate||"function"==typeof a.predicate,"predicate option must be a function");for(let e=0;e<a.extensions.length;++e){const t=a.extensions[e];s.byExtension[t]=a}}return s}};e.exports=class{constructor(e){const t=(e=e||{}).override?o.compile(e.override):o.base;this._byType=t.byType,this._byExtension=t.byExtension}path(e){const t=n.extname(e).slice(1).toLowerCase(),s=this._byExtension[t]||{};return s.predicate?s.predicate(i.clone(s)):s}type(e){e=e.split(";",1)[0].trim().toLowerCase();let t=this._byType[e];return t?t.predicate?t.predicate(i.clone(t)):t:(t={type:e,source:"mimos",extensions:[],compressible:o.compressibleRx.test(e)},this._byType[e]=t,t)}},o.base=o.compile()},function(e,t,s){
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */
e.exports=s(86)},function(e){e.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/cbor":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["ecma","es"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0},"application/fhir+json":{source:"iana",compressible:!0},"application/fhir+xml":{source:"iana",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mmt-usd+xml":{source:"iana",compressible:!0},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",compressible:!0},"application/msc-mixer+xml":{source:"iana",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana"},"application/n-triples":{source:"iana"},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana"},"application/news-groupinfo":{source:"iana"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana"},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana",compressible:!0},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",compressible:!0},"application/pidf-diff+xml":{source:"iana",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0},"application/route-s-tsid+xml":{source:"iana",compressible:!0},"application/route-usd+xml":{source:"iana",compressible:!0},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana"},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana",compressible:!0},"application/tve-trigger":{source:"iana"},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0},"application/urc-targetdesc+xml":{source:"iana",compressible:!0},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["keynote"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana"},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",compressible:!0},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"apache",extensions:["der","crt","pem"]},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0},"application/xcap-caps+xml":{source:"iana",compressible:!0},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana"},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana"},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tone":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/stl":{source:"iana"},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana"},"model/vnd.parasolid.transmit.binary":{source:"iana"},"model/vnd.parasolid.transmit.text":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.usdz+zip":{source:"iana",compressible:!1},"model/vnd.valve.source.compiled-map":{source:"iana"},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana"},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana"},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana",compressible:!1},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fwdred":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shex":{extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana"},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}},function(e,t,s){"use strict";const n=s(37),i=s(1),a=s(3),o=s(38),r=s(0),c=s(88),l=s(4),p={};p.schema=l.object({strictHeader:l.boolean(),ignoreErrors:l.boolean(),isSecure:l.boolean(),isHttpOnly:l.boolean(),isSameSite:l.valid("Strict","Lax").allow(!1),path:l.string().allow(null),domain:l.string().allow(null),ttl:l.number().allow(null),encoding:l.string().valid("base64json","base64","form","iron","none"),sign:l.object({password:[l.string(),l.binary(),l.object()],integrity:l.object()}),iron:l.object(),password:[l.string(),l.binary(),l.object()],clearInvalid:l.boolean(),autoValue:l.any(),passThrough:l.boolean()}),p.defaults={strictHeader:!0,ignoreErrors:!1,isSecure:!0,isHttpOnly:!0,isSameSite:"Strict",path:null,domain:null,ttl:null,encoding:"none"},t.Definitions=p.Definitions=function(e){this.settings=r.applyToDefaults(p.defaults,e||{}),l.assert(this.settings,p.schema,"Invalid state definition defaults"),this.cookies={},this.names=[]},p.Definitions.prototype.add=function(e,t){r.assert(e&&"string"==typeof e,"Invalid name"),r.assert(!this.cookies[e],"State already defined:",e);const s=r.applyToDefaults(this.settings,t||{},!0);l.assert(s,p.schema,"Invalid state definition: "+e),this.cookies[e]=s,this.names.push(e)},p.empty=new p.Definitions,p.parseRx=/\s*([^=\s]*)\s*=\s*(?:(?:"([^\"]*)")|([^\;]*))(?:(?:;\s*)|$)/g,p.validateRx={nameRx:{strict:/^[^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+$/,loose:/^[^=\s]*$/},valueRx:{strict:/^[^\x00-\x20\"\,\;\\\x7F]*$/,loose:/^(?:"([^\"]*)")|(?:[^\;]*)$/},domainRx:/^\.?[a-z\d]+(?:(?:[a-z\d]*)|(?:[a-z\d\-]*[a-z\d]))(?:\.[a-z\d]+(?:(?:[a-z\d]*)|(?:[a-z\d\-]*[a-z\d])))*$/,domainLabelLenRx:/^\.?[a-z\d\-]{1,63}(?:\.[a-z\d\-]{1,63})*$/,pathRx:/^\/[^\x00-\x1F\;]*$/},p.pairsRx=/\s*([^=\s]*)\s*=\s*([^\;]*)(?:(?:;\s*)|$)/g,p.Definitions.prototype.parse=async function(e){const t={},s=[],n=e.replace(p.parseRx,(e,n,i,a)=>{const o=n,r=i||a||"";return t[o]?(Array.isArray(t[o])||(t[o]=[t[o]]),t[o].push(r)):(t[o]=r,s.push(o)),""}),o=[];if(""!==n){if(!this.settings.ignoreErrors)throw i.badRequest("Invalid cookie header");o.push({settings:this.settings,reason:`Header contains unexpected syntax: ${n}`})}const r=[],c=(e,t,s,n)=>{const i={name:t,value:s,settings:n,reason:"string"==typeof e?e:e.message};o.push(i),n.ignoreErrors||r.push(i)},l={};for(let e=0;e<s.length;++e){const n=s[e],i=t[n],o=this.cookies[n]||this.settings;if(o.strictHeader){const e=p.validate(n,t);if(e){c(e,n,i,o);continue}}if("none"===o.encoding){l[n]=i;continue}if(!Array.isArray(i)){try{const e=await p.unsign(n,i,o),t=await p.decode(e,o);l[n]=t}catch(e){a.rethrow(e,"system"),c(e,n,i,o)}continue}const r=[];for(let e=0;e<i.length;++e){const t=i[e];try{const e=await p.unsign(n,t,o),s=await p.decode(e,o);r.push(s)}catch(e){a.rethrow(e,"system"),c(e,n,i,o)}}l[n]=r}if(r.length){const e=i.badRequest("Invalid cookie value",r);throw e.states=l,e.failed=o,e}return{states:l,failed:o}},p.validate=function(e,t){if(!e.match(p.validateRx.nameRx.strict))return"Invalid cookie name";const s=[].concat(t[e]);for(let e=0;e<s.length;++e)if(!s[e].match(p.validateRx.valueRx.strict))return"Invalid cookie value";return null},p.macPrefix="hapi.signed.cookie.1",p.unsign=async function(e,t,s){if(!s.sign)return t;const n=t.lastIndexOf(".");if(-1===n)throw i.badRequest("Missing signature separator");const a=t.slice(0,n),l=t.slice(n+1);if(!l)throw i.badRequest("Missing signature");const u=l.split("*");if(2!==u.length)throw i.badRequest("Invalid signature format");const d=u[0],h=u[1],m=r.clone(s.sign.integrity||c.defaults.integrity);m.salt=d;const f=await c.hmacWithPassword(s.sign.password,m,[p.macPrefix,e,a].join("\n"));if(!o.fixedTimeComparison(f.digest,h))throw i.badRequest("Invalid hmac value");return a},p.decode=async function(e,t){if(!e&&"form"===t.encoding)return{};if(r.assert("string"==typeof e,"Invalid string"),"iron"===t.encoding)return await c.unseal(e,t.password,t.iron||c.defaults);if("base64json"===t.encoding){const t=Buffer.from(e,"base64").toString("binary");try{return JSON.parse(t)}catch(e){throw i.badRequest("Invalid JSON payload")}}return"base64"===t.encoding?Buffer.from(e,"base64").toString("binary"):n.parse(e)},p.Definitions.prototype.format=async function(e){if(!e||Array.isArray(e)&&!e.length)return[];Array.isArray(e)||(e=[e]);const s=[];for(let n=0;n<e.length;++n){const a=e[n],o=this.cookies[a.name]||this.settings,c=a.options?r.applyToDefaults(o,a.options,!0):o;if(!(c.strictHeader?p.validateRx.nameRx.strict:p.validateRx.nameRx.loose).test(a.name))throw i.badImplementation("Invalid cookie name: "+a.name);const l=await t.prepareValue(a.name,a.value,c),u=c.strictHeader?p.validateRx.valueRx.strict:p.validateRx.valueRx.loose;if(l&&("string"!=typeof l||!l.match(u)))throw i.badImplementation("Invalid cookie value: "+a.value);let d=a.name+"="+(l||"");if(null!==c.ttl&&void 0!==c.ttl){const e=new Date(c.ttl?Date.now()+c.ttl:0);d=d+"; Max-Age="+Math.floor(c.ttl/1e3)+"; Expires="+e.toUTCString()}if(c.isSecure&&(d+="; Secure"),c.isHttpOnly&&(d+="; HttpOnly"),c.isSameSite&&(d+=`; SameSite=${c.isSameSite}`),c.domain){const e=c.domain.toLowerCase();if(!e.match(p.validateRx.domainLabelLenRx))throw i.badImplementation("Cookie domain too long: "+c.domain);if(!e.match(p.validateRx.domainRx))throw i.badImplementation("Invalid cookie domain: "+c.domain);d=d+"; Domain="+e}if(c.path){if(!c.path.match(p.validateRx.pathRx))throw i.badImplementation("Invalid cookie path: "+c.path);d=d+"; Path="+c.path}s.push(d)}return s},t.prepareValue=async function(e,t,s){r.assert(s&&"object"==typeof s,"Missing or invalid options");try{const n=await p.encode(t,s);return await p.sign(e,n,s.sign)}catch(t){throw i.badImplementation("Failed to encode cookie ("+e+") value: "+t.message)}},p.encode=function(e,t){if(void 0===e||"none"===t.encoding)return e;if("iron"===t.encoding)return c.seal(e,t.password,t.iron||c.defaults);if("base64"===t.encoding)return Buffer.from(e,"binary").toString("base64");if("base64json"===t.encoding){const t=JSON.stringify(e);return Buffer.from(t,"binary").toString("base64")}return n.stringify(e)},p.sign=async function(e,t,s){if(void 0===t||!s)return t;const n=await c.hmacWithPassword(s.password,s.integrity||c.defaults.integrity,[p.macPrefix,e,t].join("\n"));return t+"."+n.salt+"*"+n.digest},p.Definitions.prototype.passThrough=function(e,s){if(!this.names.length)return e;const n=[];for(let e=0;e<this.names.length;++e){const t=this.names[e],i=this.cookies[t];(void 0!==i.passThrough?i.passThrough:s)||n.push(t)}return t.exclude(e,n)},t.exclude=function(e,t){let s="";return""===e.replace(p.pairsRx,(e,n,i)=>(-1===t.indexOf(n)&&(s=s+(s?";":"")+n+"="+i),""))?s:i.badRequest("Invalid cookie header")}},function(e,t,s){"use strict";const n=s(10),i=s(39),a=s(1),o=s(38),r=s(0),c={};t.defaults={encryption:{saltBits:256,algorithm:"aes-256-cbc",iterations:1,minPasswordlength:32},integrity:{saltBits:256,algorithm:"sha256",iterations:1,minPasswordlength:32},ttl:0,timestampSkewSec:60,localtimeOffsetMsec:0},t.algorithms={"aes-128-ctr":{keyBits:128,ivBits:128},"aes-256-cbc":{keyBits:256,ivBits:128},sha256:{keyBits:256}},t.macFormatVersion="2",t.macPrefix="Fe26."+t.macFormatVersion,t.generateKey=async function(e,s){if(!e)throw new a("Empty password");if(!s||"object"!=typeof s)throw new a("Bad options");const n=t.algorithms[s.algorithm];if(!n)throw new a("Unknown algorithm: "+s.algorithm);const i={};if(Buffer.isBuffer(e)){if(e.length<n.keyBits/8)throw new a("Key buffer (password) too small");i.key=e,i.salt=""}else{if(e.length<s.minPasswordlength)throw new a("Password string too short (min "+s.minPasswordlength+" characters required)");let t=s.salt;if(!t){if(!s.saltBits)throw new a("Missing salt and saltBits options");t=o.randomBits(s.saltBits).toString("hex")}const r=await c.pbkdf2(e,t,s.iterations,n.keyBits/8,"sha1");i.key=r,i.salt=t}return s.iv?i.iv=s.iv:n.ivBits&&(i.iv=o.randomBits(n.ivBits)),i},t.encrypt=async function(e,s,i){const a=await t.generateKey(e,s),o=n.createCipheriv(s.algorithm,a.key,a.iv);return{encrypted:Buffer.concat([o.update(i,"utf8"),o.final()]),key:a}},t.decrypt=async function(e,s,i){const a=await t.generateKey(e,s),o=n.createDecipheriv(s.algorithm,a.key,a.iv);let r=o.update(i,null,"utf8");return r+=o.final("utf8")},t.hmacWithPassword=async function(e,s,i){const a=await t.generateKey(e,s);return{digest:n.createHmac(s.algorithm,a.key).update(i).digest("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""),salt:a.salt}},c.normalizePassword=function(e){const t={};return e instanceof Object&&!Buffer.isBuffer(e)?(t.id=e.id,t.encryption=e.secret||e.encryption,t.integrity=e.secret||e.integrity):(t.encryption=e,t.integrity=e),t},t.seal=async function(e,s,n){n=Object.assign({},n);const o=Date.now()+(n.localtimeOffsetMsec||0),r=c.stringify(e);let l="";if((s=c.normalizePassword(s)).id){if(!/^\w+$/.test(s.id))throw new a("Invalid password id");l=s.id}const{encrypted:p,key:u}=await t.encrypt(s.encryption,n.encryption,r),d=i.base64urlEncode(p),h=i.base64urlEncode(u.iv),m=n.ttl?o+n.ttl:"",f=t.macPrefix+"*"+l+"*"+u.salt+"*"+h+"*"+d+"*"+m,g=await t.hmacWithPassword(s.integrity,n.integrity,f);return f+"*"+g.salt+"*"+g.digest},t.unseal=async function(e,s,n){n=Object.assign({},n);const l=Date.now()+(n.localtimeOffsetMsec||0),p=e.split("*");if(8!==p.length)throw new a("Incorrect number of sealed components");const u=p[0],d=p[1],h=p[2],m=p[3],f=p[4],g=p[5],v=p[6],x=p[7],b=u+"*"+d+"*"+h+"*"+m+"*"+f+"*"+g;if(u!==t.macPrefix)throw new a("Wrong mac prefix");if(g){if(!g.match(/^\d+$/))throw new a("Invalid expiration");if(parseInt(g,10)<=l-1e3*n.timestampSkewSec)throw new a("Expired seal")}if(s instanceof Object&&!Buffer.isBuffer(s)&&!(s=s[d||"default"]))throw new a("Cannot find password: "+d);s=c.normalizePassword(s);const y=r.clone(n.integrity);y.salt=v;const _=await t.hmacWithPassword(s.integrity,y,b);if(!o.fixedTimeComparison(_.digest,x))throw new a("Bad hmac value");try{var w=i.base64urlDecode(f,"buffer")}catch(e){throw a.boomify(e)}const k=r.clone(n.encryption);k.salt=h;try{k.iv=i.base64urlDecode(m,"buffer")}catch(e){throw a.boomify(e)}const j=await t.decrypt(s.encryption,k,w);let S=null;try{S=JSON.parse(j)}catch(e){throw new a("Failed parsing sealed object JSON: "+e.message)}return S},c.stringify=function(e){try{return JSON.stringify(e)}catch(e){throw new a("Failed to stringify object: "+e.message)}},c.pbkdf2=function(...e){return new Promise((t,s)=>{e.push((e,n)=>{if(e)return s(a.boomify(e));t(n)}),n.pbkdf2(...e)})}},function(e,t,s){"use strict";const n=s(2),i=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];t.decode=function(e){const t=i,s=e.length,n=3*Math.ceil(s/4),a=Buffer.alloc(n);let o,r,c,l,p=0;for(let n=0;n<s;){do{o=t[255&e[n++]]}while(n<s&&-1===o);if(-1===o)break;do{r=t[255&e[n++]]}while(n<s&&-1===r);if(-1===r)break;a[p++]=o<<2|(48&r)>>4;do{if(61===(c=255&e[n++]))return a.slice(0,p);c=t[c]}while(n<s&&-1===c);if(-1===c)break;a[p++]=(15&r)<<4|(60&c)>>2;do{if(61===(l=255&e[n++]))return a.slice(0,p);l=t[l]}while(n<s&&-1===l);-1!==l&&(a[p++]=(3&c)<<6|l)}return p===n?a:a.slice(0,p)},t.Decoder=class extends n.Transform{constructor(){super(),this._reminder=null}_transform(e,s,n){let i=this._reminder?Buffer.concat([this._reminder,e]):e;const a=i.length%4;return a?(this._reminder=i.slice(i.length-a),i=i.slice(0,i.length-a)):this._reminder=null,this.push(t.decode(i)),n()}_flush(e){return this._reminder&&this.push(t.decode(this._reminder)),e()}}},function(e,t,s){"use strict";const n=s(2);t.encode=function(e){return Buffer.from(e.toString("base64"))},t.Encoder=class extends n.Transform{constructor(){super(),this._reminder=null}_transform(e,s,n){let i=this._reminder?Buffer.concat([this._reminder,e]):e;const a=i.length%3;return a?(this._reminder=i.slice(i.length-a),i=i.slice(0,i.length-a)):this._reminder=null,this.push(t.encode(i)),n()}_flush(e){return this._reminder&&this.push(t.encode(this._reminder)),e()}}},function(e,t,s){"use strict";const n=s(21),i=s(92),a=s(3),o=s(0),r={common:["gzip, deflate","deflate, gzip","gzip","deflate","gzip, deflate, br"]};e.exports=r.Compression=class{constructor(){this.encodings=["identity","gzip","deflate"],this._encoders={identity:null,gzip:e=>n.createGzip(e),deflate:e=>n.createDeflate(e)},this._decoders={gzip:e=>n.createGunzip(e),deflate:e=>n.createInflate(e)},this._updateCommons()}_updateCommons(){this._common=new Map,r.common.forEach(e=>{this._common.set(e,i.encoding(e,this.encodings))})}addEncoder(e,t){o.assert(void 0===this._encoders[e],`Cannot override existing encoder for ${e}`),o.assert("function"==typeof t,`Invalid encoder function for ${e}`),this._encoders[e]=t,this.encodings.unshift(e),this._updateCommons()}addDecoder(e,t){o.assert(void 0===this._decoders[e],`Cannot override existing decoder for ${e}`),o.assert("function"==typeof t,`Invalid decoder function for ${e}`),this._decoders[e]=t}accept(e){const t=e.headers["accept-encoding"],s=this._common.get(t);if(s)return s;try{return i.encoding(t,this.encodings)}catch(s){return a.rethrow(s,"system"),s.header=t,e._log(["accept-encoding","error"],s),"identity"}}encoding(e,t){const s=e.request;return!s._core.settings.compression||null!==t&&t<s._core.settings.compression.minBytes?null:s._core.mime.type(e.headers["content-type"]||"application/octet-stream").compressible?(e.vary("accept-encoding"),e.headers["content-encoding"]?null:"identity"===s.info.acceptEncoding?null:s.info.acceptEncoding):null}encoder(e,t){const s=this._encoders[t];return o.assert(void 0!==s,`Unknown encoding ${t}`),s(e.route.settings.compression[t])}}},function(e,t,s){"use strict";const n=s(93),i=s(94),a=s(95),o=s(96);t.charset=n.charset,t.charsets=n.charsets,t.encoding=i.encoding,t.encodings=i.encodings,t.language=a.language,t.languages=a.languages,t.mediaTypes=o.mediaTypes,t.mediaType=o.mediaType,t.parseAll=function(e){return{charsets:n.charsets(e["accept-charset"]),encodings:i.encodings(e["accept-encoding"]),languages:a.languages(e["accept-language"]),mediaTypes:o.mediaTypes(e.accept)}}},function(e,t,s){"use strict";const n=s(0),i={};t.charset=function(e,t){n.assert(!t||Array.isArray(t),"Preferences must be an array");const s=e.split(",").map(i.getParts).filter(i.removeEmpty).sort(i.compareByWeight);if(s.push({weight:.001,charset:""}),!t||0===t.length)return s.filter(i.removeDisallowed)[0].charset;t=t.map(i.lowerCase),i.removeDisallowedPreferences(s,t);const a=i.findCharsetItem(s,"*");if(-1!==a&&s[a].weight>0)return t[0];for(let e=0;e<s.length;++e)if(-1!==t.indexOf(s[e].charset.toLowerCase())&&s[e].weight>0)return s[e].charset;return""},t.charsets=function(e){return void 0===e||"string"!=typeof e?[]:(e=e.toLowerCase()).split(",").map(i.getParts).filter(i.removeEmptyAndDisallowed).sort(i.compareByWeight).map(i.partToCharset)},i.getParts=function(e){const t={weight:1,charset:""},s=e.match(i.partsRegex);if(!s)return t;if(t.charset=s[1],s[2]&&i.isNumber(s[2])){const e=parseFloat(s[2]);(0===e||e>=.001&&e<=1)&&(t.weight=e)}return t},i.partsRegex=/\s*([^;]+)(?:\s*;\s*[qQ]\=([01](?:\.\d*)?))?\s*/,i.removeEmpty=function(e){return""!==e.charset},i.removeDisallowed=function(e){return 0!==e.weight},i.removeEmptyAndDisallowed=function(e){return""!==e.charset&&0!==e.weight},i.removeDisallowedPreferences=function(e,t){for(let s=0;s<e.length;++s){let n;0===e[s].weight&&-1!==(n=t.indexOf(e[s].charset.toLowerCase()))&&t.splice(n,1)}},i.compareByWeight=function(e,t){return t.weight-e.weight},i.partToCharset=function(e){return e.charset},i.isNumber=function(e){return!isNaN(parseFloat(e))},i.lowerCase=function(e){return e.toLowerCase()},i.findCharsetItem=function(e,t){for(let s=0;s<e.length;++s)if(e[s].charset===t)return s;return-1}},function(e,t,s){"use strict";const n=s(1),i=s(0),a={};t.encoding=function(e,s){const n=t.encodings(e,s);return n.length?n[0]:""},t.encodings=function(e,t){i.assert(!t||Array.isArray(t),"Preferences must be an array");const s=a.parse(e,"encoding");return t||(t=Object.keys(s.accept)).push("*"),a.map(t,s)},a.preferenceRegex=/\s*([^;\,]+)(?:\s*;\s*[qQ]\=([01](?:\.\d{0,3})?))?\s*(?:\,|$)/g,a.equivalents={encoding:{"x-compress":"compress","x-gzip":"gzip"}},a.parse=function(e,t){const s={accept:{},reject:{},any:0};if(e){if(e.replace(a.preferenceRegex,(e,n,i)=>{n=n.toLowerCase();const o=a.equivalents[t][n]||n,r=i?parseFloat(i):1;return"*"===o?s.any=r:r>0?s.accept[o]=r:s.reject[o]=!0,""}))throw n.badRequest("Invalid accept-"+t+" header")}return s.reject.identity||s.accept.identity||(s.accept.identity=s.any||.001),s},a.map=function(e,t){const s=[];for(let n=0;n<e.length;++n){const i=e[n].toLowerCase();if(!t.reject[i]){const e=t.accept[i]||t.any;e>0&&s.push({key:i,score:e})}}s.sort(a.sort);const n=[];for(let e=0;e<s.length;++e)n.push(s[e].key);return n},a.sort=function(e,t){return t.score-e.score}},function(e,t,s){"use strict";const n=s(0),i={};t.language=function(e,s){n.assert(!s||Array.isArray(s),"Preferences must be an array");const i=t.languages(e);if(0===i.length&&i.push(""),!s||0===s.length)return i[0];if(-1!==i.indexOf("*"))return s[0];s=s.map(e=>e.toLowerCase());for(let e=0;e<i.length;++e)if(-1!==s.indexOf(i[e].toLowerCase()))return i[e];return""},t.languages=function(e){return void 0===e||"string"!=typeof e?[]:e.split(",").map(i.getParts).filter(i.removeUnwanted).sort(i.compareByWeight).map(i.partToLanguage)},i.getParts=function(e){const t={weight:1,language:""},s=e.match(i.partsRegex);if(!s)return t;if(t.language=s[1],s[2]&&i.isNumber(s[2])){const e=parseFloat(s[2]);(0===e||e>=.001&&e<=1)&&(t.weight=e)}return t},i.partsRegex=/\s*([^;]+)(?:\s*;\s*[qQ]\=([01](?:\.\d*)?))?\s*/,i.removeUnwanted=function(e){return 0!==e.weight&&""!==e.language},i.compareByWeight=function(e,t){return t.weight-e.weight},i.partToLanguage=function(e){return e.language},i.isNumber=function(e){return!isNaN(parseFloat(e))}},function(e,t,s){"use strict";const n=s(0),i={};t.mediaType=function(e,s){n.assert(!s||Array.isArray(s),"Preferences must be an array");const i=t.mediaTypes(e);if(!e)return"*/*";if(!s||0===s.length)return i[0];if(-1!==e.indexOf("*"))return s[0];s=s.map(e=>e.toLowerCase());for(let e=0;e<i.length;++e)if(-1!==s.indexOf(i[e].toLowerCase()))return i[e];return""},t.mediaTypes=function(e){return void 0===e||"string"!=typeof e?["*/*"]:e.split(",").map(i.getParts).filter(i.removeEmptyAndDisallowed).sort(i.compareByWeightAndSpecificity).map(i.partToMediaType)},i.getParts=function(e,t){const s={weight:1,mediaType:"",pos:t},n=e.match(i.partsRegex);if(!n)return s;if(s.mediaType=n[1],n[2]&&i.isNumber(n[2])){const e=parseFloat(n[2]);(0===e||e>=.001&&e<=1)&&(s.weight=e)}return s},i.partsRegex=/\s*(.+\/.+?)(?:\s*;\s*[qQ]\=([01](?:\.\d*)?))?\s*$/,i.removeEmptyAndDisallowed=function(e){return""!==e.mediaType&&0!==e.weight},i.compareByWeightAndSpecificity=function(e,t){if(e.weight!==t.weight)return t.weight-e.weight;const s=e.pos-t.pos,n=e.mediaType.split("/"),i=t.mediaType.split("/");if(n[0]!==i[0])return s;if("*"===n[1]&&"*"!==i[1])return 1;if("*"===i[1]&&"*"!==n[1])return-1;const a=n[1].includes(";");return a===i[1].includes(";")?s:a?-1:1},i.partToMediaType=function(e){return e.mediaType},i.isNumber=function(e){return!isNaN(parseFloat(e))}},function(e,t,s){"use strict";const n=s(41),i=s(19),a=s(37),o=s(2),r=s(21),c=s(1),l=s(42),p=s(0),u=s(98),d=s(101),h={decoders:{gzip:e=>r.createGunzip(e),deflate:e=>r.createInflate(e)}};t.parse=async function(e,t,s){p.assert(s,"Missing options"),p.assert(void 0!==s.parse,"Missing parse option setting"),p.assert(void 0!==s.output,"Missing output option setting");const n=e.headers["content-length"];if(void 0!==s.maxBytes&&n&&parseInt(n,10)>s.maxBytes)throw c.entityTooLarge("Payload content length greater than maximum allowed: "+s.maxBytes);const i=l.type(s.override||e.headers["content-type"]||s.defaultContentType||"application/octet-stream");try{if(s.allow&&-1===s.allow.indexOf(i.mime))throw c.unsupportedMediaType();const n={mime:i.mime};return!0===s.parse?(n.payload=await h.parse(e,t,s,i),n):(n.payload=await h.raw(e,t,s),n)}catch(e){throw e.mime=i.mime,e}},h.parse=async function(e,t,s,n){const i=s.output;let a=h.decoder(e,s);if(t&&(a=h.pipe(a,t)),"multipart/form-data"===n.mime){if(!1===s.multipart)throw c.unsupportedMediaType();return await h.multipart(e,s,a,n)}if("stream"===i)return a;if("file"===i){return(await h.writeFile(e,s,a)).item}const o=await d.read(a,{timeout:s.timeout,maxBytes:s.maxBytes});return h.object(s,o,n.mime)},h.decoder=function(e,t){const s=e.headers["content-encoding"],n=(t.decoders||h.decoders)[s];if(!n)return e;const i=n(t.compression&&t.compression[s]||null),a=i.emit;return i.emit=((e,...t)=>("error"===e&&(t=[c.badRequest("Invalid compressed payload",t[0])]),a.call(i,e,...t))),h.pipe(e,i)},h.raw=async function(e,t,s){const n=s.output;let i=e;if("gunzip"===s.parse&&(i=h.decoder(i,s)),t&&(i=h.pipe(i,t)),"stream"===n)return i;if("file"===n){return(await h.writeFile(e,s,i)).item}return await d.read(i,{timeout:s.timeout,maxBytes:s.maxBytes})},h.object=function(e,t,s){if("application/octet-stream"===s)return t.length?t:null;if(s.match(/^text\/.+$/))return t.toString("utf8");if(/^application\/(?:.+\+)?json$/.test(s)){if(!t.length)return null;try{return JSON.parse(t.toString("utf8"))}catch(e){const s=c.badRequest("Invalid request payload JSON format",e);throw s.raw=t,s}}if("application/x-www-form-urlencoded"===s){const s=e.querystring||a.parse;return t.length?s(t.toString("utf8")):{}}const n=c.unsupportedMediaType();throw n.raw=t,n},h.multipart=function(e,t,s,n){return new Promise((i,a)=>{const o=t.timeout,r=o?setTimeout(()=>a(c.clientTimeout()),o):null,l=p.applyToDefaults(n,{maxBytes:t.maxBytes}),d=new u.Dispenser(l),m=e=>a(c.badRequest("Invalid multipart payload format",e));d.once("error",m);const f={},g=[],v=(e,t)=>{f.hasOwnProperty(e)?Array.isArray(f[e])?f[e].push(t):f[e]=[f[e],t]:f[e]=t},x=t.multipart?t.multipart.output:t.output,b=s=>{"file"===x?g.push(h.writeFile(e,t,s)):h.part(s,x,v,t)};d.on("part",b);const y=(e,t)=>v(e,t);d.on("field",y);const _=()=>(async()=>{clearTimeout(r),d.removeListener("error",m),d.removeListener("part",b),d.removeListener("field",y),d.removeListener("close",_);try{const e=await Promise.all(g);for(const{item:t,name:s}of e)v(s,t)}catch(e){return void a(e)}i(f)})();d.once("close",_),s.pipe(d)})},h.writeFile=function(e,t,s){const a=new Promise((a,o)=>{const r=p.uniqueFilename(t.uploads||i.tmpdir()),l=n.createWriteStream(r,{flags:"wx"}),u=new h.Counter,d=t=>{if(e.removeListener("aborted",m),l.removeListener("close",d),l.removeListener("error",d),t)return s.unpipe(u),u.unpipe(l),l.destroy(),void n.unlink(r,()=>o(t));const i={item:{path:r,bytes:u.bytes}};s.name&&(i.name=s.name,i.item.filename=s.filename,i.item.headers=s.headers),a(i)};l.once("close",d),l.once("error",d);const m=()=>d(c.badRequest("Client connection aborted"));e.once("aborted",m),h.pipe(s,u),h.pipe(u,l)});return a.catch(p.ignore),a},h.part=async function(e,t,s,n){const i=await d.read(e);if("stream"===t){const t=d.toReadableStream(i);return t.hapi={filename:e.filename,headers:e.headers},s(e.name,t)}const a=(e.headers["content-type"]||"").split(";")[0].trim().toLowerCase(),o=n=>s(e.name,"annotated"===t?{filename:e.filename,headers:e.headers,payload:n}:n);if(!a)return o(i);if(!i.length)return o({});try{o(h.object(n,i,a))}catch(e){o(i)}},h.pipe=function(e,t){return e.once("error",s=>{e.unpipe(t),t.emit("error",s)}),e.pipe(t)},h.Counter=class extends o.Transform{constructor(){super(),this.bytes=0}_transform(e,t,s){return this.bytes=this.bytes+e.length,s(null,e)}}},function(e,t,s){"use strict";const n=s(2),i=s(39),a=s(1),o=s(42),r=s(0),c=s(99),l={state:{preamble:0,boundary:1,header:2,payload:3,epilogue:4},defaults:{maxBytes:1/0}};t.Dispenser=l.Dispenser=class extends n.Writable{constructor(e){super(),r.assert(null!==e&&"object"==typeof e,"options must be an object");const t=r.applyToDefaults(l.defaults,e);this._boundary=t.boundary,this._state=l.state.preamble,this._held="",this._stream=null,this._headers={},this._name="",this._pendingHeader="",this._error=null,this._bytes=0,this._maxBytes=t.maxBytes,this._parts=new c.Stream(Buffer.from("--"+t.boundary)),this._lines=new c.Stream(Buffer.from("\r\n")),this._parts.on("needle",()=>this._onPartEnd()),this._parts.on("haystack",e=>this._onPart(e)),this._lines.on("needle",()=>this._onLineEnd()),this._lines.on("haystack",e=>this._onLine(e)),this.once("finish",()=>this._parts.end()),this._parts.once("close",()=>this._lines.end());let s=null,n=e=>{if(s&&(s.removeListener("data",o),s.removeListener("error",n),s.removeListener("aborted",i)),e)return this._abort(e);this._emit("close")};n=r.once(n),this._lines.once("close",()=>{this._state===l.state.epilogue?this._held&&(this._emit("epilogue",this._held),this._held=""):this._state===l.state.boundary?this._held?"--"!==this._held&&this._abort(a.badRequest("Only white space allowed after boundary at end")):this._abort(a.badRequest("Missing end boundary")):this._abort(a.badRequest("Incomplete multipart payload")),setImmediate(n)});const i=()=>{n(a.badRequest("Client request aborted"))},o=e=>{this._bytes+=Buffer.byteLength(e),this._bytes>this._maxBytes&&n(a.entityTooLarge("Maximum size exceeded"))};this.once("pipe",e=>{s=e,e.on("data",o),e.once("error",n),e.once("aborted",i)})}},l.Dispenser.prototype._write=function(e,t,s){return this._error?s():(this._parts.write(e),s())},l.Dispenser.prototype._emit=function(...e){this._error||this.emit(...e)},l.Dispenser.prototype._abort=function(e){this._emit("error",e),this._error=e},l.Dispenser.prototype._onPartEnd=function(){if(this._lines.flush(),this._state===l.state.preamble){if(this._held){const e=this._held.length-1;if("\n"!==this._held[e]||"\r"!==this._held[e-1])return this._abort(a.badRequest("Preamble missing CRLF terminator"));this._emit("preamble",this._held.slice(0,-2)),this._held=""}this._parts.needle(Buffer.from("\r\n--"+this._boundary))}this._state=l.state.boundary,this._stream?(this._stream.end(),this._stream=null):this._name&&(this._emit("field",this._name,this._held),this._name="",this._held="")},l.Dispenser.prototype._onPart=function(e){this._state===l.state.preamble?this._held=this._held+e.toString():this._state===l.state.payload?this._stream?this._stream.write(e):this._held=this._held+e.toString():this._lines.write(e)},l.Dispenser.prototype._onLineEnd=function(){if(this._state===l.state.boundary)return this._held&&(this._held=this._held.replace(/[\t ]/g,""),this._held)?"--"===this._held?(this._state=l.state.epilogue,void(this._held="")):this._abort(a.badRequest("Only white space allowed after boundary")):void(this._state=l.state.header);if(this._state!==l.state.header)this._held=this._held+"\r\n";else{if(this._held)return" "===this._held[0]||"\t"===this._held[0]?this._pendingHeader?(this._pendingHeader=this._pendingHeader+" "+this._held.slice(1),void(this._held="")):this._abort(a.badRequest("Invalid header continuation without valid declaration on previous line")):(this._flushHeader(),this._pendingHeader=this._held,void(this._held=""));let e;this._flushHeader(),this._state=l.state.payload;try{e=o.disposition(this._headers["content-disposition"])}catch(e){return this._abort(e)}if(void 0!==e.filename){const t=new n.PassThrough,s=this._headers["content-transfer-encoding"];s&&"base64"===s.toLowerCase()?(this._stream=new i.Decoder,this._stream.pipe(t)):this._stream=t,t.name=e.name,t.filename=e.filename,t.headers=this._headers,this._headers={},this._emit("part",t)}else this._name=e.name;this._lines.flush()}},l.Dispenser.prototype._onLine=function(e){this._stream?this._stream.write(e):this._held=this._held+e.toString()},l.Dispenser.prototype._flushHeader=function(){if(!this._pendingHeader)return;const e=this._pendingHeader.indexOf(":");return-1===e?this._abort(a.badRequest("Invalid header missing colon separator")):e?(this._headers[this._pendingHeader.slice(0,e).toLowerCase()]=this._pendingHeader.slice(e+1).trim(),void(this._pendingHeader="")):this._abort(a.badRequest("Invalid header missing field name"))}},function(e,t,s){"use strict";const n=s(2),i=s(0),a=s(100),o={};t.compile=function(e){i.assert(e&&e.length,"Missing needle"),i.assert(Buffer.isBuffer(e),"Needle must be a buffer");const t={value:e,lastPos:e.length-1,last:e[e.length-1],length:e.length,badCharShift:Buffer.alloc(256)};for(let e=0;e<256;++e)t.badCharShift[e]=t.length;const s=t.length-1;for(let e=0;e<s;++e)t.badCharShift[t.value[e]]=s-e;return t},t.horspool=function(e,s,n){i.assert(e,"Missing haystack"),s=s.badCharShift?s:t.compile(s);for(let t=n=n||0;t<=e.length-s.length;){const n=e.readUInt8(t+s.lastPos);if(n===s.last&&o.startsWith(e,s,t))return t;t+=s.badCharShift[n]}return-1},o.startsWith=function(e,t,s){if(e.startsWith)return e.startsWith(t.value,s,t.lastPos);for(let n=0;n<t.lastPos;++n)if(t.value[n]!==e.readUInt8(s+n))return!1;return!0},t.all=function(e,s,n){s=t.compile(s);const i=[];for(let a=n=n||0;-1!==a&&a<e.length;)-1!==(a=t.horspool(e,s,a))&&(i.push(a),a+=s.length);return i},o._indexOf=function(e,t){i.assert(e,"Missing haystack");for(let s=0;s<=e.length-t.length;++s)if(e.startsWith(t.value,s))return s;return-1},t.Stream=o.Stream=class extends n.Writable{constructor(e){super(),this.needle(e),this._haystack=new a,this._indexOf=this._needle.length>2?t.horspool:o._indexOf,this.on("finish",()=>{const e=this._haystack.chunks();for(let t=0;t<e.length;++t)this.emit("haystack",e[t]);setImmediate(()=>this.emit("close"))})}needle(e){this._needle=t.compile(e)}_write(e,t,s){this._haystack.push(e);let n=this._indexOf(this._haystack,this._needle);for(-1===n&&e.length>=this._needle.length&&this._flush(this._haystack.length-e.length);-1!==n;)this._flush(n),this._haystack.shift(this._needle.length),this.emit("needle"),n=this._indexOf(this._haystack,this._needle);if(this._haystack.length){let e=this._haystack.length-this._needle.length+1;for(;e<this._haystack.length&&!this._haystack.startsWith(this._needle.value,e,this._haystack.length-e);++e);this._flush(e)}return s()}_flush(e){const t=this._haystack.shift(e);for(let e=0;e<t.length;++e)this.emit("haystack",t[e])}flush(){const e=this._haystack.shift(this._haystack.length);for(let t=0;t<e.length;++t)this.emit("haystack",e[t])}}},function(e,t,s){"use strict";const n=s(0),i={};e.exports=i.Vise=function(e){if(this.length=0,this._chunks=[],this._offset=0,e){e=[].concat(e);for(let t=0;t<e.length;++t)this.push(e[t])}},i.Vise.prototype.push=function(e){n.assert(Buffer.isBuffer(e),"Chunk must be a buffer");const t={data:e,length:e.length,offset:this.length+this._offset,index:this._chunks.length};this._chunks.push(t),this.length+=e.length},i.Vise.prototype.shift=function(e){if(!e)return[];const t=this._offset,s=this._chunkAt(e);let n=this._chunks.length;this._offset=0,s&&(n=s.chunk.index,this._offset=s.offset);const i=[];for(let e=0;e<n;++e){const s=this._chunks.shift();0===e&&t?i.push(s.data.slice(t)):i.push(s.data)}this._offset&&i.push(s.chunk.data.slice(n?0:t,this._offset)),this.length=0;for(let e=0;e<this._chunks.length;++e){const t=this._chunks[e];t.offset=this.length,t.index=e,this.length+=t.length}return this.length-=this._offset,i},i.Vise.prototype.at=i.Vise.prototype.readUInt8=function(e){const t=this._chunkAt(e);return t?t.chunk.data[t.offset]:void 0},i.Vise.prototype._chunkAt=function(e){if(e<0)return null;e+=this._offset;for(let t=0;t<this._chunks.length;++t){const s=this._chunks[t],n=e-s.offset;if(n<s.length)return{chunk:s,offset:n}}return null},i.Vise.prototype.chunks=function(){const e=[];for(let t=0;t<this._chunks.length;++t){const s=this._chunks[t];0===t&&this._offset?e.push(s.data.slice(this._offset)):e.push(s.data)}return e},i.Vise.prototype.startsWith=function(e,t,s){if((t=t||0)+(s=s?Math.min(e.length,s):e.length)>this.length)return!1;const n=this._chunkAt(t);if(!n)return!1;let i=n.chunk.index;for(let t=0;i<this._chunks.length&&t<s;++i){const a=this._chunks[i];let o=i===n.chunk.index?n.offset:0;for(;o<a.length&&t<s;++o,++t)if(a.data[o]!==e[t])return!1}return!0}},function(e,t,s){"use strict";const n=s(102),i=s(12),a=s(35),o=s(2),r=s(17),c=s(21),l=s(1),p=s(0),u=s(43),d=s(103),h=s(104),m={jsonRegex:/^application\/([a-z0-9.]*[+-]json|json)$/,shallowOptions:["agent","agents","beforeRedirect","downstreamRes","payload","redirected"],Client:function(e={}){p.assert(!e.agents||e.agents.https&&e.agents.http&&e.agents.httpsAllowUnauthorized,'Option agents must include "http", "https", and "httpsAllowUnauthorized"'),this._defaults=p.cloneWithShallow(e,m.shallowOptions),this.agents=this._defaults.agents||{https:new a.Agent({maxSockets:1/0}),http:new i.Agent({maxSockets:1/0}),httpsAllowUnauthorized:new a.Agent({maxSockets:1/0,rejectUnauthorized:!1})},e.events&&(this.events=new n.EventEmitter,this._emit=function(...e){this.events.emit(...e)})}};m.Client.prototype.defaults=function(e){return p.assert(e&&"object"==typeof e,"options must be provided to defaults"),e=p.applyToDefaultsWithShallow(this._defaults,e,m.shallowOptions),new m.Client(e)},m.resolveUrl=function(e,t){if(!t)return e;const s=r.parse(t);if(s.host&&s.protocol)return r.format(s);const n=r.parse(e);return n.pathname=n.pathname+s.pathname,n.pathname=n.pathname.replace(/[\/]{2,}/g,"/"),n.search=s.search,r.format(n)},m.Client.prototype.request=function(e,t,s={}){try{s=p.applyToDefaultsWithShallow(this._defaults,s,m.shallowOptions),p.assert(void 0===s.payload||"string"==typeof s.payload||"object"==typeof s.payload,"options.payload must be a string, a Buffer, a Stream, or an Object"),p.assert(void 0===s.agent||null===s.agent||"boolean"!=typeof s.rejectUnauthorized,"options.agent cannot be set to an Agent at the same time as options.rejectUnauthorized is set"),p.assert(void 0===s.beforeRedirect||null===s.beforeRedirect||"function"==typeof s.beforeRedirect,"options.beforeRedirect must be a function"),p.assert(void 0===s.redirected||null===s.redirected||"function"==typeof s.redirected,"options.redirected must be a function"),p.assert(void 0===s.gunzip||"boolean"==typeof s.gunzip||"force"===s.gunzip,'options.gunzip must be a boolean or "force"')}catch(e){return Promise.reject(e)}s.beforeRedirect=s.beforeRedirect||((e,t,s,n,i,a)=>a()),s.baseUrl&&(t=m.resolveUrl(s.baseUrl,t),delete s.baseUrl);const n={},i=this._request(e,t,s,n),a=new Promise((e,t)=>{n.callback=((s,n)=>{s?t(s):e(n)})});return a.req=i,a},m.Client.prototype._request=function(e,t,s,n,c){const u=r.parse(t);s.socketPath&&(u.socketPath=s.socketPath,delete s.socketPath),u.method=e.toUpperCase(),u.headers=s.headers||{};const d=void 0!==m.findHeader("content-length",u.headers);!s.payload||"object"!=typeof s.payload||s.payload instanceof o||Buffer.isBuffer(s.payload)||(s.payload=JSON.stringify(s.payload),m.findHeader("content-type",u.headers)||(u.headers["content-type"]="application/json")),s.gunzip&&void 0===m.findHeader("accept-encoding",u.headers)&&(u.headers["accept-encoding"]="gzip");const f="GET"!==u.method&&"HEAD"!==u.method&&null!==s.payload&&void 0!==s.payload;!f||"string"!=typeof s.payload&&!Buffer.isBuffer(s.payload)||d||(u.headers=p.clone(u.headers),u.headers["content-length"]=Buffer.isBuffer(s.payload)?s.payload.length:Buffer.byteLength(s.payload));let g=!!s.hasOwnProperty("redirects")&&s.redirects;(c=c||[]).push({method:u.method,url:t});const v="https:"===u.protocol?a:i;void 0!==s.rejectUnauthorized&&"https:"===u.protocol?u.agent=s.rejectUnauthorized?this.agents.https:this.agents.httpsAllowUnauthorized:s.agent||!1===s.agent?u.agent=s.agent:u.agent="https:"===u.protocol?this.agents.https:this.agents.http,void 0!==s.secureProtocol&&(u.secureProtocol=s.secureProtocol),void 0!==s.ciphers&&(u.ciphers=s.ciphers),this._emit&&this._emit("request",u,s);const x=Date.now(),b=v.request(u);let y,_=null;const w=e=>(e.trace=c,j(l.badGateway("Client request error",e)));b.once("error",w);const k=e=>{const t=e.statusCode,n=m.redirectMethod(t,u.method,s);if(!1===g||!n)return j(null,e);if(e.destroy(),0===g)return j(l.badGateway("Maximum redirections reached",c));let i=e.headers.location;if(!i)return j(l.badGateway("Received redirection without location",c));/^https?:/i.test(i)||(i=r.resolve(u.href,i));const a=p.cloneWithShallow(s,m.shallowOptions);return a.payload=_||s.payload,a.redirects=--g,s.beforeRedirect(n,t,i,e.headers,a,()=>{const e=this._request(n,i,a,{callback:j},c);s.redirected&&s.redirected(t,i,e)})},j=p.once((e,t)=>(e&&b.abort(),b.removeListener("response",k),b.removeListener("error",w),b.on("error",p.ignore),clearTimeout(y),this._emit&&this._emit("response",e,{req:b,res:t,start:x,uri:u}),n.callback(e,t)));b.once("response",k),s.timeout&&(y=setTimeout(()=>j(l.gatewayTimeout("Client request timeout")),s.timeout),delete s.timeout);const S=b.abort;let C=!1;if(b.abort=(()=>(C||b.res||b.socket||process.nextTick(()=>{const e=new Error("socket hang up");e.code="ECONNRESET",j(e)}),C=!0,S.call(b))),f){if(s.payload instanceof o){let e=s.payload;if(g){const t=new h;t.once("finish",()=>{_=t.collect()}),e=s.payload.pipe(t)}return m.deferPipeUntilSocketConnects(b,e),b}b.write(s.payload)}return b.end(),b},m.deferPipeUntilSocketConnects=function(e,t){const s=()=>{t.pipe(e),t.removeListener("error",n)},n=t=>{e.emit("error",t)};e.once("socket",e=>{if(!e.connecting)return s();e.once("connect",s)}),t.on("error",n)},m.redirectMethod=function(e,t,s){switch(e){case 301:case 302:return t;case 303:if(s.redirect303)return"GET";break;case 307:case 308:return t}return null},m.Client.prototype.read=function(e,t={}){return new Promise((s,n)=>{this._read(e,t,(e,t)=>{e?n(e):s(t)})})},m.Client.prototype._read=function(e,t,s){t=p.applyToDefaultsWithShallow(this._defaults,t,m.shallowOptions);let n=null;const i=p.once((i,a)=>{if(clearTimeout(n),u.removeListener("error",h),u.removeListener("finish",f),e.removeListener("error",o),e.removeListener("close",r),e.removeListener("aborted",r),e.on("error",p.ignore),i)return s(i);if(!t.json)return s(null,a);if(0===a.length)return s(null,null);if("force"===t.json)return m.tryParseBuffer(a,s);const c=(e.headers&&m.findHeader("content-type",e.headers)||"").split(";")[0].trim().toLowerCase();return m.jsonRegex.test(c)?m.tryParseBuffer(a,s):"strict"===t.json?s(l.notAcceptable("The content-type is not JSON compatible")):s(null,a)}),a=t.timeout;a&&a>0&&(n=setTimeout(()=>{i(l.clientTimeout())},a));const o=e=>i(e.isBoom?e:l.internal("Payload stream error",e)),r=()=>{if(!e.complete)return i(l.internal("Payload stream closed prematurely"))};e.once("error",o),e.once("close",r),e.once("aborted",r);const u=new d({maxBytes:t.maxBytes}),h=t=>(e.destroy&&e.destroy(),i(t));u.once("error",h);const f=()=>i(null,u.collect());if(u.once("finish",f),t.gunzip){const s="force"===t.gunzip?"gzip":e.headers&&m.findHeader("content-encoding",e.headers)||"";if(/^(x-)?gzip(\s*,\s*identity)?$/.test(s)){const t=c.createGunzip();return t.once("error",h),void e.pipe(t).pipe(u)}}e.pipe(u)},m.Client.prototype.toReadableStream=function(e,t){return new u(e,t)},m.Client.prototype.parseCacheControl=function(e){const t={},s=e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,s,n,i)=>{const a=n||i;return t[s]=!a||a.toLowerCase(),""});if(t["max-age"])try{const e=parseInt(t["max-age"],10);if(isNaN(e))return null;t["max-age"]=e}catch(e){}return s?null:t},m.Client.prototype.get=function(e,t){return this._shortcut("GET",e,t)},m.Client.prototype.post=function(e,t){return this._shortcut("POST",e,t)},m.Client.prototype.patch=function(e,t){return this._shortcut("PATCH",e,t)},m.Client.prototype.put=function(e,t){return this._shortcut("PUT",e,t)},m.Client.prototype.delete=function(e,t){return this._shortcut("DELETE",e,t)},m.Client.prototype._shortcut=async function(e,t,s={}){const n=await this.request(e,t,s);let i;try{i=await this.read(n,s)}catch(e){throw e.data=e.data||{},e.data.res=n,e}if(n.statusCode<400)return{res:n,payload:i};const a={isResponseError:!0,headers:n.headers,res:n,payload:i};throw new l(`Response Error: ${n.statusCode} ${n.statusMessage}`,{statusCode:n.statusCode,data:a})},m.tryParseBuffer=function(e,t){let s;try{s=JSON.parse(e.toString())}catch(s){return t(l.badGateway(s.message,{payload:e}))}return t(null,s)},m.findHeader=function(e,t){const s=Object.keys(t).find(t=>t.toLowerCase()===e.toLowerCase());return s&&t[s]},e.exports=new m.Client},function(e,t){e.exports=require("events")},function(e,t,s){"use strict";const n=s(2),i=s(1);e.exports={}.Recorder=class extends n.Writable{constructor(e){super(),this.settings=e,this.buffers=[],this.length=0}_write(e,t,s){if(this.settings.maxBytes&&this.length+e.length>this.settings.maxBytes)return this.emit("error",i.entityTooLarge("Payload content length greater than maximum allowed: "+this.settings.maxBytes));this.length=this.length+e.length,this.buffers.push(e),s()}collect(){return 0===this.buffers.length?Buffer.alloc(0):1===this.buffers.length?this.buffers[0]:Buffer.concat(this.buffers,this.length)}}},function(e,t,s){"use strict";const n=s(2),i=s(43);e.exports={}.Tap=class extends n.Transform{constructor(){super(),this.buffers=[]}_transform(e,t,s){this.buffers.push(e),s(null,e)}collect(){return new i(this.buffers)}}},function(e,t,s){"use strict";const n=s(0),i={};t.execute=async function(e){if(e._route._prerequisites)for(const t of e._route._prerequisites){const s=[];for(const n of t)s.push(i.handler(e,n.method,n));const n=await Promise.all(s);for(const e of n)if(void 0!==e)return e}const t=await i.handler(e,e.route.settings.handler);if(t._takeover||"symbol"==typeof t)return t;e._setResponse(t)},i.handler=async function(e,t,s){const n=e.route.settings.bind,i=e.route.realm;let a=await e._core.toolkit.execute(t,e,{bind:n,realm:i,continue:"null"});if(!s){if(a.isBoom)throw e._log(["handler","error"],a),a;return a}return a.isBoom&&(a.assign=s.assign,a=await e._core.toolkit.failAction(e,s.failAction,a,{tags:["pre","error"],retain:!0})),"symbol"==typeof a?a:(s.assign&&(e.pre[s.assign]=a.isBoom?a:a.source,e.preResponses[s.assign]=a),a._takeover?a:void 0)},t.defaults=function(e,t,s){let i=null;if("object"==typeof t){const a=Object.keys(t)[0],o=s._decorations.handler[a];n.assert(o,"Unknown handler:",a),o.defaults&&(i="function"==typeof o.defaults?o.defaults(e):o.defaults)}return i||{}},t.configure=function(e,t){if("object"==typeof e){const s=Object.keys(e)[0],i=t._core._decorations.handler[s];return n.assert(i,"Unknown handler:",s),i(t.public,e[s])}return e},t.prerequisitesConfig=function(e){if(!e)return null;const t=[];for(let s of e){s=[].concat(s);const e=[];for(let t of s){"object"!=typeof t&&(t={method:t});const s={method:t.method,assign:t.assign,failAction:t.failAction||"error"};e.push(s)}t.push(e)}return t.length?t:null}},function(e,t,s){"use strict";const n=s(2),i=s(1),a=s(14),o={};t.cache=function(e){const t=e.response;if(t.headers["cache-control"])return;const s=e.route.settings.cache;if(s&&e._route._cache&&(s._statuses.has(t.statusCode)||304===t.statusCode&&s._statuses.has(200))||t.settings.ttl){const n=null!==t.settings.ttl?t.settings.ttl:e._route._cache.ttl(),i=e.auth.isAuthenticated||t.headers["set-cookie"]?"private":s.privacy||"default";t._header("cache-control","max-age="+Math.floor(n/1e3)+", must-revalidate"+("default"!==i?", "+i:""))}else s&&t._header("cache-control",s.otherwise)},t.content=async function(e){const s=e.response;s._isPayloadSupported()||"head"===e.method?(await s._marshal(),e.jsonp&&s._payload.jsonp&&(s._header("content-type","text/javascript"+(s.settings.charset?"; charset="+s.settings.charset:"")),s._header("x-content-type-options","nosniff"),s._payload.jsonp(e.jsonp)),s._payload.size&&"function"==typeof s._payload.size&&s._header("content-length",s._payload.size(),{override:!1}),s._isPayloadSupported()||(s._close(e),s._payload=new o.Empty),t.type(e,!0)):(s._close(e),s._payload=new o.Empty,delete s.headers["content-length"])},t.state=async function(e){const t=e.response,s=[];for(const t in e._states)s.push(e._states[t]);try{for(const t in e._core.states.cookies){const n=e._core.states.cookies[t].autoValue;if(!n||t in e._states||t in e.state)continue;if("function"!=typeof n){s.push({name:t,value:n});continue}const i=await n(e);s.push({name:t,value:i})}if(!s.length)return;let n=await e._core.states.format(s);const a=t.headers["set-cookie"];a&&(n=(Array.isArray(a)?a:[a]).concat(n)),t._header("set-cookie",n)}catch(t){const s=i.boomify(t);throw e._log(["state","response","error"],s),e._states={},s}},t.type=function(e,t){const s=e.response;let n=s.headers["content-type"];if(n){if(n=n.trim(),(!s._contentType||!t)&&s.settings.charset&&n.match(/^(?:text\/)|(?:application\/(?:json)|(?:javascript))/)&&!n.match(/; *charset=/)){const e=";"===n[n.length-1];s.type(n+(e?" ":"; ")+"charset="+s.settings.charset)}}else if(s._contentType){const e=s.settings.charset&&"application/octet-stream"!==s._contentType?"; charset="+s.settings.charset:"";s.type(s._contentType+e)}},t.entity=function(e){if(!e._entity)return;const t=e.response;e._entity.etag&&!t.headers.etag&&t.etag(e._entity.etag,{vary:e._entity.vary}),e._entity.modified&&!t.headers["last-modified"]&&t.header("last-modified",e._entity.modified)},t.unmodified=function(e){const t=e.response;if(304===t.statusCode)return;const s={etag:t.headers.etag,vary:t.settings.varyEtag,modified:t.headers["last-modified"]};a.unmodified(e,s)&&t.code(304)},o.Empty=class extends n.Readable{_read(){this.push(null)}writeToStream(e){e.end()}}},function(e,t,s){"use strict";t.route=function(e){if(!e)return null;const t=e;return t.hsts&&(!0===t.hsts?t._hsts="max-age=15768000":"number"==typeof t.hsts?t._hsts="max-age="+t.hsts:(t._hsts="max-age="+(t.hsts.maxAge||15768e3),(t.hsts.includeSubdomains||t.hsts.includeSubDomains)&&(t._hsts=t._hsts+"; includeSubDomains"),t.hsts.preload&&(t._hsts=t._hsts+"; preload"))),t.xframe&&(!0===t.xframe?t._xframe="DENY":"string"==typeof t.xframe?t._xframe=t.xframe.toUpperCase():"allow-from"===t.xframe.rule?t.xframe.source?t._xframe="ALLOW-FROM "+t.xframe.source:t._xframe="SAMEORIGIN":t._xframe=t.xframe.rule.toUpperCase()),t},t.headers=function(e){const t=e.response,s=t.request.route.settings.security;s._hsts&&t._header("strict-transport-security",s._hsts,{override:!1}),s._xframe&&t._header("x-frame-options",s._xframe,{override:!1}),s.xss&&t._header("x-xss-protection","1; mode=block",{override:!1}),s.noOpen&&t._header("x-download-options","noopen",{override:!1}),s.noSniff&&t._header("x-content-type-options","nosniff",{override:!1}),!1!==s.referrer&&t._header("referrer-policy",s.referrer,{override:!1})}},function(e,t,s){"use strict";const n=s(1),i=s(0),a=s(4),o={};t.compile=function(e){return!1===e?a.object({}).allow(null):"function"==typeof e?e:e&&!0!==e?a.compile(e):null},t.headers=function(e){return o.input("headers",e)},t.params=function(e){return o.input("params",e)},t.payload=function(e){if("get"!==e.method&&"head"!==e.method)return o.input("payload",e)},t.query=function(e){return o.input("query",e)},t.state=function(e){return o.input("state",e)},o.input=async function(e,t){const s={context:{headers:t.headers,params:t.params,query:t.query,payload:t.payload,state:t.state,auth:t.auth,app:{route:t.route.settings.app,request:t.app}}};delete s.context[e],i.merge(s,t.route.settings.validate.options);try{const n=t.route.settings.validate[e],i=t.route.settings.bind;var o=await("function"!=typeof n?a.validate(t[e],n,s):n.call(i,t[e],s));return}catch(e){var r=e}finally{t.orig[e]=t[e],void 0!==o&&(t[e]=o)}if("ignore"===t.route.settings.validate.failAction)return;const c=r.isBoom?r:n.badRequest(`Invalid request ${e} input`),l=n.boomify(r,{statusCode:400,override:!1});if(l.output.payload.validation={source:e,keys:[]},r.details)for(const e of r.details){const t=e.path;l.output.payload.validation.keys.push(i.escapeHtml(t.join(".")))}if(t.route.settings.validate.errorFields)for(const e in t.route.settings.validate.errorFields)l.output.payload[e]=t.route.settings.validate.errorFields[e];return t._core.toolkit.failAction(t,t.route.settings.validate.failAction,c,{details:l,tags:["validation","error",e]})},t.response=async function(e){if(e.route.settings.response.sample){if(Math.ceil(100*Math.random())>e.route.settings.response.sample)return}const t=e.response,s=t.isBoom?t.output.statusCode:t.statusCode,o=e.route.settings.response.status[s];if(s>=400&&!o)return;const r=void 0!==o?o:e.route.settings.response.schema;if(null===r)return;if(!t.isBoom&&"plain"!==e.response.variety)throw n.badImplementation("Cannot validate non-object response");const c={context:{headers:e.headers,params:e.params,query:e.query,payload:e.payload,state:e.state,auth:e.auth,app:{route:e.route.settings.app,request:e.app}}},l=t.isBoom?t.output.payload:t.source;i.merge(c,e.route.settings.response.options);try{let s;void 0!==(s="function"!=typeof r?await a.validate(l,r,c):await r(l,c))&&e.route.settings.response.modify&&(t.isBoom?t.output.payload=s:t.source=s)}catch(t){return e._core.toolkit.failAction(e,e.route.settings.response.failAction,t,{tags:["validation","response","error"]})}}},function(e,t,s){"use strict";const n=s(1),i=s(0),a=s(7),o={methodNameRx:/^[_$a-zA-Z][$\w]*(?:\.[_$a-zA-Z][$\w]*)*$/};e.exports=o.Methods=class{constructor(e){this.core=e,this.methods={}}add(e,t,s,n){if("object"!=typeof e)return this._add(e,t,s,n);const i=[].concat(e);for(let e of i)e=a.apply("methodObject",e),this._add(e.name,e.method,e.options||{},n)}_add(e,t,s,r){i.assert("function"==typeof t,"method must be a function"),i.assert("string"==typeof e,"name must be a string"),i.assert(e.match(o.methodNameRx),"Invalid name:",e),i.assert(!i.reach(this.methods,e,{functions:!1}),"Server method function name already exists:",e),s=a.apply("method",s,e);const c=i.cloneWithShallow(s,["bind"]);c.generateKey=c.generateKey||o.generateKey;const l=c.bind||r.settings.bind||null,p=l?(...e)=>t.apply(l,e):t;if(!c.cache)return this._assign(e,p);i.assert(!c.cache.generateFunc,"Cannot set generateFunc with method caching:",e),i.assert(void 0!==c.cache.generateTimeout,"Method caching requires a timeout value in generateTimeout:",e),c.cache.generateFunc=((e,t)=>p(...e.args,t));const u=this.core._cachePolicy(c.cache,"#"+e),d=function(...t){const s=c.generateKey.apply(l,t);return"string"!=typeof s?Promise.reject(n.badImplementation("Invalid method key when invoking: "+e,{name:e,args:t})):u.get({id:s,args:t})};d.cache={drop:function(...t){const s=c.generateKey.apply(l,t);return"string"!=typeof s?Promise.reject(n.badImplementation("Invalid method key when invoking: "+e,{name:e,args:t})):u.drop(s)},stats:u.stats},this._assign(e,d,d)}_assign(e,t){const s=e.split(".");let n=this.methods;for(let e=0;e<s.length;++e)n[s[e]]||(n[s[e]]=e+1===s.length?t:{}),n=n[s[e]]}},o.supportedArgs=["string","number","boolean"],o.generateKey=function(...e){let t="";for(let s=0;s<e.length;++s){const n=e[s];if(!o.supportedArgs.includes(typeof n))return null;t=t+(s?":":"")+encodeURIComponent(n.toString())}return t}},function(e,t,s){"use strict";const n=s(12),i=s(47),a=s(1),o=s(3),r=s(0),c=s(33),l=s(45),p=s(7),u=s(14),d={};t.send=async function(e){const t=e.response;if(t.isBoom)return d.fail(e,t);try{await d.marshal(e),await d.transmit(t)}catch(t){return o.rethrow(t,"system"),e._setResponse(t),d.fail(e,t)}},d.marshal=async function(e){for(const t of e._route._marshalCycle)await t(e)},d.fail=async function(e,t){const s=d.error(t,e);e.response=s;try{await d.marshal(e)}catch(e){o.rethrow(e,"system");const i={statusCode:s.statusCode,error:n.STATUS_CODES[s.statusCode],message:t.message};s._payload=new u.Payload(JSON.stringify(i),{})}return d.transmit(s)},d.error=function(e,t){const s=e.output,n=new u(s.payload,t);return n._error=e,n.code(s.statusCode),n.headers=r.clone(s.headers),n},d.transmit=function(e){const t=e.request,s=d.length(e),n=t._core.compression.encoding(e,s),i=n?null:d.range(e,s),a=d.encoding(e,n),o=c.isInjection(t.raw.req);(!o&&!t._core.started||t._isPayloadPending&&!t.raw.req._readableState.ended)&&e._header("connection","close"),d.writeHead(e),o&&(t.raw.res[p.symbol]={request:t},"plain"===e.variety&&(t.raw.res[p.symbol].result=e._isPayloadSupported()?e.source:null));const r=d.chain([e._payload,e._tap(),a,i]);return d.pipe(t,r)},d.length=function(e){const t=e.request,s=e.headers["content-length"];if(void 0===s)return null;let n=s;return"string"!=typeof n||(n=parseInt(s,10),isFinite(n))?(0!==n||e._statusCode||200!==e.statusCode||204!==t.route.settings.response.emptyStatusCode||(e.code(204),delete e.headers["content-length"]),n):(delete e.headers["content-length"],null)},d.range=function(e,t){const s=e.request;if(!t||!s.route.settings.response.ranges||"get"!==s.method||200!==e.statusCode)return null;if(e._header("accept-ranges","bytes"),!s.headers.range)return null;if(s.headers["if-range"]&&s.headers["if-range"]!==e.headers.etag)return null;const n=i.header(s.headers.range,t);if(!n){const e=a.rangeNotSatisfiable();throw e.output.headers["content-range"]="bytes */"+t,e}if(1!==n.length)return null;const o=n[0];return e.code(206),e.bytes(o.to-o.from+1),e._header("content-range","bytes "+o.from+"-"+o.to+"/"+t),new i.Stream(o)},d.encoding=function(e,t){const s=e.request,n=e.headers["content-encoding"]||t;if(n&&e.headers.etag&&e.settings.varyEtag&&(e.headers.etag=e.headers.etag.slice(0,-1)+"-"+n+'"'),!t||206===e.statusCode||!e._isPayloadSupported())return null;delete e.headers["content-length"],e._header("content-encoding",t);const i=s._core.compression.encoder(s,t);return"stream"===e.variety&&"function"==typeof e._payload.setCompressor&&e._payload.setCompressor(i),i},d.pipe=function(e,t){const s=new l,n={stream:t,request:e,team:s},i=d.end.bind(null,n,"aborted"),a=d.end.bind(null,n,"close"),o=d.end.bind(null,n,null);return e.raw.req.on("aborted",i),e.raw.req.on("close",a),e.raw.res.on("close",a),e.raw.res.on("error",o),e.raw.res.on("finish",o),t.writeToStream?t.writeToStream(e.raw.res):(t.on("error",o),t.pipe(e.raw.res)),s.work},d.end=function(e,t,s){const{request:n,stream:i,team:o}=e;if(!o)return;if(e.team=null,n.raw.res.finished)return"aborted"!==t&&(n.info.responded=Date.now()),void o.attend();s&&(n.raw.res.destroy(),u.drain(i)),s=s||new a(`Request ${t}`,{statusCode:n.route.settings.response.disconnectStatusCode});const r=d.error(a.boomify(s),n);n._setResponse(r),n.raw.res[p.symbol]&&(n.raw.res.statusCode=r.statusCode,n.raw.res[p.symbol].result=r.source),t?n._log(["response","error",t]):n._log(["response","error"],s),n.raw.res.end(),o.attend()},d.writeHead=function(e){const t=e.request.raw.res,s=Object.keys(e.headers);let n=0;try{for(;n<s.length;++n){const i=s[n],a=e.headers[i];void 0!==a&&t.setHeader(i,a)}}catch(e){for(--n;n>=0;--n)t.removeHeader(s[n]);throw a.boomify(e)}e.settings.message&&(t.statusMessage=e.settings.message);try{t.writeHead(e.statusCode)}catch(e){throw a.boomify(e)}},d.chain=function(e){let t=e[0];for(let s=1;s<e.length;++s){const n=e[s];n&&(t.on("error",d.errorPipe.bind(t,n)),t=t.pipe(n))}return t},d.errorPipe=function(e,t){e.emit("error",t)}},function(e,t,s){"use strict";const n=s(1),i=s(3),a=s(0),o=s(14),r={reserved:["abandon","authenticated","close","context","continue","entity","redirect","realm","request","response","state","unauthenticated","unstate"]};e.exports=r.Manager=class{constructor(){this.abandon=Symbol("abandon"),this.close=Symbol("close"),this.continue=Symbol("continue"),this.reserved=r.reserved}async execute(e,t,s){const a=new r.Toolkit(t,this,s),c=s.bind||null;try{var l=await(s.args?e.call(c,t,a,...s.args):e.call(c,t,a))}catch(e){l=i.isSystem(e)?n.badImplementation(e):i.isError(e)?n.boomify(e):n.badImplementation("Cannot throw non-error object",e)}if(void 0===l&&(l=n.badImplementation(`${e.name} method did not return a value, a promise, or throw an error`)),s.continue&&l===this.continue){if("undefined"===s.continue)return;l=null}return s.auth&&l instanceof r.Auth?l:("symbol"!=typeof l&&((l=o.wrap(l,t)).isBoom||(l=await l._prepare())),l)}failAction(e,t,s,n){const i=n.retain?s:void 0;if("ignore"===t)return i;if("log"===t)return e._log(n.tags,s),i;if("error"===t)throw s;return this.execute(t,e,{realm:e.route.realm,args:[n.details||s]})}},r.Toolkit=class{constructor(e,t,s){this.abandon=t.abandon,this.close=t.close,this.continue=t.continue,this.context=s.bind,this.realm=s.realm,this.request=e,s.auth&&(this.authenticated=r.authenticated,this.unauthenticated=r.unauthenticated);for(const t of e._core.decorations.toolkit)this[t]=e._core._decorations.toolkit[t]}response(e){return a.assert(!e||"object"!=typeof e||"function"!=typeof e.then,"Cannot wrap a promise"),a.assert(e instanceof Error==!1,"Cannot wrap an error"),a.assert("symbol"!=typeof e,"Cannot wrap a symbol"),o.wrap(e,this.request)}redirect(e){return this.response("").redirect(e)}entity(e){a.assert(e,"Entity method missing required options"),a.assert(e.etag||e.modified,"Entity methods missing required options key"),this.request._entity=e;const t=o.entity(e.etag,e);if(o.unmodified(this.request,t))return this.response().code(304).takeover()}state(e,t,s){this.request._setState(e,t,s)}unstate(e,t){this.request._clearState(e,t)}},r.authenticated=function(e){return a.assert(e&&e.credentials,"Authentication data missing credentials information"),new r.Auth(null,e)},r.unauthenticated=function(e,t){return a.assert(!t||t.credentials,"Authentication data missing credentials information"),new r.Auth(e,t)},r.Auth=class{constructor(e,t){this.isAuth=!0,this.error=e,this.data=t}}},function(e){e.exports={name:"hapi",description:"HTTP Server framework",homepage:"https://hapijs.com",version:"18.0.0",repository:{type:"git",url:"git://github.com/hapijs/hapi"},main:"lib/index.js",keywords:["framework","http","api","web"],dependencies:{accept:"3.x.x",ammo:"3.x.x",boom:"7.x.x",bounce:"1.x.x",call:"5.x.x",catbox:"10.x.x","catbox-memory":"4.x.x",heavy:"6.x.x",hoek:"6.x.x",joi:"14.x.x",mimos:"4.x.x",podium:"3.x.x",shot:"4.x.x",somever:"2.x.x",statehood:"6.x.x",subtext:"6.x.x",teamwork:"3.x.x",topo:"3.x.x"},devDependencies:{code:"5.x.x",handlebars:"4.x.x",inert:"5.x.x",lab:"18.x.x",vision:"5.x.x",wreck:"14.x.x"},scripts:{test:"lab -a code -t 100 -L -m 3000","test-tap":"lab -a code -r tap -o tests.tap -m 3000","test-cov-html":"lab -a code -r html -o coverage.html -m 3000"},license:"BSD-3-Clause"}},function(e,t,s){"use strict";const n=s(0),i=s(4),a=s(114),o=s(49),r=s(48),c={schema:i.object({etagsCacheMaxSize:i.number().integer().min(0).default(1e3)}).required(),fileMethod:function(e,t){return void 0!==(t=t||{}).confine&&!0!==t.confine||(t.confine="."),n.assert(void 0===t.end||+t.start<=+t.end,"options.start must be less than or equal to options.end"),this.response(r.response(e,t,this.request))}};t.plugin={pkg:s(119),once:!0,requirements:{hapi:">=17.7.0"},register(e,t){n.assert(0===Object.keys(t).length,"Inert does not support registration options");const s=i.attempt(n.reach(e.settings.plugins,"inert")||{},c.schema,'Invalid "inert" server options');e.expose("_etags",s.etagsCacheMaxSize>0?new o.Cache(s.etagsCacheMaxSize):null),e.decorate("handler","file",r.handler),e.decorate("handler","directory",a.handler),e.decorate("toolkit","file",c.fileMethod)}}},function(e,t,s){"use strict";const n=s(8),i=s(1),a=s(3),o=s(0),r=s(4),c=s(48),l=s(50),p={};p.schema=r.object({path:r.alternatives(r.array().items(r.string()).single(),r.func()).required(),index:r.alternatives(r.boolean(),r.array().items(r.string()).single()).default(!0),listing:r.boolean(),showHidden:r.boolean(),redirectToSlash:r.boolean(),lookupCompressed:r.boolean(),lookupMap:r.object().min(1).pattern(/.+/,r.string()),etagMethod:r.string().valid("hash","simple").allow(!1),defaultExtension:r.string().alphanum()}),p.normalizePaths=function(e,t){return t.map(t=>n.isAbsolute(t)?t:n.join(e,t))},p.resolvePathOption=function(e,t){if(t instanceof Error)throw t;let s;if("string"==typeof t)s=[t];else{if(!Array.isArray(t))throw i.internal("Invalid path function");s=t}return p.normalizePaths(e,s)},t.handler=function(e,t){const s=r.attempt(t,p.schema,"Invalid directory handler options ("+e.path+")");o.assert("}"===e.path[e.path.length-1],"The route path for a directory handler must end with a parameter:",e.path);const l=/\w+/.exec(e.path.slice(e.path.lastIndexOf("{")))[0],u=e.settings.files.relativeTo,d=Array.isArray(s.path)?p.normalizePaths(u,s.path):null,h=!0===s.index?["index.html"]:s.index||[];return async(e,t)=>{const o=d||p.resolvePathOption(u,s.path.call(null,e)),r=e.params[l];if(r&&!s.showHidden&&p.isFileHidden(r))throw i.notFound(null,{});const m=e.path,f=m.endsWith("/"),g={confine:null,lookupCompressed:s.lookupCompressed,lookupMap:s.lookupMap,etagMethod:s.etagMethod},v=async o=>{g.confine=o;let l,u=r||"";try{return await c.load(u,e,g)}catch(e){a.ignore(e,"boom"),l=e}if(p.isNotFound(l)){if(!s.defaultExtension)throw l;return f&&(u=u.slice(0,-1)),await c.load(u+"."+s.defaultExtension,e,g)}if(p.isDirectory(l)){if(!1!==s.redirectToSlash&&!e.server.settings.router.stripTrailingSlash&&!f)return t.redirect(m+"/");for(const t of h){const s=n.join(u,t);try{return await c.load(s,e,g)}catch(e){if(a.ignore(e,"boom"),!p.isNotFound(e))throw i.internal(t+" is a directory",e)}}if(s.listing)return p.generateListing(n.join(o,u),m,r,f,s,e)}throw l};for(let e=0;e<o.length;++e)try{return await v(o[e])}catch(t){if(a.ignore(t,"boom"),!p.isNotFound(t)||e===o.length-1)throw t}throw i.notFound(null,{})}},p.generateListing=async function(e,t,s,n,r,c){let u;try{u=await l.readdir(e)}catch(e){throw a.rethrow(e,"system"),i.internal("Error accessing directory",e)}t=decodeURIComponent(t);const d=o.escapeHtml(t);let h="<html><head><title>"+d+"</title></head><body><h1>Directory: "+d+"</h1><ul>";if(s){const e=t.substring(0,t.lastIndexOf("/",t.length-(n?2:1)))+"/";h=h+'<li><a href="'+p.pathEncode(e)+'">Parent Directory</a></li>'}for(let e=0;e<u.length;++e)!r.showHidden&&p.isFileHidden(u[e])||(h=h+'<li><a href="'+p.pathEncode(t+(s&&!n?"/":"")+u[e])+'">'+o.escapeHtml(u[e])+"</a></li>");return h+="</ul></body></html>",c.generateResponse(h)},p.isFileHidden=function(e){return/(^|[\\\/])\.([^.\\\/]|\.[^\\\/])/.test(e)},p.pathEncode=function(e){return encodeURIComponent(e).replace(/%2F/g,"/").replace(/%5C/g,"\\")},p.isNotFound=function(e){return 404===e.output.statusCode},p.isDirectory=function(e){return 403===e.output.statusCode&&"EISDIR"===e.data.code}},function(e,t,s){"use strict";e.exports=v;var n,i=s(116),a=s(11),o=s(118),r=(n="function"==typeof Symbol&&"1"!==process.env._nodeLRUCacheForceNoSymbol?function(e){return Symbol(e)}:function(e){return"_"+e})("max"),c=n("length"),l=n("lengthCalculator"),p=n("allowStale"),u=n("maxAge"),d=n("dispose"),h=n("noDisposeOnSet"),m=n("lruList"),f=n("cache");function g(){return 1}function v(e){if(!(this instanceof v))return new v(e);"number"==typeof e&&(e={max:e}),e||(e={});var t=this[r]=e.max;(!t||"number"!=typeof t||t<=0)&&(this[r]=1/0);var s=e.length||g;"function"!=typeof s&&(s=g),this[l]=s,this[p]=e.stale||!1,this[u]=e.maxAge||0,this[d]=e.dispose,this[h]=e.noDisposeOnSet||!1,this.reset()}function x(e,t,s,n){var i=s.value;y(e,i)&&(w(e,s),e[p]||(i=void 0)),i&&t.call(n,i.value,i.key,e)}function b(e,t,s){var n=e[f].get(t);if(n){var i=n.value;y(e,i)?(w(e,n),e[p]||(i=void 0)):s&&e[m].unshiftNode(n),i&&(i=i.value)}return i}function y(e,t){if(!t||!t.maxAge&&!e[u])return!1;var s=Date.now()-t.now;return t.maxAge?s>t.maxAge:e[u]&&s>e[u]}function _(e){if(e[c]>e[r])for(var t=e[m].tail;e[c]>e[r]&&null!==t;){var s=t.prev;w(e,t),t=s}}function w(e,t){if(t){var s=t.value;e[d]&&e[d](s.key,s.value),e[c]-=s.length,e[f].delete(s.key),e[m].removeNode(t)}}function k(e,t,s,n,i){this.key=e,this.value=t,this.length=s,this.now=n,this.maxAge=i||0}Object.defineProperty(v.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),this[r]=e,_(this)},get:function(){return this[r]},enumerable:!0}),Object.defineProperty(v.prototype,"allowStale",{set:function(e){this[p]=!!e},get:function(){return this[p]},enumerable:!0}),Object.defineProperty(v.prototype,"maxAge",{set:function(e){(!e||"number"!=typeof e||e<0)&&(e=0),this[u]=e,_(this)},get:function(){return this[u]},enumerable:!0}),Object.defineProperty(v.prototype,"lengthCalculator",{set:function(e){"function"!=typeof e&&(e=g),e!==this[l]&&(this[l]=e,this[c]=0,this[m].forEach(function(e){e.length=this[l](e.value,e.key),this[c]+=e.length},this)),_(this)},get:function(){return this[l]},enumerable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this[c]},enumerable:!0}),Object.defineProperty(v.prototype,"itemCount",{get:function(){return this[m].length},enumerable:!0}),v.prototype.rforEach=function(e,t){t=t||this;for(var s=this[m].tail;null!==s;){var n=s.prev;x(this,e,s,t),s=n}},v.prototype.forEach=function(e,t){t=t||this;for(var s=this[m].head;null!==s;){var n=s.next;x(this,e,s,t),s=n}},v.prototype.keys=function(){return this[m].toArray().map(function(e){return e.key},this)},v.prototype.values=function(){return this[m].toArray().map(function(e){return e.value},this)},v.prototype.reset=function(){this[d]&&this[m]&&this[m].length&&this[m].forEach(function(e){this[d](e.key,e.value)},this),this[f]=new i,this[m]=new o,this[c]=0},v.prototype.dump=function(){return this[m].map(function(e){if(!y(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}},this).toArray().filter(function(e){return e})},v.prototype.dumpLru=function(){return this[m]},v.prototype.inspect=function(e,t){var s="LRUCache {",n=!1;this[p]&&(s+="\n  allowStale: true",n=!0);var i=this[r];i&&i!==1/0&&(n&&(s+=","),s+="\n  max: "+a.inspect(i,t),n=!0);var o=this[u];o&&(n&&(s+=","),s+="\n  maxAge: "+a.inspect(o,t),n=!0);var d=this[l];d&&d!==g&&(n&&(s+=","),s+="\n  length: "+a.inspect(this[c],t),n=!0);var h=!1;return this[m].forEach(function(e){h?s+=",\n  ":(n&&(s+=",\n"),h=!0,s+="\n  ");var i=a.inspect(e.key).split("\n").join("\n  "),r={value:e.value};e.maxAge!==o&&(r.maxAge=e.maxAge),d!==g&&(r.length=e.length),y(this,e)&&(r.stale=!0),r=a.inspect(r,t).split("\n").join("\n  "),s+=i+" => "+r}),(h||n)&&(s+="\n"),s+="}"},v.prototype.set=function(e,t,s){var n=(s=s||this[u])?Date.now():0,i=this[l](t,e);if(this[f].has(e)){if(i>this[r])return w(this,this[f].get(e)),!1;var a=this[f].get(e).value;return this[d]&&(this[h]||this[d](e,a.value)),a.now=n,a.maxAge=s,a.value=t,this[c]+=i-a.length,a.length=i,this.get(e),_(this),!0}var o=new k(e,t,i,n,s);return o.length>this[r]?(this[d]&&this[d](e,t),!1):(this[c]+=o.length,this[m].unshift(o),this[f].set(e,this[m].head),_(this),!0)},v.prototype.has=function(e){return!!this[f].has(e)&&!y(this,this[f].get(e).value)},v.prototype.get=function(e){return b(this,e,!0)},v.prototype.peek=function(e){return b(this,e,!1)},v.prototype.pop=function(){var e=this[m].tail;return e?(w(this,e),e.value):null},v.prototype.del=function(e){w(this,this[f].get(e))},v.prototype.load=function(e){this.reset();for(var t=Date.now(),s=e.length-1;s>=0;s--){var n=e[s],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var a=i-t;a>0&&this.set(n.k,n.v,a)}}},v.prototype.prune=function(){var e=this;this[f].forEach(function(t,s){b(e,s,!1)})}},function(e,t,s){"pseudomap"===process.env.npm_package_name&&"test"===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||process.env.TEST_PSEUDOMAP?e.exports=s(117):e.exports=Map},function(e,t){var s=Object.prototype.hasOwnProperty;function n(e){if(!(this instanceof n))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof n||"function"==typeof Map&&e instanceof Map)e.forEach(function(e,t){this.set(t,e)},this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach(function(e){this.set(e[0],e[1])},this)}}function i(e,t){return e===t||e!=e&&t!=t}function a(e,t,s){this.key=e,this.value=t,this._index=s}function o(e,t){for(var n=0,a="_"+t,o=a;s.call(e,o);o=a+n++)if(i(e[o].key,t))return e[o]}e.exports=n,n.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach(function(s){"size"!==s&&e.call(t,this._data[s].value,this._data[s].key)},this)},n.prototype.has=function(e){return!!o(this._data,e)},n.prototype.get=function(e){var t=o(this._data,e);return t&&t.value},n.prototype.set=function(e,t){!function(e,t,n){for(var o=0,r="_"+t,c=r;s.call(e,c);c=r+o++)if(i(e[c].key,t))return void(e[c].value=n);e.size++,e[c]=new a(t,n,c)}(this._data,e,t)},n.prototype.delete=function(e){var t=o(this._data,e);t&&(delete this._data[t._index],this._data.size--)},n.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(n.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.values=n.prototype.keys=n.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(e,t){function s(e){var t=this;if(t instanceof s||(t=new s),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function n(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,s,n){if(!(this instanceof a))return new a(e,t,s,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}e.exports=s,s.Node=a,s.create=s,s.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,s=e.prev;t&&(t.prev=s),s&&(s.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=s),e.list.length--,e.next=null,e.prev=null,e.list=null},s.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},s.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},s.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},s.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},s.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},s.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},s.prototype.forEach=function(e,t){t=t||this;for(var s=this.head,n=0;null!==s;n++)e.call(t,s.value,n,this),s=s.next},s.prototype.forEachReverse=function(e,t){t=t||this;for(var s=this.tail,n=this.length-1;null!==s;n--)e.call(t,s.value,n,this),s=s.prev},s.prototype.get=function(e){for(var t=0,s=this.head;null!==s&&t<e;t++)s=s.next;if(t===e&&null!==s)return s.value},s.prototype.getReverse=function(e){for(var t=0,s=this.tail;null!==s&&t<e;t++)s=s.prev;if(t===e&&null!==s)return s.value},s.prototype.map=function(e,t){t=t||this;for(var n=new s,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},s.prototype.mapReverse=function(e,t){t=t||this;for(var n=new s,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},s.prototype.reduce=function(e,t){var s,n=this.head;if(arguments.length>1)s=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,s=this.head.value}for(var i=0;null!==n;i++)s=e(s,n.value,i),n=n.next;return s},s.prototype.reduceReverse=function(e,t){var s,n=this.tail;if(arguments.length>1)s=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,s=this.tail.value}for(var i=this.length-1;null!==n;i--)s=e(s,n.value,i),n=n.prev;return s},s.prototype.toArray=function(){for(var e=new Array(this.length),t=0,s=this.head;null!==s;t++)e[t]=s.value,s=s.next;return e},s.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,s=this.tail;null!==s;t++)e[t]=s.value,s=s.prev;return e},s.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new s;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,a=this.head;null!==a&&i<e;i++)a=a.next;for(;null!==a&&i<t;i++,a=a.next)n.push(a.value);return n},s.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new s;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,a=this.tail;null!==a&&i>t;i--)a=a.prev;for(;null!==a&&i>e;i--,a=a.prev)n.push(a.value);return n},s.prototype.reverse=function(){for(var e=this.head,t=this.tail,s=e;null!==s;s=s.prev){var n=s.prev;s.prev=s.next,s.next=n}return this.head=t,this.tail=e,this}},function(e){e.exports={name:"inert",description:"Static file and directory handlers plugin for hapi.js",version:"5.1.2",repository:"https://github.com/hapijs/inert.git",main:"lib/index.js",keywords:["file","directory","handler","hapi","plugin"],dependencies:{ammo:"3.x.x",boom:"7.x.x",bounce:"1.x.x",hoek:"6.x.x",joi:"14.x.x","lru-cache":"4.1.x"},devDependencies:{code:"5.x.x",hapi:"17.x.x",lab:"17.x.x"},scripts:{test:"lab -f -a code -t 100 -L","test-cov-html":"lab -f -a code -r html -o coverage.html"},license:"BSD-3-Clause"}},function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new s(function(t){t(e.value)}).then(o,r)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=s(121);t.BaseComponent=a.BaseComponent;const o=i(s(123));t.UtilEnv=o;const r=i(s(51));t.UtilConstant=r;const c=s(124);t.Ioc=c.Ioc,t.connect=function(e){return n(this,void 0,void 0,function*(){yield _nucleus(e)})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(122);t.BaseComponent=class{constructor(){this.cmpId="",this.cmpName="",this.getService=void 0}_send(e,t){this._evtBus&&this._evtBus.emitAsync(e,t)}_sendWithReturn(e,t,s){return new Promise((i,a)=>{this._evtBus?(this._evtBus.once(t,e=>{i(e)}),this._evtBus.emitAsync(e,s)):a(Error(n.Errors.TECHNICAL.EVENTBUS_IS_NOT_DEFINED))})}_Receive(e,t){return this._evtBus?this._evtBus.on(e,t):{off:()=>void 0}}_ReceiveOnce(e,t){return this._evtBus?this._evtBus.once(e,t):{off:()=>void 0}}get identity(){return{cmpId:this.cmpId,cmpName:this.cmpName}}initialize(){}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=s(51).constantTree({TYPE:{TECHNICAL:"",BUSINESS:""},TECHNICAL:{EVENTBUS_IS_NOT_DEFINED:""}});t.Errors=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ioc=function(e){return function(t){t.prototype.__nc__Services=e}}}]);