!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constantTree=function e(t,n=""){for(let r in t){const o=`${n}${""!==n?".":""}${r}`;"string"==typeof t[r]&&0===t[r].length?t[r]=o:"object"==typeof t[r]&&e(t[r],o)}return t}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,c)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2);n(5).connect(class{constructor(){}entryPoint(e){return r(this,void 0,void 0,function*(){e.Service.registerService("nes","com.nucleus",{serviceDefinition:o})})}})},function(e,t,n){"use strict";(function(e,r){var o,i,s,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"==typeof window||window,s=function(){var e=function(){},t={TIMEOUT:"timeout",DISCONNECT:"disconnect",SERVER:"server",PROTOCOL:"protocol",WS:"ws",USER:"user"},n=function(e,t){"string"==typeof e&&(e=new Error(e)),e.type=t,e.isNes=!0;try{throw e}catch(e){return e}},r={1000:"Normal closure",1001:"Going away",1002:"Protocol error",1003:"Unsupported data",1004:"Reserved",1005:"No status received",1006:"Abnormal closure",1007:"Invalid frame payload data",1008:"Policy violation",1009:"Message too big",1010:"Mandatory extension",1011:"Internal server error",1015:"TLS handshake"},o=function(t,n){n=n||{},this._url=t,this._settings=n,this._heartbeatTimeout=!1,this._ws=null,this._reconnection=null,this._reconnectionTimer=null,this._ids=0,this._requests={},this._subscriptions={},this._heartbeat=null,this._packets=[],this._disconnectListeners=null,this._disconnectRequested=!1,this.onError=function(e){return console.error(e)},this.onConnect=e,this.onDisconnect=e,this.onHeartbeatTimeout=e,this.onUpdate=e,this.id=null};return o.WebSocket="undefined"==typeof WebSocket?null:WebSocket,o.prototype.connect=function(e){var r=this;return e=e||{},this._reconnection?Promise.reject(new n("Cannot connect while client attempts to reconnect",t.USER)):this._ws?Promise.reject(new n("Already connected",t.USER)):(this._reconnection=!1===e.reconnect?null:{wait:0,delay:e.delay||1e3,maxDelay:e.maxDelay||5e3,retries:e.retries||1/0,settings:{auth:e.auth,timeout:e.timeout}},new Promise(function(t,n){r._connect(e,!0,function(e){return e?n(e):t()})}))},o.prototype._connect=function(e,i,s){var c=this,u=new o.WebSocket(this._url,this._settings.ws);this._ws=u,clearTimeout(this._reconnectionTimer),this._reconnectionTimer=null;var a=function(e){u.onopen&&l(new n("Connection terminated while waiting to connect",t.WS));var o=c._disconnectRequested;c._cleanup();var i={code:e.code,explanation:r[e.code]||"Unknown",reason:e.reason,wasClean:e.wasClean,willReconnect:c._willReconnect(),wasRequested:o};c.onDisconnect(i.willReconnect,i),c._reconnect()},l=function(e){if(s){var t=s;return s=null,t(e)}return c.onError(e)},h=e.timeout?setTimeout(function(){if(c._cleanup(),l(new n("Connection timed out",t.TIMEOUT)),i)return c._reconnect()},e.timeout):null;u.onopen=function(){clearTimeout(h),u.onopen=null,c._hello(e.auth).then(function(){c.onConnect(),l()}).catch(function(e){e.path&&delete c._subscriptions[e.path],c._disconnect(function(){return function(e){return function(t){setTimeout(function(){return e(t)},0)}}(l)(e)},!0)})},u.onerror=function(e){if(clearTimeout(h),c._willReconnect())return a(e);c._cleanup();var r=new n("Socket error",t.WS);return l(r)},u.onclose=a,u.onmessage=function(e){return c._onMessage(e)}},o.prototype.overrideReconnectionAuth=function(e){return!!this._reconnection&&(this._reconnection.settings.auth=e,!0)},o.prototype.reauthenticate=function(e){return this.overrideReconnectionAuth(e),this._send({type:"reauth",auth:e},!0)},o.prototype.disconnect=function(){var e=this;return new Promise(function(t){return e._disconnect(t,!1)})},o.prototype._disconnect=function(e,t){this._reconnection=null,clearTimeout(this._reconnectionTimer),this._reconnectionTimer=null;var n=this._disconnectRequested||!t;return this._disconnectListeners?(this._disconnectRequested=n,void this._disconnectListeners.push(e)):!this._ws||this._ws.readyState!==o.WebSocket.OPEN&&this._ws.readyState!==o.WebSocket.CONNECTING?e():(this._disconnectRequested=n,this._disconnectListeners=[e],void this._ws.close())},o.prototype._cleanup=function(){if(this._ws){var r=this._ws;this._ws=null,r.readyState!==o.WebSocket.CLOSED&&r.readyState!==o.WebSocket.CLOSING&&r.close(),r.onopen=null,r.onclose=null,r.onerror=e,r.onmessage=null}this._packets=[],this.id=null,clearTimeout(this._heartbeat),this._heartbeat=null;var i=new n("Request failed - server disconnected",t.DISCONNECT),s=this._requests;this._requests={};for(var c=Object.keys(s),u=0;u<c.length;++u){var a=s[c[u]];clearTimeout(a.timeout),a.reject(i)}if(this._disconnectListeners){var l=this._disconnectListeners;this._disconnectListeners=null,this._disconnectRequested=!1,l.forEach(function(e){return e()})}},o.prototype._reconnect=function(){var t=this,n=this._reconnection;if(n){if(1>n.retries)return this._disconnect(e,!0);--n.retries,n.wait+=n.delay;var r=Math.min(n.wait,n.maxDelay);this._reconnectionTimer=setTimeout(function(){t._connect(n.settings,!1,function(e){if(e)return t.onError(e),t._reconnect()})},r)}},o.prototype.request=function(e){"string"==typeof e&&(e={method:"GET",path:e});var t={type:"request",method:e.method||"GET",path:e.path,headers:e.headers,payload:e.payload};return this._send(t,!0)},o.prototype.message=function(e){return this._send({type:"message",message:e},!0)},o.prototype._isReady=function(){return this._ws&&this._ws.readyState===o.WebSocket.OPEN},o.prototype._send=function(e,r){if(!this._isReady())return Promise.reject(new n("Failed to send message - server disconnected",t.DISCONNECT));e.id=++this._ids;try{var o=function(e){try{return JSON.stringify(e)}catch(e){throw new n(e,t.USER)}}(e)}catch(e){return Promise.reject(e)}if(!r)try{return this._ws.send(o),Promise.resolve()}catch(e){return Promise.reject(new n(e,t.WS))}var i={resolve:null,reject:null,timeout:null},s=new Promise(function(e,t){i.resolve=e,i.reject=t});this._settings.timeout&&(i.timeout=setTimeout(function(){return i.timeout=null,i.reject(new n("Request timed out",t.TIMEOUT))},this._settings.timeout)),this._requests[e.id]=i;try{this._ws.send(o)}catch(r){return clearTimeout(this._requests[e.id].timeout),delete this._requests[e.id],Promise.reject(new n(r,t.WS))}return s},o.prototype._hello=function(e){var t={type:"hello",version:"2"};e&&(t.auth=e);var n=this.subscriptions();return n.length&&(t.subs=n),this._send(t,!0)},o.prototype.subscriptions=function(){return Object.keys(this._subscriptions)},o.prototype.subscribe=function(e,r){var o=this;if(!e||"/"!==e[0])return Promise.reject(new n("Invalid path",t.USER));var i=this._subscriptions[e];if(i)return-1===i.indexOf(r)&&i.push(r),Promise.resolve();if(this._subscriptions[e]=[r],!this._isReady())return Promise.resolve();var s=this._send({type:"sub",path:e},!0);return s.catch(function(){delete o._subscriptions[e]}),s},o.prototype.unsubscribe=function(r,o){if(!r||"/"!==r[0])return Promise.reject(new n("Invalid path",t.USER));var i=this._subscriptions[r];if(!i)return Promise.resolve();var s=!1;if(o){var c=i.indexOf(o);if(-1===c)return Promise.resolve();i.splice(c,1),i.length||(delete this._subscriptions[r],s=!0)}else delete this._subscriptions[r],s=!0;if(!s||!this._isReady())return Promise.resolve();var u=this._send({type:"unsub",path:r},!0);return u.catch(e),u},o.prototype._onMessage=function(r){this._beat();var o=r.data,i=o[0];if("{"!==i){if(this._packets.push(o.slice(1)),"!"!==i)return;o=this._packets.join(""),this._packets=[]}this._packets.length&&(this._packets=[],this.onError(new n("Received an incomplete message",t.PROTOCOL)));try{var s=JSON.parse(o)}catch(e){return this.onError(new n(e,t.PROTOCOL))}var c=null;if(s.statusCode&&400<=s.statusCode&&((c=new n(s.payload.message||s.payload.error||"Error",t.SERVER)).statusCode=s.statusCode,c.data=s.payload,c.headers=s.headers,c.path=s.path),"ping"===s.type)return this._send({type:"ping"},!1).catch(e);if("update"===s.type)return this.onUpdate(s.message);if("pub"!==s.type&&"revoke"!==s.type){var u=this._requests[s.id];if(!u)return this.onError(new n("Received response for unknown request",t.PROTOCOL));clearTimeout(u.timeout),delete this._requests[s.id];var a=function(e,t){return e?u.reject(e):u.resolve(t)};return"request"===s.type?a(c,{payload:s.payload,statusCode:s.statusCode,headers:s.headers}):"message"===s.type?a(c,{payload:s.message}):"hello"===s.type?(this.id=s.socket,s.heartbeat&&(this._heartbeatTimeout=s.heartbeat.interval+s.heartbeat.timeout,this._beat()),a(c)):"reauth"===s.type?a(c,!0):"sub"===s.type||"unsub"===s.type?a(c):(a(new n("Received invalid response",t.PROTOCOL)),this.onError(new n("Received unknown response type: "+s.type,t.PROTOCOL)))}var l=this._subscriptions[s.path];if("revoke"===s.type&&delete this._subscriptions[s.path],l&&void 0!==s.message){var h={};"revoke"===s.type&&(h.revoked=!0);for(var p=0;p<l.length;++p)l[p](s.message,h)}},o.prototype._beat=function(){var e=this;this._heartbeatTimeout&&(clearTimeout(this._heartbeat),this._heartbeat=setTimeout(function(){e.onError(new n("Disconnecting due to heartbeat timeout",t.TIMEOUT)),e.onHeartbeatTimeout(e._willReconnect()),e._ws.close()},this._heartbeatTimeout))},o.prototype._willReconnect=function(){return!!(this._reconnection&&1<=this._reconnection.retries)},{Client:o}},"object"===c(t)&&"object"===c(r)?r.exports=s():void 0===(i="function"==typeof(o=s)?o.call(t,n,t,r):o)||(r.exports=i)}).call(this,n(3),n(4)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(6);t.BaseComponent=o.BaseComponent;const i=r(n(8));t.UtilEnv=i;const s=r(n(0));t.UtilConstant=s,t.connect=function(e){_nucleus(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);t.BaseComponent=class{constructor(){this.cmpId="",this.cmpName=""}_send(e,t){this._evtBus&&this._evtBus.emitAsync(e,t)}_sendWithReturn(e,t,n){return new Promise((o,i)=>{this._evtBus?(this._evtBus.once(t,e=>{o(e)}),this._evtBus.emitAsync(e,n)):i(Error(r.Errors.TECHNICAL.EVENTBUS_IS_NOT_DEFINED))})}_Receive(e,t){return this._evtBus?this._evtBus.on(e,t):{off:()=>void 0}}_ReceiveOnce(e,t){return this._evtBus?this._evtBus.once(e,t):{off:()=>void 0}}get identity(){return{cmpId:this.cmpId,cmpName:this.cmpName}}initialize(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(0).constantTree({TYPE:{TECHNICAL:"",BUSINESS:""},TECHNICAL:{EVENTBUS_IS_NOT_DEFINED:""}});t.Errors=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}}).call(this,n(9))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,a=[],l=!1,h=-1;function p(){l&&u&&(l=!1,u.length?a=u.concat(a):h=-1,a.length&&f())}function f(){if(!l){var e=c(p);l=!0;for(var t=a.length;t;){for(u=a,a=[];++h<t;)u&&u[h].run();h=-1,t=a.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function _(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new d(e,t)),1!==a.length||l||c(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}]);